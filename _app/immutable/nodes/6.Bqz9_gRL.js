import{t as u,a as t,c as S,b as d}from"../chunks/D91PLHXj.js";import"../chunks/D1uVUdUJ.js";import{p as E,c as F,u as N,r as G,t as D,a as J,f as v,g as L,n as f,s as b}from"../chunks/BnlJGgOP.js";import{s as V}from"../chunks/CyLCGewD.js";import{a as Q}from"../chunks/DBpeIFFK.js";import{p as W,b as X,r as Z,i as tt}from"../chunks/B763vZ0f.js";import{i as et}from"../chunks/gJNj41QD.js";import{g as Y}from"../chunks/CBYtLTUQ.js";import{b as q}from"../chunks/CW4c6UbU.js";import{c as rt,P as st,a as at,B as A}from"../chunks/D6HYcvAb.js";import{b as ot,C as T,a as U}from"../chunks/CmXAeFjv.js";import{C as it}from"../chunks/CaXR7EO6.js";import{b as lt,c as nt}from"../chunks/DD8gV6Kh.js";import{j as ct}from"../chunks/CD2N6fI6.js";var dt=u("<div><!></div>");function z(g,a){E(a,!0);let m=W(a,"ref",15,null),x=Z(a,["$$slots","$$events","$$legacy","ref","class","children"]);var o=dt();let $;var C=F(o);lt(C,()=>a.children??N),G(o),X(o,e=>m(e),()=>m()),D(e=>$=nt(o,$,{class:e,...x}),[()=>rt("flex items-center p-6 pt-0",a.class)]),t(g,o),J()}var ft=u("<!> <!>",1),$t=u("<!> <!>",1),pt=u("<!> <!>",1),vt=u("<!> <!>",1),ut=u('<div class="flex items-center justify-center"><!></div>');function Ot(g,a){E(a,!1);const m=fetch(st+at+"/join/info"+location.search,{mode:"cors",credentials:"include"}).then(e=>e.json());function x(){window.close.bind(window),Y(q+"/")}async function o(){const e=(await m).id;(await ct(e)).status!==200&&await Y(`${q}/registration${location.search}&project=${e}`)}et();var $=ut(),C=F($);ot(C,{children:(e,K)=>{var H=S(),M=v(H);Q(M,()=>m,j=>{T(j,{children:(_,w)=>{U(_,{children:(k,R)=>{f();var y=d("Validating invite...");t(k,y)},$$slots:{default:!0}})},$$slots:{default:!0}})},(j,_)=>{var w=S(),k=v(w);{var R=p=>{var h=pt(),P=v(h);T(P,{children:(i,I)=>{var r=ft(),l=v(r);U(l,{children:(c,O)=>{f();var s=d();D(()=>V(s,`You've been invited to "${L(_).title??""}"`)),t(c,s)},$$slots:{default:!0}});var n=b(l,2);it(n,{children:(c,O)=>{f();var s=d();D(()=>V(s,L(_).description)),t(c,s)},$$slots:{default:!0}}),t(i,r)},$$slots:{default:!0}});var B=b(P,2);z(B,{class:"flex justify-between",children:(i,I)=>{var r=$t(),l=v(r);A(l,{onclick:o,children:(c,O)=>{f();var s=d("Accept");t(c,s)},$$slots:{default:!0}});var n=b(l,2);A(n,{onclick:x,variant:"outline",children:(c,O)=>{f();var s=d("Decline");t(c,s)},$$slots:{default:!0}}),t(i,r)},$$slots:{default:!0}}),t(p,h)},y=p=>{var h=vt(),P=v(h);T(P,{children:(i,I)=>{U(i,{children:(r,l)=>{f();var n=d("Invalid or expired invite :(");t(r,n)},$$slots:{default:!0}})},$$slots:{default:!0}});var B=b(P,2);z(B,{children:(i,I)=>{A(i,{onclick:x,children:(r,l)=>{f();var n=d("Close");t(r,n)},$$slots:{default:!0}})},$$slots:{default:!0}}),t(p,h)};tt(k,p=>{L(_).exists?p(R):p(y,!1)})}t(j,w)}),t(e,H)},$$slots:{default:!0}}),G($),t(g,$),J()}export{Ot as component};
