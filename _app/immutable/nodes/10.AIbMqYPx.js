import{t as L,a as w,b as R}from"../chunks/D91PLHXj.js";import{p as B,b as h,a as S,c as t,s as a,h as v,g as s,r as o,n as T}from"../chunks/BnlJGgOP.js";import{a as U}from"../chunks/DD8gV6Kh.js";import{b as x}from"../chunks/CW4c6UbU.js";import{g as j}from"../chunks/CBYtLTUQ.js";import{B as A,P as Y,a as z}from"../chunks/D6HYcvAb.js";import{I as P}from"../chunks/5t0qSbAN.js";import"../chunks/D1uVUdUJ.js";import{t as n}from"../chunks/-OJtI3Vh.js";var E=L('<div class="grid grid-cols-1 grid-rows-3 sm:h-dvh sm:grid-cols-3 sm:grid-rows-1"><div class="row-span-1 bg-primary p-10 dark:bg-secondary sm:col-span-1"><a><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight text-primary-foreground dark:text-secondary-foreground lg:text-5xl">Pleiades</h1></a></div> <div class="row-span-2 flex flex-col items-center p-10 sm:col-span-2 sm:items-start sm:justify-center"><h1 class="scroll-m-20 pb-5 text-4xl font-extrabold tracking-tight lg:text-5xl">Reset Password</h1> <small class="mb-5 text-sm font-medium leading-none text-muted-foreground">Enter a new password.</small> <form class="grid w-full max-w-sm items-center gap-1.5"><!> <!> <!></form></div></div>');function M(b,y){B(y,!0);let e=h(""),l=h("");function _(){return/[A-Z]/.test(s(e))&&/[a-z]/.test(s(e))}function k(){return s(e).length<8||!_()||!/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(s(e))?(n.error("Your password must be at least 8 characters, have at least one upper case and lower case letter, and contain at least one special character."),!1):s(e)!==s(l)?(n.error("Your passwords do not match."),!1):!0}async function C(){if(!k())return;let g=new URLSearchParams(document.location.search).get("token")??"";const c=Y+z+"/resetPassword",I={token:g,newPassword:s(e)};(await fetch(c,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)})).status!==200?n.error("Failed to reset password."):(n.success("Password reset successfully."),await j(x+"/login"))}var d=E(),i=t(d),O=t(i);U(O,"href",x+"/"),o(i);var m=a(i,2),p=a(t(m),4),u=t(p);P(u,{type:"password",id:"password",placeholder:"Password",get value(){return s(e)},set value(r){v(e,r,!0)}});var f=a(u,2);P(f,{type:"password",id:"confirm password",placeholder:"Confirm password",get value(){return s(l)},set value(r){v(l,r,!0)}});var $=a(f,2);A($,{onclick:C,children:(r,g)=>{T();var c=R("Reset password");w(r,c)},$$slots:{default:!0}}),o(p),o(m),o(d),w(b,d),S()}export{M as component};
