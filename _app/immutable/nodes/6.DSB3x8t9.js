import{t as C,a as n,b,s as U}from"../chunks/BxJcHDiT.js";import{i as E}from"../chunks/CyDjST6U.js";import{p as A,a as S,h as d,m as g,g as a,s as r,c as o,r as i,n as y,t as G}from"../chunks/BWcBE-35.js";import{i as H}from"../chunks/T__ZdOdR.js";import{s as J}from"../chunks/CxkHGz0Y.js";import{g as I,b as f}from"../chunks/oUgZkdMv.js";import{B as P,P as N,a as q}from"../chunks/DFX505-q.js";import{I as k}from"../chunks/DUd05mCT.js";import{r as z,t as D}from"../chunks/D8vF23JV.js";var F=C('<div class="rounded-lg bg-red-100 p-2 text-red-700"> </div>'),K=C('<div class="grid grid-cols-1 grid-rows-3 sm:h-dvh sm:grid-cols-3 sm:grid-rows-1"><div class="bg-primary dark:bg-secondary row-span-1 p-10 sm:col-span-1"><a><h1 class="text-primary-foreground dark:text-secondary-foreground scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Pleiades</h1></a></div> <div class="row-span-2 flex flex-col items-center p-10 sm:col-span-2 sm:items-start sm:justify-center"><h1 class="scroll-m-20 pb-5 text-4xl font-extrabold tracking-tight lg:text-5xl">Login</h1> <div class="grid w-full max-w-sm items-center gap-1.5"><!> <!> <!> <!> <!></div></div></div>');function ae(L,j){A(j,!1);let c=g(""),m=g(""),l=g("");async function B(){const t=await(await fetch(N+q+`/login?email=${encodeURIComponent(a(c))}&password=${encodeURIComponent(a(m))}`,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}})).json();t.exists?(z("login"),d(l,""),localStorage.myId=t.userId,await D()||await I(f+"/home")):d(l,"Invalid Login")}E();var p=K(),v=o(p),O=o(v);J(O,"href",f+"/"),i(v);var u=r(v,2),x=r(o(u),2),h=o(x);{var R=e=>{var t=F(),s=o(t,!0);i(t),G(()=>U(s,a(l))),n(e,t)};H(h,e=>{a(l)&&e(R)})}var _=r(h,2);k(_,{type:"email",id:"email",placeholder:"Email",get value(){return a(c)},set value(e){d(c,e)},$$legacy:!0});var w=r(_,2);k(w,{type:"password",id:"password",placeholder:"Password",get value(){return a(m)},set value(e){d(m,e)},$$legacy:!0});var $=r(w,2);P($,{onclick:B,children:(e,t)=>{y();var s=b("Login");n(e,s)},$$slots:{default:!0}});var T=r($,2);P(T,{variant:"link",onclick:()=>I(f+"/registration"),children:(e,t)=>{y();var s=b("Register New Account");n(e,s)},$$slots:{default:!0}}),i(x),i(u),i(p),n(L,p),S()}export{ae as component};
