import{t as E,a as s,b as f,e as H}from"../chunks/D91PLHXj.js";import"../chunks/D1uVUdUJ.js";import{p as N,a as S,c as i,s as e,h as n,m as _,g as o,f as z,r as d,n as u,t as D}from"../chunks/BnlJGgOP.js";import{h as F,s as J}from"../chunks/CyLCGewD.js";import{i as q}from"../chunks/B763vZ0f.js";import{a as h}from"../chunks/DD8gV6Kh.js";import{i as K}from"../chunks/gJNj41QD.js";import{g as M}from"../chunks/CBYtLTUQ.js";import{b as L}from"../chunks/CW4c6UbU.js";import{B as x,G as Q,P as C,a as O}from"../chunks/D6HYcvAb.js";import{I as T}from"../chunks/5t0qSbAN.js";import{r as V,t as W}from"../chunks/CD2N6fI6.js";var X=H('<script src="https://accounts.google.com/gsi/client" async defer><\/script><!---->',1),Y=E('<div class="rounded-lg bg-red-100 p-2 text-red-700"> </div>'),Z=E('<div class="grid grid-cols-1 grid-rows-3 sm:h-dvh sm:grid-cols-3 sm:grid-rows-1"><div class="bg-primary dark:bg-secondary row-span-1 p-10 sm:col-span-1"><a><h1 class="text-primary-foreground dark:text-secondary-foreground scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Pleiades</h1></a></div> <div class="row-span-2 flex flex-col items-center p-10 sm:col-span-2 sm:items-start sm:justify-center"><h1 class="scroll-m-20 pb-5 text-4xl font-extrabold tracking-tight lg:text-5xl">Login</h1> <div class="grid w-full max-w-sm items-center gap-1.5"><!> <!> <!> <!> <div id="g_id_onload" data-context="signin" data-ux_mode="redirect" data-auto_prompt="false"></div> <div class="g_id_signin" data-type="standard" data-shape="rectangular" data-theme="outline" data-text="signin_with" data-size="large" data-logo_alignment="left"></div> <!> <!></div></div></div>');function pt(U,j){N(j,!1);let c=_(""),m=_(""),l=_("");async function B(){const a=await(await fetch(C+O+`/login?email=${encodeURIComponent(o(c))}&password=${encodeURIComponent(o(m))}`,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}})).json();a.exists?(V("login"),n(l,""),localStorage.myId=a.userId,await W()||await M(L+"/home")):n(l,"Invalid Login")}K();var p=Z();F(t=>{var a=X();e(z(a)),s(t,a)});var g=i(p),G=i(g);h(G,"href",L+"/"),d(g);var w=e(g,2),$=e(i(w),2),y=i($);{var R=t=>{var a=Y(),r=i(a,!0);d(a),D(()=>J(r,o(l))),s(t,a)};q(y,t=>{o(l)&&t(R)})}var b=e(y,2);T(b,{type:"email",id:"email",placeholder:"Email",get value(){return o(c)},set value(t){n(c,t)},$$legacy:!0});var P=e(b,2);T(P,{type:"password",id:"password",placeholder:"Password",get value(){return o(m)},set value(t){n(m,t)},$$legacy:!0});var I=e(P,2);x(I,{onclick:B,children:(t,a)=>{u();var r=f("Login");s(t,r)},$$slots:{default:!0}});var v=e(I,2);h(v,"data-client_id",Q),h(v,"data-login_uri",C+O+"/login/google");var k=e(v,4);x(k,{variant:"link",href:"forgotPassword",children:(t,a)=>{u();var r=f("Forgot Password?");s(t,r)},$$slots:{default:!0}});var A=e(k,2);x(A,{variant:"link",href:"registration",children:(t,a)=>{u();var r=f("Register New Account");s(t,r)},$$slots:{default:!0}}),d($),d(w),d(p),s(U,p),S()}export{pt as component};
