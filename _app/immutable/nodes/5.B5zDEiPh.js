import{t as u,a as t,c as S,b as d,s as V}from"../chunks/BxJcHDiT.js";import{i as N}from"../chunks/CyDjST6U.js";import{p as E,c as F,H as Q,r as G,t as U,a as J,f as p,g as L,n as $,s as b}from"../chunks/BWcBE-35.js";import{a as W}from"../chunks/CuFQt8Si.js";import{p as X,b as Z,r as tt,i as et}from"../chunks/T__ZdOdR.js";import{g as Y,b as q}from"../chunks/oUgZkdMv.js";import{c as rt,P as st,a as at,B as A}from"../chunks/DFX505-q.js";import{C as ot,a as H,b as T,c as it}from"../chunks/wo-gWPYw.js";import{a as lt,b as nt}from"../chunks/CxkHGz0Y.js";import{j as ct}from"../chunks/D8vF23JV.js";var dt=u("<div><!></div>");function z(g,a){E(a,!0);let _=X(a,"ref",15,null),x=tt(a,["$$slots","$$events","$$legacy","ref","class","children"]);var o=dt();let f;var C=F(o);lt(C,()=>a.children??Q),G(o),Z(o,e=>_(e),()=>_()),U(e=>f=nt(o,f,{class:e,...x}),[()=>rt("flex items-center p-6 pt-0",a.class)]),t(g,o),J()}var $t=u("<!> <!>",1),ft=u("<!> <!>",1),vt=u("<!> <!>",1),pt=u("<!> <!>",1),ut=u('<div class="flex items-center justify-center"><!></div>');function kt(g,a){E(a,!1);const _=fetch(st+at+"/join/info"+location.search,{mode:"cors",credentials:"include"}).then(e=>e.json());function x(){window.close.bind(window),Y(q+"/")}async function o(){const e=(await _).id;(await ct(e)).status!==200&&Y(`${q}/registration${location.search}&project=${e}`)}N();var f=ut(),C=F(f);ot(C,{children:(e,K)=>{var D=S(),M=p(D);W(M,()=>_,j=>{H(j,{children:(m,w)=>{T(m,{children:(k,R)=>{$();var y=d("Validating invite...");t(k,y)},$$slots:{default:!0}})},$$slots:{default:!0}})},(j,m)=>{var w=S(),k=p(w);{var R=v=>{var h=vt(),P=p(h);H(P,{children:(i,I)=>{var r=$t(),l=p(r);T(l,{children:(c,O)=>{$();var s=d();U(()=>V(s,`You've been invited to "${L(m).title??""}"`)),t(c,s)},$$slots:{default:!0}});var n=b(l,2);it(n,{children:(c,O)=>{$();var s=d();U(()=>V(s,L(m).description)),t(c,s)},$$slots:{default:!0}}),t(i,r)},$$slots:{default:!0}});var B=b(P,2);z(B,{class:"flex justify-between",children:(i,I)=>{var r=ft(),l=p(r);A(l,{onclick:o,children:(c,O)=>{$();var s=d("Accept");t(c,s)},$$slots:{default:!0}});var n=b(l,2);A(n,{onclick:x,variant:"outline",children:(c,O)=>{$();var s=d("Decline");t(c,s)},$$slots:{default:!0}}),t(i,r)},$$slots:{default:!0}}),t(v,h)},y=v=>{var h=pt(),P=p(h);H(P,{children:(i,I)=>{T(i,{children:(r,l)=>{$();var n=d("Invalid or expired invite :(");t(r,n)},$$slots:{default:!0}})},$$slots:{default:!0}});var B=b(P,2);z(B,{children:(i,I)=>{A(i,{onclick:x,children:(r,l)=>{$();var n=d("Close");t(r,n)},$$slots:{default:!0}})},$$slots:{default:!0}}),t(v,h)};et(k,v=>{L(m).exists?v(R):v(y,!1)})}t(j,w)}),t(e,D)},$$slots:{default:!0}}),G(f),t(g,f),J()}export{kt as component};
