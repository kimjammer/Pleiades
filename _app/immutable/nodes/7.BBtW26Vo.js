var Dx=Object.defineProperty;var dp=n=>{throw TypeError(n)};var Ex=(n,e,t)=>e in n?Dx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var R=(n,e,t)=>Ex(n,typeof e!="symbol"?e+"":e,t),mh=(n,e,t)=>e.has(n)||dp("Cannot "+t);var x=(n,e,t)=>(mh(n,e,"read from private field"),t?t.call(n):e.get(n)),M=(n,e,t)=>e.has(n)?dp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),mt=(n,e,t,r)=>(mh(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Fe=(n,e,t)=>(mh(n,e,"access private method"),t);import{z as Ix,A as Rx,c as I,a as b,t as $,b as Le,s as Xe,x as Ni,q as Jt,e as em}from"../chunks/BxJcHDiT.js";import{i as ac}from"../chunks/CyDjST6U.js";import{U as nb,N as Nx,P as Fx,a as Lx,c as rb,e as fp,H as jx,s as Bx,d as ib,f as zx,i as sb,h as Hc,j as Vx,g as Da,b as Ea}from"../chunks/oUgZkdMv.js";import{ao as ab,ai as Wx,a_ as Ux,Y as ob,I as _t,J as Hx,O as ot,aX as Zx,aq as hp,E as Yx,a$ as $x,b0 as Gx,b1 as Kx,ad as qx,z as Xx,H as Ae,B as gp,A as mp,aE as Jx,a2 as Qx,_ as ew,aS as tw,a1 as is,b as ee,e as ct,h as H,L as Qe,g,R as C,K as lb,p as re,f as P,a as ie,c as ne,r as Q,t as fe,d as yt,o as Zs,s as X,n as Ie,aZ as nw,af as lu,aQ as wa,aD as tm,aC as bn,b2 as ph,aV as Ia,b3 as nm,aO as Lt,m as Ht,aP as Hf,b4 as vh,b5 as rw,b6 as iw,aU as rm}from"../chunks/BWcBE-35.js";import{d as sw,f as aw,b as B,C as un,u as Ze,w as Zt,a as Ue,m as ze,g as cu,s as ow,h as cb,j as lw,k as cw,e as ub,o as db,I as cr,l as im,p as uw,U as sm,n as fb,P as dw}from"../chunks/CLub_Ol9.js";import{a as pp}from"../chunks/CuFQt8Si.js";import{p as w,r as ye,i as ve,b as ir,s as Pe,l as nn,d as hb,e as Hr,a as gb}from"../chunks/T__ZdOdR.js";import{s as pn,e as xt,i as wt,t as mb}from"../chunks/RQUiwfq5.js";import{c as Y}from"../chunks/B3he4F7n.js";import{a as le,b as Oe,r as Ra,s as ni,e as pb,d as fw,f as Sa,g as vp,c as yh,h as yp}from"../chunks/CxkHGz0Y.js";import{c as et,b as bp,a as uu,t as vb,d as hw,B as gn,P as yb,e as Ys,f as bb,g as gw}from"../chunks/DFX505-q.js";import{A as ji,e as oc,f as lc,g as Bi,E as am,i as Zf,H as om,h as ur,j as Ct,k as dr,l as Gi,m as Ki,n as yi,o as Yf,p as $t,q as St,P as _b,r as Bn,s as bi,t as mw,u as pw,v as vw,w as xb,x as yw,y as lm,z as bw,F as _w,B as _p,C as xw,G as ww,I as Sw,J as Tw,K as kw,L as Pw,M as Aw,N as Mw,O as wb,Q as Ow,U as Cw,V as Dw,W as Na,X as cm,Y as Ew,Z as Sb,_ as Iw,$ as Rw,a0 as Nw,a1 as Fw,a2 as Lw,a3 as jw,a4 as Bw,a5 as Tb,a6 as rg,a7 as zw,a8 as Vw,a9 as kb,aa as Ww,ab as xp,ac as Uw,ad as Hw,ae as um,R as Ds,T as Fa,D as Es,a as Is,b as dm,c as fm,d as hm,S as wp,af as Pb}from"../chunks/BrFQzm4h.js";import{b as Zw,I as Pr}from"../chunks/DUd05mCT.js";/* empty css                */import{L as Ab}from"../chunks/D7W7-k83.js";import{C as Yw,a as $w,b as Gw,c as Kw}from"../chunks/wo-gWPYw.js";import{r as ig}from"../chunks/D8vF23JV.js";const qw=[];function Rs(n,e=!1){return Zc(n,new Map,"",qw)}function Zc(n,e,t,r,i=null){if(typeof n=="object"&&n!==null){var s=e.get(n);if(s!==void 0)return s;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(ab(n)){var a=Array(n.length);e.set(n,a),i!==null&&e.set(i,a);for(var o=0;o<n.length;o+=1){var l=n[o];o in n&&(a[o]=Zc(l,e,t,r))}return a}if(Wx(n)===Ux){a={},e.set(n,a),i!==null&&e.set(i,a);for(var c in n)a[c]=Zc(n[c],e,t,r);return a}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function")return Zc(n.toJSON(),e,t,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}function sg(n,e,t){ob(()=>{var r=_t(()=>e(n,t==null?void 0:t())||{});if(t&&(r!=null&&r.update)){var i=!1,s={};Hx(()=>{var a=t();ot(a),i&&Zx(s,a)&&(s=a,r.update(a))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}const Xw=()=>performance.now(),kr={tick:n=>requestAnimationFrame(n),now:()=>Xw(),tasks:new Set};function Mb(){const n=kr.now();kr.tasks.forEach(e=>{e.c(n)||(kr.tasks.delete(e),e.f())}),kr.tasks.size!==0&&kr.tick(Mb)}function Jw(n){let e;return kr.tasks.size===0&&kr.tick(Mb),{promise:new Promise(t=>{kr.tasks.add(e={c:n,f:t})}),abort(){kr.tasks.delete(e)}}}function bc(n,e){Rx(()=>{n.dispatchEvent(new CustomEvent(e))})}function Qw(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Sp(n){const e={},t=n.split(";");for(const r of t){const[i,s]=r.split(":");if(!i||s===void 0)break;const a=Qw(i.trim());e[a]=s.trim()}return e}const e1=n=>n;function t1(n,e,t,r){var i=(n&Kx)!==0,s="both",a,o=e.inert,l=e.style.overflow,c,u;function d(){var v=Jx,y=hp;gp(null),mp(null);try{return a??(a=t()(e,(r==null?void 0:r())??{},{direction:s}))}finally{gp(v),mp(y)}}var h={is_global:i,in(){e.inert=o,bc(e,"introstart"),c=ag(e,d(),u,1,()=>{bc(e,"introend"),c==null||c.abort(),c=a=void 0,e.style.overflow=l})},out(v){e.inert=!0,bc(e,"outrostart"),u=ag(e,d(),c,0,()=>{bc(e,"outroend"),v==null||v()})},stop:()=>{c==null||c.abort(),u==null||u.abort()}},f=hp;if((f.transitions??(f.transitions=[])).push(h),Ix){var m=i;if(!m){for(var p=f.parent;p&&p.f&Yx;)for(;(p=p.parent)&&!(p.f&$x););m=!p||(p.f&Gx)!==0}m&&ob(()=>{_t(()=>h.in())})}}function ag(n,e,t,r,i){var s=r===1;if(qx(e)){var a,o=!1;return Xx(()=>{if(!o){var v=e({direction:s?"in":"out"});a=ag(n,v,t,r,i)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:Ae,deactivate:Ae,reset:Ae,t:()=>r};const{delay:l=0,css:c,tick:u,easing:d=e1}=e;var h=[];if(s&&t===void 0&&(u&&u(0,1),c)){var f=Sp(c(0,1));h.push(f,f)}var m=()=>1-r,p=n.animate(h,{duration:l});return p.onfinish=()=>{var v=(t==null?void 0:t.t())??1-r;t==null||t.abort();var y=r-v,_=e.duration*Math.abs(y),S=[];if(_>0){var T=!1;if(c)for(var k=Math.ceil(_/16.666666666666668),O=0;O<=k;O+=1){var D=v+y*d(O/k),j=Sp(c(D,1-D));S.push(j),T||(T=j.overflow==="hidden")}T&&(n.style.overflow="hidden"),m=()=>{var V=p.currentTime;return v+y*d(V/_)},u&&Jw(()=>{if(p.playState!=="running")return!1;var V=m();return u(V,1-V),!0})}p=n.animate(S,{duration:_,fill:"forwards"}),p.onfinish=()=>{m=()=>r,u==null||u(r,1-r),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=Ae)},deactivate:()=>{i=Ae},reset:()=>{r===0&&(u==null||u(1,0))},t:()=>m()}}function n1(n,e,t){var r=Qx(n,e);r&&r.set&&(n[e]=t,ew(()=>{n[e]=null}))}function Fn(n,e){var s;var t=(s=n.$$events)==null?void 0:s[e.type],r=ab(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function _c(n){let e;const t=sw(i=>{let s=!1;const a=n.subscribe(o=>{e=o,s&&i()});return s=!0,a});function r(){return tw()?(t(),e):is(n)}return"set"in n?{get current(){return r()},set current(i){n.set(i)}}:{get current(){return r()}}}class bh extends Error{constructor(e,t){super(e),this.name="DevalueError",this.path=t.join("")}}function Tp(n){return Object(n)!==n}const r1=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function i1(n){const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===r1}function s1(n){return Object.prototype.toString.call(n).slice(8,-1)}function a1(n){switch(n){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n<" "?`\\u${n.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function ls(n){let e="",t=0;const r=n.length;for(let i=0;i<r;i+=1){const s=n[i],a=a1(s);a&&(e+=n.slice(t,i)+a,t=i+1)}return`"${t===0?n:e+n.slice(t)}"`}function o1(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.getOwnPropertyDescriptor(n,e).enumerable)}const l1=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function kp(n){return l1.test(n)?"."+n:"["+JSON.stringify(n)+"]"}function c1(n,e){const t=[],r=new Map,i=[];if(e)for(const c of Object.getOwnPropertyNames(e))i.push({key:c,fn:e[c]});const s=[];let a=0;function o(c){if(typeof c=="function")throw new bh("Cannot stringify a function",s);if(r.has(c))return r.get(c);if(c===void 0)return nb;if(Number.isNaN(c))return Nx;if(c===1/0)return Fx;if(c===-1/0)return Lx;if(c===0&&1/c<0)return rb;const u=a++;r.set(c,u);for(const{key:h,fn:f}of i){const m=f(c);if(m)return t[u]=`["${h}",${o(m)}]`,u}let d="";if(Tp(c))d=_h(c);else{const h=s1(c);switch(h){case"Number":case"String":case"Boolean":d=`["Object",${_h(c)}]`;break;case"BigInt":d=`["BigInt",${c}]`;break;case"Date":d=`["Date","${!isNaN(c.getDate())?c.toISOString():""}"]`;break;case"RegExp":const{source:m,flags:p}=c;d=p?`["RegExp",${ls(m)},"${p}"]`:`["RegExp",${ls(m)}]`;break;case"Array":d="[";for(let v=0;v<c.length;v+=1)v>0&&(d+=","),v in c?(s.push(`[${v}]`),d+=o(c[v]),s.pop()):d+=jx;d+="]";break;case"Set":d='["Set"';for(const v of c)d+=`,${o(v)}`;d+="]";break;case"Map":d='["Map"';for(const[v,y]of c)s.push(`.get(${Tp(v)?_h(v):"..."})`),d+=`,${o(v)},${o(y)}`,s.pop();d+="]";break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const y=fp(c.buffer);d='["'+h+'","'+y+'"]';break}case"ArrayBuffer":{d=`["ArrayBuffer","${fp(c)}"]`;break}default:if(!i1(c))throw new bh("Cannot stringify arbitrary non-POJOs",s);if(o1(c).length>0)throw new bh("Cannot stringify POJOs with symbolic keys",s);if(Object.getPrototypeOf(c)===null){d='["null"';for(const v in c)s.push(kp(v)),d+=`,${ls(v)},${o(c[v])}`,s.pop();d+="]"}else{d="{";let v=!1;for(const y in c)v&&(d+=","),v=!0,s.push(kp(y)),d+=`${ls(y)}:${o(c[y])}`,s.pop();d+="}"}}}return t[u]=d,u}const l=o(n);return l<0?`${l}`:`[${t.join(",")}]`}function _h(n){const e=typeof n;return e==="string"?ls(n):n instanceof String?ls(n.toString()):n===void 0?nb.toString():n===0&&1/n<0?rb.toString():e==="bigint"?`["BigInt","${n}"]`:String(n)}function u1(n){return typeof n=="function"}function d1(n){return u1(n)?n():n}var Sr;class f1{constructor(e,t={box:"border-box"}){M(this,Sr,ee(ct({width:0,height:0})));var i,s;const r=t.window??aw;H(x(this,Sr),{width:((i=t.initialSize)==null?void 0:i.width)??0,height:((s=t.initialSize)==null?void 0:s.height)??0},!0),Qe(()=>{if(!r)return;const a=d1(e);if(!a)return;const o=new r.ResizeObserver(l=>{for(const c of l){const u=t.box==="content-box"?c.contentBoxSize:c.borderBoxSize,d=Array.isArray(u)?u:[u];g(x(this,Sr)).width=d.reduce((h,f)=>Math.max(h,f.inlineSize),0),g(x(this,Sr)).height=d.reduce((h,f)=>Math.max(h,f.blockSize),0)}});return o.observe(a),()=>{o.disconnect()}})}get current(){return g(x(this,Sr))}get width(){return g(x(this,Sr)).width}get height(){return g(x(this,Sr)).height}}Sr=new WeakMap;function h1(n){Qe(()=>_t(()=>n()))}function g1(n){return window.getComputedStyle(n).getPropertyValue("direction")}function m1(n="ltr",e="horizontal"){return{horizontal:n==="rtl"?lc:oc,vertical:Bi}[e]}function p1(n="ltr",e="horizontal"){return{horizontal:n==="rtl"?oc:lc,vertical:ji}[e]}function v1(n="ltr",e="horizontal"){return["ltr","rtl"].includes(n)||(n="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:m1(n,e),prevKey:p1(n,e)}}function $f(n){const e=B(null);function t(){if(!Zf)return[];const a=document.getElementById(n.rootNodeId.current);return a?n.candidateSelector?Array.from(a.querySelectorAll(n.candidateSelector)):Array.from(a.querySelectorAll(`[${n.candidateAttr}]:not([data-disabled])`)):[]}function r(){var o;const a=t();a.length&&((o=a[0])==null||o.focus())}function i(a,o,l=!1){var S;const c=document.getElementById(n.rootNodeId.current);if(!c||!a)return;const u=t();if(!u.length)return;const d=u.indexOf(a),h=g1(c),{nextKey:f,prevKey:m}=v1(h,n.orientation.current),p=n.loop.current,v={[f]:d+1,[m]:d-1,[om]:0,[am]:u.length-1};if(l){const T=f===Bi?oc:Bi,k=m===ji?lc:ji;v[T]=d+1,v[k]=d-1}let y=v[o.key];if(y===void 0)return;o.preventDefault(),y<0&&p?y=u.length-1:y===u.length&&p&&(y=0);const _=u[y];if(_)return _.focus(),e.current=_.id,(S=n.onCandidateFocus)==null||S.call(n,_),_}function s(a){const o=t(),l=e.current!==null;return a&&!l&&o[0]===a?(e.current=a.id,0):(a==null?void 0:a.id)===e.current?0:-1}return{setCurrentTabStopId(a){e.current=a},getTabIndex:s,handleKeydown:i,focusFirstCandidate:r,currentTabStopId:e}}const y1="data-accordion-root",Ob="data-accordion-trigger",b1="data-accordion-content",_1="data-accordion-item",x1="data-accordion-header";var Fu;class Cb{constructor(e){R(this,"opts");R(this,"rovingFocusGroup");M(this,Fu,C(()=>({id:this.opts.id.current,"data-orientation":ur(this.opts.orientation.current),"data-disabled":Ct(this.opts.disabled.current),[y1]:""})));this.opts=e,Ze(this.opts),this.rovingFocusGroup=$f({rootNodeId:this.opts.id,candidateAttr:Ob,loop:this.opts.loop,orientation:this.opts.orientation})}get props(){return g(x(this,Fu))}}Fu=new WeakMap;class w1 extends Cb{constructor(t){super(t);R(this,"opts");R(this,"isMulti",!1);this.opts=t,this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(t){return this.opts.value.current===t}toggleItem(t){this.opts.value.current=this.includesItem(t)?"":t}}var Tr;class S1 extends Cb{constructor(t){super(t);M(this,Tr);R(this,"isMulti",!0);mt(this,Tr,t.value),this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(t){return x(this,Tr).current.includes(t)}toggleItem(t){this.includesItem(t)?x(this,Tr).current=x(this,Tr).current.filter(r=>r!==t):x(this,Tr).current=[...x(this,Tr).current,t]}}Tr=new WeakMap;var Lu,ju,Bu;class T1{constructor(e){R(this,"opts");R(this,"root");M(this,Lu,C(()=>this.root.includesItem(this.opts.value.current)));M(this,ju,C(()=>this.opts.disabled.current||this.root.opts.disabled.current));M(this,Bu,C(()=>({id:this.opts.id.current,"data-state":dr(this.isActive),"data-disabled":Ct(this.isDisabled),"data-orientation":ur(this.root.opts.orientation.current),[_1]:""})));this.opts=e,this.root=e.rootState,this.updateValue=this.updateValue.bind(this),Ze({...e,deps:()=>this.isActive})}get isActive(){return g(x(this,Lu))}get isDisabled(){return g(x(this,ju))}updateValue(){this.root.toggleItem(this.opts.value.current)}get props(){return g(x(this,Bu))}}Lu=new WeakMap,ju=new WeakMap,Bu=new WeakMap;var Ii,Vr,zu;class k1{constructor(e,t){R(this,"opts");R(this,"itemState");M(this,Ii);M(this,Vr,C(()=>this.opts.disabled.current||this.itemState.opts.disabled.current||x(this,Ii).opts.disabled.current));M(this,zu,C(()=>({id:this.opts.id.current,disabled:g(x(this,Vr)),"aria-expanded":Yf(this.itemState.isActive),"aria-disabled":yi(g(x(this,Vr))),"data-disabled":Ct(g(x(this,Vr))),"data-state":dr(this.itemState.isActive),"data-orientation":ur(x(this,Ii).opts.orientation.current),[Ob]:"",tabindex:0,onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.itemState=t,mt(this,Ii,t.root),this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),Ze(e)}onclick(e){if(!g(x(this,Vr))){if(e.button!==0)return e.preventDefault();this.itemState.updateValue()}}onkeydown(e){if(!g(x(this,Vr))){if(e.key===Gi||e.key===Ki){e.preventDefault(),this.itemState.updateValue();return}x(this,Ii).rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}get props(){return g(x(this,zu))}}Ii=new WeakMap,Vr=new WeakMap,zu=new WeakMap;var ps,vs,uo,fo,Vu,Wu,Uu;class P1{constructor(e,t){R(this,"opts");R(this,"item");M(this,ps);M(this,vs,!1);M(this,uo,ee(0));M(this,fo,ee(0));M(this,Vu,C(()=>this.opts.forceMount.current||this.item.isActive));M(this,Wu,C(()=>({open:this.item.isActive})));M(this,Uu,C(()=>({id:this.opts.id.current,"data-state":dr(this.item.isActive),"data-disabled":Ct(this.item.isDisabled),"data-orientation":ur(this.item.root.opts.orientation.current),[b1]:"",style:{"--bits-accordion-content-height":`${g(x(this,fo))}px`,"--bits-accordion-content-width":`${g(x(this,uo))}px`}})));this.opts=e,this.item=t,this.item=t,mt(this,vs,this.item.isActive),Ze(e),lb(()=>{const r=requestAnimationFrame(()=>{mt(this,vs,!1)});return()=>{cancelAnimationFrame(r)}}),Zt([()=>this.present,()=>this.opts.ref.current],([r,i])=>{i&&$t(()=>{if(!this.opts.ref.current)return;mt(this,ps,x(this,ps)||{transitionDuration:i.style.transitionDuration,animationName:i.style.animationName}),i.style.transitionDuration="0s",i.style.animationName="none";const s=i.getBoundingClientRect();if(H(x(this,fo),s.height,!0),H(x(this,uo),s.width,!0),!x(this,vs)){const{animationName:a,transitionDuration:o}=x(this,ps);i.style.transitionDuration=o,i.style.animationName=a}})})}get present(){return g(x(this,Vu))}get snippetProps(){return g(x(this,Wu))}get props(){return g(x(this,Uu))}}ps=new WeakMap,vs=new WeakMap,uo=new WeakMap,fo=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,Uu=new WeakMap;var Hu;class A1{constructor(e,t){R(this,"opts");R(this,"item");M(this,Hu,C(()=>({id:this.opts.id.current,role:"heading","aria-level":this.opts.level.current,"data-heading-level":this.opts.level.current,"data-state":dr(this.item.isActive),"data-orientation":ur(this.item.root.opts.orientation.current),[x1]:""})));this.opts=e,this.item=t,Ze(e)}get props(){return g(x(this,Hu))}}Hu=new WeakMap;const Db=new un("Accordion.Root"),Gf=new un("Accordion.Item");function M1(n){const{type:e,...t}=n,r=e==="single"?new w1(t):new S1(t);return Db.set(r)}function O1(n){const e=Db.get();return Gf.set(new T1({...n,rootState:e}))}function C1(n){return new k1(n,Gf.get())}function D1(n){return new P1(n,Gf.get())}function E1(n){return new A1(n,Gf.get())}var I1=$("<div><!></div>");function R1(n,e){re(e,!0);let t=w(e,"disabled",3,!1),r=w(e,"value",15),i=w(e,"ref",15,null),s=w(e,"id",19,Ue),a=w(e,"onValueChange",3,St),o=w(e,"loop",3,!0),l=w(e,"orientation",3,"vertical"),c=ye(e,["$$slots","$$events","$$legacy","disabled","children","child","type","value","ref","id","onValueChange","loop","orientation"]);r()===void 0&&r(e.type==="single"?"":[]);const u=M1({type:e.type,value:B.with(()=>r(),v=>{r(v),a()(v)}),id:B.with(()=>s()),disabled:B.with(()=>t()),loop:B.with(()=>o()),orientation:B.with(()=>l()),ref:B.with(()=>i(),v=>i(v))}),d=C(()=>ze(c,u.props));var h=I(),f=P(h);{var m=v=>{var y=I(),_=P(y);le(_,()=>e.child,()=>({props:g(d)})),b(v,y)},p=v=>{var y=I1();let _;var S=ne(y);le(S,()=>e.children??Ae),Q(y),fe(()=>_=Oe(y,_,{...g(d)})),b(v,y)};ve(f,v=>{e.child?v(m):v(p,!1)})}b(n,h),ie()}var N1=$("<div><!></div>");function F1(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"disabled",3,!1),i=w(e,"value",19,Ue),s=w(e,"ref",15,null),a=ye(e,["$$slots","$$events","$$legacy","id","disabled","value","children","child","ref"]);const o=O1({value:B.with(()=>i()),disabled:B.with(()=>r()),id:B.with(()=>t()),ref:B.with(()=>s(),f=>s(f))}),l=C(()=>ze(a,o.props));var c=I(),u=P(c);{var d=f=>{var m=I(),p=P(m);le(p,()=>e.child,()=>({props:g(l)})),b(f,m)},h=f=>{var m=N1();let p;var v=ne(m);le(v,()=>e.children??Ae),Q(m),fe(()=>p=Oe(m,p,{...g(l)})),b(f,m)};ve(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ie()}var L1=$("<div><!></div>");function j1(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"level",3,2),i=w(e,"ref",15,null),s=ye(e,["$$slots","$$events","$$legacy","id","level","children","child","ref"]);const a=E1({id:B.with(()=>t()),level:B.with(()=>r()),ref:B.with(()=>i(),h=>i(h))}),o=C(()=>ze(s,a.props));var l=I(),c=P(l);{var u=h=>{var f=I(),m=P(f);le(m,()=>e.child,()=>({props:g(o)})),b(h,f)},d=h=>{var f=L1();let m;var p=ne(f);le(p,()=>e.children??Ae),Q(f),fe(()=>m=Oe(f,m,{...g(o)})),b(h,f)};ve(c,h=>{e.child?h(u):h(d,!1)})}b(n,l),ie()}var B1=$("<button><!></button>");function z1(n,e){re(e,!0);let t=w(e,"disabled",3,!1),r=w(e,"ref",15,null),i=w(e,"id",19,Ue),s=ye(e,["$$slots","$$events","$$legacy","disabled","ref","id","children","child"]);const a=C1({disabled:B.with(()=>t()),id:B.with(()=>i()),ref:B.with(()=>r(),h=>r(h))}),o=C(()=>ze(s,a.props));var l=I(),c=P(l);{var u=h=>{var f=I(),m=P(f);le(m,()=>e.child,()=>({props:g(o)})),b(h,f)},d=h=>{var f=B1();let m;var p=ne(f);le(p,()=>e.children??Ae),Q(f),fe(()=>m=Oe(f,m,{type:"button",...g(o)})),b(h,f)};ve(c,h=>{e.child?h(u):h(d,!1)})}b(n,l),ie()}var V1=$("<div><!></div>");function W1(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=w(e,"forceMount",3,!1),s=ye(e,["$$slots","$$events","$$legacy","child","ref","id","forceMount","children"]);const a=D1({forceMount:B.with(()=>i()),id:B.with(()=>r()),ref:B.with(()=>t(),o=>t(o))});_b(n,{forceMount:!0,get present(){return a.present},get id(){return r()},presence:(l,c)=>{let u=()=>c==null?void 0:c().present;var d=I();const h=C(()=>ze(s,a.props,{hidden:i()?void 0:!u().current}));var f=P(d);{var m=v=>{var y=I(),_=P(y),S=yt(()=>({props:g(h),...a.snippetProps}));le(_,()=>e.child,()=>g(S)),b(v,y)},p=v=>{var y=V1();let _;var S=ne(y);le(S,()=>e.children??Ae),Q(y),fe(()=>_=Oe(y,_,{...g(h)})),b(v,y)};ve(f,v=>{e.child?v(m):v(p,!1)})}b(l,d)},$$slots:{presence:!0}}),ie()}function Eb(n,e){re(e,!0);let t=w(e,"disabled",3,!1),r=w(e,"ref",15),i=ye(e,["$$slots","$$events","$$legacy","href","type","children","disabled","ref"]);var s=I(),a=P(s);cu(a,()=>e.href?"a":"button",!1,(o,l)=>{ir(o,h=>r(h),()=>r());let c;fe(()=>c=Oe(o,c,{"data-button-root":!0,type:e.href?void 0:e.type,href:e.href&&!t()?e.href:void 0,disabled:e.href?void 0:t(),"aria-disabled":e.href?t():void 0,role:e.href&&t()?"link":void 0,tabindex:e.href&&t()?-1:0,...i}));var u=I(),d=P(u);le(d,()=>e.children??Ae),b(l,u)}),b(n,s),ie()}function xh(n,e){return n-e*Math.floor(n/e)}const Ib=1721426;function xc(n,e,t,r){e=gm(n,e);let i=e-1,s=-2;return t<=2?s=0:Yc(e)&&(s=-1),Ib-1+365*i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400)+Math.floor((367*t-362)/12+s+r)}function Yc(n){return n%4===0&&(n%100!==0||n%400===0)}function gm(n,e){return n==="BC"?1-e:e}function U1(n){let e="AD";return n<=0&&(e="BC",n=1-n),[e,n]}const H1={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class Ns{fromJulianDay(e){let t=e,r=t-Ib,i=Math.floor(r/146097),s=xh(r,146097),a=Math.floor(s/36524),o=xh(s,36524),l=Math.floor(o/1461),c=xh(o,1461),u=Math.floor(c/365),d=i*400+a*100+l*4+u+(a!==4&&u!==4?1:0),[h,f]=U1(d),m=t-xc(h,f,1,1),p=2;t<xc(h,f,3,1)?p=0:Yc(f)&&(p=1);let v=Math.floor(((m+p)*12+373)/367),y=t-xc(h,f,v,1)+1;return new si(h,f,v,y)}toJulianDay(e){return xc(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return H1[Yc(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return Yc(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}const Z1={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function zr(n,e){return e=Sn(e,n.calendar),n.era===e.era&&n.year===e.year&&n.month===e.month&&n.day===e.day}function mm(n,e){return e=Sn(e,n.calendar),n=og(n),e=og(e),n.era===e.era&&n.year===e.year&&n.month===e.month}function Y1(n,e){return zr(n,G1(e))}function Rb(n,e,t){let r=n.calendar.toJulianDay(n),i=J1(e),s=Math.ceil(r+1-i)%7;return s<0&&(s+=7),s}function $1(n){return Qn(Date.now(),n)}function G1(n){return tS($1(n))}function Nb(n,e){return n.calendar.toJulianDay(n)-e.calendar.toJulianDay(e)}function K1(n,e){return Pp(n)-Pp(e)}function Pp(n){return n.hour*36e5+n.minute*6e4+n.second*1e3+n.millisecond}let wh=null;function cc(){return wh==null&&(wh=new Intl.DateTimeFormat().resolvedOptions().timeZone),wh}function og(n){return n.subtract({days:n.day-1})}function q1(n){return n.add({days:n.calendar.getDaysInMonth(n)-n.day})}const Ap=new Map;function X1(n){if(Intl.Locale){let t=Ap.get(n);return t||(t=new Intl.Locale(n).maximize().region,t&&Ap.set(n,t)),t}let e=n.split("-")[1];return e==="u"?void 0:e}function J1(n){let e=X1(n);return e&&Z1[e]||0}function ri(n){n=Sn(n,new Ns);let e=gm(n.era,n.year);return Fb(e,n.month,n.day,n.hour,n.minute,n.second,n.millisecond)}function Fb(n,e,t,r,i,s,a){let o=new Date;return o.setUTCHours(r,i,s,a),o.setUTCFullYear(n,e-1,t),o.getTime()}function La(n,e){if(e==="UTC")return 0;if(n>0&&e===cc())return new Date(n).getTimezoneOffset()*-6e4;let{year:t,month:r,day:i,hour:s,minute:a,second:o}=Lb(n,e);return Fb(t,r,i,s,a,o,0)-Math.floor(n/1e3)*1e3}const Mp=new Map;function Lb(n,e){let t=Mp.get(e);t||(t=new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Mp.set(e,t));let r=t.formatToParts(new Date(n)),i={};for(let s of r)s.type!=="literal"&&(i[s.type]=s.value);return{year:i.era==="BC"||i.era==="B"?-i.year+1:+i.year,month:+i.month,day:+i.day,hour:i.hour==="24"?0:+i.hour,minute:+i.minute,second:+i.second}}const du=864e5;function Q1(n,e){let t=ri(n),r=t-La(t-du,e),i=t-La(t+du,e);return jb(n,e,r,i)}function jb(n,e,t,r){return(t===r?[t]:[t,r]).filter(s=>eS(n,e,s))}function eS(n,e,t){let r=Lb(t,e);return n.year===r.year&&n.month===r.month&&n.day===r.day&&n.hour===r.hour&&n.minute===r.minute&&n.second===r.second}function Jn(n,e,t="compatible"){let r=ii(n);if(e==="UTC")return ri(r);if(e===cc()&&t==="compatible"){r=Sn(r,new Ns);let l=new Date,c=gm(r.era,r.year);return l.setFullYear(c,r.month-1,r.day),l.setHours(r.hour,r.minute,r.second,r.millisecond),l.getTime()}let i=ri(r),s=La(i-du,e),a=La(i+du,e),o=jb(r,e,i-s,i-a);if(o.length===1)return o[0];if(o.length>1)switch(t){case"compatible":case"earlier":return o[0];case"later":return o[o.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(t){case"earlier":return Math.min(i-s,i-a);case"compatible":case"later":return Math.max(i-s,i-a);case"reject":throw new RangeError("No such absolute time found")}}function Bb(n,e,t="compatible"){return new Date(Jn(n,e,t))}function Qn(n,e){let t=La(n,e),r=new Date(n+t),i=r.getUTCFullYear(),s=r.getUTCMonth()+1,a=r.getUTCDate(),o=r.getUTCHours(),l=r.getUTCMinutes(),c=r.getUTCSeconds(),u=r.getUTCMilliseconds();return new Or(i<1?"BC":"AD",i<1?-i+1:i,s,a,e,t,o,l,c,u)}function tS(n){return new si(n.calendar,n.era,n.year,n.month,n.day)}function ii(n,e){let t=0,r=0,i=0,s=0;if("timeZone"in n)({hour:t,minute:r,second:i,millisecond:s}=n);else if("hour"in n&&!e)return n;return e&&({hour:t,minute:r,second:i,millisecond:s}=e),new ai(n.calendar,n.era,n.year,n.month,n.day,t,r,i,s)}function Sn(n,e){if(n.calendar.identifier===e.identifier)return n;let t=e.fromJulianDay(n.calendar.toJulianDay(n)),r=n.copy();return r.calendar=e,r.era=t.era,r.year=t.year,r.month=t.month,r.day=t.day,zi(r),r}function nS(n,e,t){if(n instanceof Or)return n.timeZone===e?n:iS(n,e);let r=Jn(n,e,t);return Qn(r,e)}function rS(n){let e=ri(n)-n.offset;return new Date(e)}function iS(n,e){let t=ri(n)-n.offset;return Sn(Qn(t,e),n.calendar)}const Qs=36e5;function Kf(n,e){let t=n.copy(),r="hour"in t?lS(t,e):0;lg(t,e.years||0),t.calendar.balanceYearMonth&&t.calendar.balanceYearMonth(t,n),t.month+=e.months||0,cg(t),zb(t),t.day+=(e.weeks||0)*7,t.day+=e.days||0,t.day+=r,sS(t),t.calendar.balanceDate&&t.calendar.balanceDate(t),t.year<1&&(t.year=1,t.month=1,t.day=1);let i=t.calendar.getYearsInEra(t);if(t.year>i){var s,a;let l=(s=(a=t.calendar).isInverseEra)===null||s===void 0?void 0:s.call(a,t);t.year=i,t.month=l?1:t.calendar.getMonthsInYear(t),t.day=l?1:t.calendar.getDaysInMonth(t)}t.month<1&&(t.month=1,t.day=1);let o=t.calendar.getMonthsInYear(t);return t.month>o&&(t.month=o,t.day=t.calendar.getDaysInMonth(t)),t.day=Math.max(1,Math.min(t.calendar.getDaysInMonth(t),t.day)),t}function lg(n,e){var t,r;!((t=(r=n.calendar).isInverseEra)===null||t===void 0)&&t.call(r,n)&&(e=-e),n.year+=e}function cg(n){for(;n.month<1;)lg(n,-1),n.month+=n.calendar.getMonthsInYear(n);let e=0;for(;n.month>(e=n.calendar.getMonthsInYear(n));)n.month-=e,lg(n,1)}function sS(n){for(;n.day<1;)n.month--,cg(n),n.day+=n.calendar.getDaysInMonth(n);for(;n.day>n.calendar.getDaysInMonth(n);)n.day-=n.calendar.getDaysInMonth(n),n.month++,cg(n)}function zb(n){n.month=Math.max(1,Math.min(n.calendar.getMonthsInYear(n),n.month)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day))}function zi(n){n.calendar.constrainDate&&n.calendar.constrainDate(n),n.year=Math.max(1,Math.min(n.calendar.getYearsInEra(n),n.year)),zb(n)}function Vb(n){let e={};for(let t in n)typeof n[t]=="number"&&(e[t]=-n[t]);return e}function Wb(n,e){return Kf(n,Vb(e))}function pm(n,e){let t=n.copy();return e.era!=null&&(t.era=e.era),e.year!=null&&(t.year=e.year),e.month!=null&&(t.month=e.month),e.day!=null&&(t.day=e.day),zi(t),t}function fu(n,e){let t=n.copy();return e.hour!=null&&(t.hour=e.hour),e.minute!=null&&(t.minute=e.minute),e.second!=null&&(t.second=e.second),e.millisecond!=null&&(t.millisecond=e.millisecond),oS(t),t}function aS(n){n.second+=Math.floor(n.millisecond/1e3),n.millisecond=wc(n.millisecond,1e3),n.minute+=Math.floor(n.second/60),n.second=wc(n.second,60),n.hour+=Math.floor(n.minute/60),n.minute=wc(n.minute,60);let e=Math.floor(n.hour/24);return n.hour=wc(n.hour,24),e}function oS(n){n.millisecond=Math.max(0,Math.min(n.millisecond,1e3)),n.second=Math.max(0,Math.min(n.second,59)),n.minute=Math.max(0,Math.min(n.minute,59)),n.hour=Math.max(0,Math.min(n.hour,23))}function wc(n,e){let t=n%e;return t<0&&(t+=e),t}function lS(n,e){return n.hour+=e.hours||0,n.minute+=e.minutes||0,n.second+=e.seconds||0,n.millisecond+=e.milliseconds||0,aS(n)}function vm(n,e,t,r){let i=n.copy();switch(e){case"era":{let o=n.calendar.getEras(),l=o.indexOf(n.era);if(l<0)throw new Error("Invalid era: "+n.era);l=Ar(l,t,0,o.length-1,r==null?void 0:r.round),i.era=o[l],zi(i);break}case"year":var s,a;!((s=(a=i.calendar).isInverseEra)===null||s===void 0)&&s.call(a,i)&&(t=-t),i.year=Ar(n.year,t,-1/0,9999,r==null?void 0:r.round),i.year===-1/0&&(i.year=1),i.calendar.balanceYearMonth&&i.calendar.balanceYearMonth(i,n);break;case"month":i.month=Ar(n.month,t,1,n.calendar.getMonthsInYear(n),r==null?void 0:r.round);break;case"day":i.day=Ar(n.day,t,1,n.calendar.getDaysInMonth(n),r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return n.calendar.balanceDate&&n.calendar.balanceDate(i),zi(i),i}function Ub(n,e,t,r){let i=n.copy();switch(e){case"hour":{let s=n.hour,a=0,o=23;if((r==null?void 0:r.hourCycle)===12){let l=s>=12;a=l?12:0,o=l?23:11}i.hour=Ar(s,t,a,o,r==null?void 0:r.round);break}case"minute":i.minute=Ar(n.minute,t,0,59,r==null?void 0:r.round);break;case"second":i.second=Ar(n.second,t,0,59,r==null?void 0:r.round);break;case"millisecond":i.millisecond=Ar(n.millisecond,t,0,999,r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return i}function Ar(n,e,t,r,i=!1){if(i){n+=Math.sign(e),n<t&&(n=r);let s=Math.abs(e);e>0?n=Math.ceil(n/s)*s:n=Math.floor(n/s)*s,n>r&&(n=t)}else n+=e,n<t?n=r-(t-n-1):n>r&&(n=t+(n-r-1));return n}function Hb(n,e){let t;if(e.years!=null&&e.years!==0||e.months!=null&&e.months!==0||e.weeks!=null&&e.weeks!==0||e.days!=null&&e.days!==0){let i=Kf(ii(n),{years:e.years,months:e.months,weeks:e.weeks,days:e.days});t=Jn(i,n.timeZone)}else t=ri(n)-n.offset;t+=e.milliseconds||0,t+=(e.seconds||0)*1e3,t+=(e.minutes||0)*6e4,t+=(e.hours||0)*36e5;let r=Qn(t,n.timeZone);return Sn(r,n.calendar)}function cS(n,e){return Hb(n,Vb(e))}function uS(n,e,t,r){switch(e){case"hour":{let i=0,s=23;if((r==null?void 0:r.hourCycle)===12){let m=n.hour>=12;i=m?12:0,s=m?23:11}let a=ii(n),o=Sn(fu(a,{hour:i}),new Ns),l=[Jn(o,n.timeZone,"earlier"),Jn(o,n.timeZone,"later")].filter(m=>Qn(m,n.timeZone).day===o.day)[0],c=Sn(fu(a,{hour:s}),new Ns),u=[Jn(c,n.timeZone,"earlier"),Jn(c,n.timeZone,"later")].filter(m=>Qn(m,n.timeZone).day===c.day).pop(),d=ri(n)-n.offset,h=Math.floor(d/Qs),f=d%Qs;return d=Ar(h,t,Math.floor(l/Qs),Math.floor(u/Qs),r==null?void 0:r.round)*Qs+f,Sn(Qn(d,n.timeZone),n.calendar)}case"minute":case"second":case"millisecond":return Ub(n,e,t,r);case"era":case"year":case"month":case"day":{let i=vm(ii(n),e,t,r),s=Jn(i,n.timeZone);return Sn(Qn(s,n.timeZone),n.calendar)}default:throw new Error("Unsupported field "+e)}}function dS(n,e,t){let r=ii(n),i=fu(pm(r,e),e);if(i.compare(r)===0)return n;let s=Jn(i,n.timeZone,t);return Sn(Qn(s,n.timeZone),n.calendar)}const fS=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})$/,hS=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?$/,gS=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:([+-]\d{2})(?::?(\d{2}))?)?\[(.*?)\]$/;function Zb(n){let e=n.match(fS);if(!e)throw new Error("Invalid ISO 8601 date string: "+n);let t=new si(Ft(e[1],0,9999),Ft(e[2],1,12),1);return t.day=Ft(e[3],0,t.calendar.getDaysInMonth(t)),t}function mS(n){let e=n.match(hS);if(!e)throw new Error("Invalid ISO 8601 date time string: "+n);let t=Ft(e[1],-9999,9999),r=t<1?"BC":"AD",i=new ai(r,t<1?-t+1:t,Ft(e[2],1,12),1,e[4]?Ft(e[4],0,23):0,e[5]?Ft(e[5],0,59):0,e[6]?Ft(e[6],0,59):0,e[7]?Ft(e[7],0,1/0)*1e3:0);return i.day=Ft(e[3],0,i.calendar.getDaysInMonth(i)),i}function pS(n,e){let t=n.match(gS);if(!t)throw new Error("Invalid ISO 8601 date time string: "+n);let r=Ft(t[1],-9999,9999),i=r<1?"BC":"AD",s=new Or(i,r<1?-r+1:r,Ft(t[2],1,12),1,t[10],0,t[4]?Ft(t[4],0,23):0,t[5]?Ft(t[5],0,59):0,t[6]?Ft(t[6],0,59):0,t[7]?Ft(t[7],0,1/0)*1e3:0);s.day=Ft(t[3],0,s.calendar.getDaysInMonth(s));let a=ii(s),o;if(t[8]){var l;if(s.offset=Ft(t[8],-23,23)*36e5+Ft((l=t[9])!==null&&l!==void 0?l:"0",0,59)*6e4,o=ri(s)-s.offset,!Q1(a,s.timeZone).includes(o))throw new Error(`Offset ${$b(s.offset)} is invalid for ${ym(s)} in ${s.timeZone}`)}else o=Jn(ii(a),s.timeZone,e);return Qn(o,s.timeZone)}function Ft(n,e,t){let r=Number(n);if(r<e||r>t)throw new RangeError(`Value out of range: ${e} <= ${r} <= ${t}`);return r}function vS(n){return`${String(n.hour).padStart(2,"0")}:${String(n.minute).padStart(2,"0")}:${String(n.second).padStart(2,"0")}${n.millisecond?String(n.millisecond/1e3).slice(1):""}`}function Yb(n){let e=Sn(n,new Ns),t;return e.era==="BC"?t=e.year===1?"0000":"-"+String(Math.abs(1-e.year)).padStart(6,"00"):t=String(e.year).padStart(4,"0"),`${t}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function ym(n){return`${Yb(n)}T${vS(n)}`}function $b(n){let e=Math.sign(n)<0?"-":"+";n=Math.abs(n);let t=Math.floor(n/36e5),r=n%36e5/6e4;return`${e}${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function yS(n){return`${ym(n)}${$b(n.offset)}[${n.timeZone}]`}function bS(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bm(n,e,t){bS(n,e),e.set(n,t)}function _m(n){let e=typeof n[0]=="object"?n.shift():new Ns,t;if(typeof n[0]=="string")t=n.shift();else{let a=e.getEras();t=a[a.length-1]}let r=n.shift(),i=n.shift(),s=n.shift();return[e,t,r,i,s]}var _S=new WeakMap;class si{copy(){return this.era?new si(this.calendar,this.era,this.year,this.month,this.day):new si(this.calendar,this.year,this.month,this.day)}add(e){return Kf(this,e)}subtract(e){return Wb(this,e)}set(e){return pm(this,e)}cycle(e,t,r){return vm(this,e,t,r)}toDate(e){return Bb(this,e)}toString(){return Yb(this)}compare(e){return Nb(this,e)}constructor(...e){bm(this,_S,{writable:!0,value:void 0});let[t,r,i,s,a]=_m(e);this.calendar=t,this.era=r,this.year=i,this.month=s,this.day=a,zi(this)}}var xS=new WeakMap;class ai{copy(){return this.era?new ai(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new ai(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return Kf(this,e)}subtract(e){return Wb(this,e)}set(e){return pm(fu(this,e),e)}cycle(e,t,r){switch(e){case"era":case"year":case"month":case"day":return vm(this,e,t,r);default:return Ub(this,e,t,r)}}toDate(e,t){return Bb(this,e,t)}toString(){return ym(this)}compare(e){let t=Nb(this,e);return t===0?K1(this,ii(e)):t}constructor(...e){bm(this,xS,{writable:!0,value:void 0});let[t,r,i,s,a]=_m(e);this.calendar=t,this.era=r,this.year=i,this.month=s,this.day=a,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,zi(this)}}var wS=new WeakMap;class Or{copy(){return this.era?new Or(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new Or(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return Hb(this,e)}subtract(e){return cS(this,e)}set(e,t){return dS(this,e,t)}cycle(e,t,r){return uS(this,e,t,r)}toDate(){return rS(this)}toString(){return yS(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-nS(e,this.timeZone).toDate().getTime()}constructor(...e){bm(this,wS,{writable:!0,value:void 0});let[t,r,i,s,a]=_m(e),o=e.shift(),l=e.shift();this.calendar=t,this.era=r,this.year=i,this.month=s,this.day=a,this.timeZone=o,this.offset=l,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,zi(this)}}let Sh=new Map;class Nr{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(t)}`}formatRangeToParts(e,t){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(e),i=this.formatter.formatToParts(t);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return kS()&&(this.resolvedHourCycle||(this.resolvedHourCycle=PS(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,t={}){this.formatter=Gb(e,t),this.options=t}}const SS={true:{ja:"h11"},false:{}};function Gb(n,e={}){if(typeof e.hour12=="boolean"&&TS()){e={...e};let i=SS[String(e.hour12)][n.split("-")[0]],s=e.hour12?"h12":"h23";e.hourCycle=i??s,delete e.hour12}let t=n+(e?Object.entries(e).sort((i,s)=>i[0]<s[0]?-1:1).join():"");if(Sh.has(t))return Sh.get(t);let r=new Intl.DateTimeFormat(n,e);return Sh.set(t,r),r}let Th=null;function TS(){return Th==null&&(Th=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),Th}let kh=null;function kS(){return kh==null&&(kh=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),kh}function PS(n,e){if(!e.timeStyle&&!e.hour)return;n=n.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),n+=(n.includes("-u-")?"":"-u")+"-nu-latn";let t=Gb(n,{...e,timeZone:void 0}),r=parseInt(t.formatToParts(new Date(2020,2,3,0)).find(s=>s.type==="hour").value,10),i=parseInt(t.formatToParts(new Date(2020,2,3,23)).find(s=>s.type==="hour").value,10);if(r===0&&i===23)return"h23";if(r===24&&i===23)return"h24";if(r===0&&i===11)return"h11";if(r===12&&i===11)return"h12";throw new Error("Unexpected hour cycle result")}function AS(){if(!Zf)return null;let n=document.querySelector("[data-bits-announcer]");if(!Bn(n)){const r=document.createElement("div");r.style.cssText=ow,r.setAttribute("data-bits-announcer",""),r.appendChild(e("assertive")),r.appendChild(e("polite")),n=r,document.body.insertBefore(n,document.body.firstChild)}function e(r){const i=document.createElement("div");return i.role="log",i.ariaLive=r,i.setAttribute("aria-relevant","additions"),i}function t(r){if(!Bn(n))return null;const i=n.querySelector(`[aria-live="${r}"]`);return Bn(i)?i:null}return{getLog:t}}function MS(){const n=AS();function e(t,r="assertive",i=7500){if(!n||!Zf)return;const s=n.getLog(r),a=document.createElement("div");return typeof t=="number"?t=t.toString():t===null?t="Empty":t=t.trim(),a.innerText=t,r==="assertive"?s==null||s.replaceChildren(a):s==null||s.appendChild(a),setTimeout(()=>{a.remove()},i)}return{announce:e}}const OS={defaultValue:void 0,granularity:"day"};function CS(n){const e={...OS,...n},{defaultValue:t,granularity:r}=e;if(Array.isArray(t)&&t.length)return t[t.length-1];if(t&&!Array.isArray(t))return t;{const i=new Date,s=i.getFullYear(),a=i.getMonth()+1,o=i.getDate();return["hour","minute","second"].includes(r??"day")?new ai(s,a,o,0,0,0):new si(s,a,o)}}function Kb(n,e){let t;return e instanceof Or?t=pS(n):e instanceof ai?t=mS(n):t=Zb(n),t.calendar!==e.calendar?Sn(t,e.calendar):t}function Mr(n,e=cc()){return n instanceof Or?n.toDate():n.toDate(e)}function DS(n){return n instanceof ai}function qb(n){return n instanceof Or}function ES(n){return DS(n)||qb(n)}function IS(n){if(n instanceof Date){const e=n.getFullYear(),t=n.getMonth()+1;return new Date(e,t,0).getDate()}else return n.set({day:100}).day}function ja(n,e){return n.compare(e)<0}function RS(n,e){return n.compare(e)>0}function NS(n,e,t){const r=Rb(n,t);return e>r?n.subtract({days:r+7-e}):e===r?n:n.subtract({days:r-e})}function FS(n,e,t){const r=Rb(n,t),i=e===0?6:e-1;return r===i?n:r>i?n.add({days:7-r+i}):n.add({days:i-r})}const LS={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function jS(n){let e=n;function t(f){e=f}function r(){return e}function i(f,m){return new Nr(e,m).format(f)}function s(f,m=!0){return ES(f)&&m?i(Mr(f),{dateStyle:"long",timeStyle:"long"}):i(Mr(f),{dateStyle:"long"})}function a(f){return new Nr(e,{month:"long",year:"numeric"}).format(f)}function o(f){return new Nr(e,{month:"long"}).format(f)}function l(f){return new Nr(e,{year:"numeric"}).format(f)}function c(f,m){return qb(f)?new Nr(e,{...m,timeZone:f.timeZone}).formatToParts(Mr(f)):new Nr(e,m).formatToParts(Mr(f))}function u(f,m="narrow"){return new Nr(e,{weekday:m}).format(f)}function d(f,m=void 0){var y;return((y=new Nr(e,{hour:"numeric",minute:"numeric",hourCycle:m===24?"h23":void 0}).formatToParts(f).find(_=>_.type==="dayPeriod"))==null?void 0:y.value)==="PM"?"PM":"AM"}function h(f,m,p={}){const v={...LS,...p},_=c(f,v).find(S=>S.type===m);return _?_.value:""}return{setLocale:t,getLocale:r,fullMonth:o,fullYear:l,fullMonthAndYear:a,toParts:c,custom:i,part:h,dayPeriod:d,selectedDate:s,dayOfWeek:u}}function BS(n,e){const t=[];for(let r=0;r<n.length;r+=e)t.push(n.slice(r,r+e));return t}function Ph(n,e){return n>=0&&n<e.length}function Xb(n,e,t){const r=e.toLowerCase();if(r.endsWith(" ")){const d=r.slice(0,-1);if(n.filter(p=>p.toLowerCase().startsWith(d)).length<=1)return Xb(n,d,t);const f=t==null?void 0:t.toLowerCase();if(f&&f.startsWith(d)&&f.charAt(d.length)===" "&&e.trim()===d)return t;const m=n.filter(p=>p.toLowerCase().startsWith(r));if(m.length>0){const p=t?n.indexOf(t):-1;return Op(m,Math.max(p,0)).find(_=>_!==t)||t}}const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s.toLowerCase(),o=t?n.indexOf(t):-1;let l=Op(n,Math.max(o,0));s.length===1&&(l=l.filter(d=>d!==t));const u=l.find(d=>d==null?void 0:d.toLowerCase().startsWith(a));return u!==t?u:void 0}function Op(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function zS(n){return!(!Bn(n)||!n.hasAttribute("data-bits-day"))}function Cp(n,e){const t=[];let r=n.add({days:1});const i=e;for(;r.compare(i)<0;)t.push(r),r=r.add({days:1});return t}function Ah(n){const{dateObj:e,weekStartsOn:t,fixedWeeks:r,locale:i}=n,s=IS(e),a=Array.from({length:s},(v,y)=>e.set({day:y+1})),o=og(e),l=q1(e),c=NS(o,t,i),u=FS(l,t,i),d=Cp(c.subtract({days:1}),o),h=Cp(l,u.add({days:1})),f=d.length+a.length+h.length;if(r&&f<42){const v=42-f;let y=h[h.length-1];y||(y=e.add({months:1}).set({day:1}));let _=v;h.length===0&&(_=v-1,h.push(y));const S=Array.from({length:_},(T,k)=>{const O=k+1;return y.add({days:O})});h.push(...S)}const m=d.concat(a,h),p=BS(m,7);return{value:e,dates:m,weeks:p}}function uc(n){const{numberOfMonths:e,dateObj:t,...r}=n,i=[];if(!e||e===1)return i.push(Ah({...r,dateObj:t})),i;i.push(Ah({...r,dateObj:t}));for(let s=1;s<e;s++){const a=t.add({months:s});i.push(Ah({...r,dateObj:a}))}return i}function Mh(n){return n?Array.from(n.querySelectorAll("[data-bits-day]:not([data-disabled]):not([data-outside-visible-months])")).filter(t=>Bn(t)):[]}function Dp(n,e){const t=n.getAttribute("data-value");t&&(e.current=Kb(t,e.current))}function VS({node:n,add:e,placeholder:t,calendarNode:r,isPrevButtonDisabled:i,isNextButtonDisabled:s,months:a,numberOfMonths:o}){var d,h;const l=Mh(r);if(!l.length)return;const u=l.indexOf(n)+e;if(Ph(u,l)){const f=l[u];return Dp(f,t),f.focus()}if(u<0){if(i)return;const f=(d=a[0])==null?void 0:d.value;if(!f)return;t.current=f.subtract({months:o}),$t(()=>{const m=Mh(r);if(!m.length)return;const p=m.length-Math.abs(u);if(Ph(p,m)){const v=m[p];return Dp(v,t),v.focus()}})}if(u>=l.length){if(s)return;const f=(h=a[0])==null?void 0:h.value;if(!f)return;t.current=f.add({months:o}),$t(()=>{const m=Mh(r);if(!m.length)return;const p=u-l.length;if(Ph(p,m))return m[p].focus()})}}const Ep=[Bi,ji,lc,oc],Ip=[Ki,Gi];function WS({event:n,handleCellClick:e,shiftFocus:t,placeholderValue:r}){const i=n.target;if(!zS(i)||!Ep.includes(n.key)&&!Ip.includes(n.key))return;n.preventDefault();const s={[Bi]:7,[ji]:-7,[lc]:-1,[oc]:1};if(Ep.includes(n.key)){const a=s[n.key];a!==void 0&&t(i,a)}if(Ip.includes(n.key)){const a=i.getAttribute("data-value");if(!a)return;e(n,Kb(a,r))}}function US({months:n,setMonths:e,numberOfMonths:t,pagedNavigation:r,weekStartsOn:i,locale:s,fixedWeeks:a,setPlaceholder:o}){var c;const l=(c=n[0])==null?void 0:c.value;if(l)if(r)o(l.add({months:t}));else{const u=uc({dateObj:l.add({months:1}),weekStartsOn:i,locale:s,fixedWeeks:a,numberOfMonths:t});e(u);const d=u[0];if(!d)return;o(d.value.set({day:1}))}}function HS({months:n,setMonths:e,numberOfMonths:t,pagedNavigation:r,weekStartsOn:i,locale:s,fixedWeeks:a,setPlaceholder:o}){var c;const l=(c=n[0])==null?void 0:c.value;if(l)if(r)o(l.subtract({months:t}));else{const u=uc({dateObj:l.subtract({months:1}),weekStartsOn:i,locale:s,fixedWeeks:a,numberOfMonths:t});e(u);const d=u[0];if(!d)return;o(d.value.set({day:1}))}}function ZS({months:n,formatter:e,weekdayFormat:t}){if(!n.length)return[];const i=n[0].weeks[0];return i?i.map(s=>e.dayOfWeek(Mr(s),t)):[]}function YS(n){const e=n.weekStartsOn.current,t=n.locale.current,r=n.fixedWeeks.current,i=n.numberOfMonths.current;_t(()=>{const s=n.placeholder.current;if(!s)return;const a={weekStartsOn:e,locale:t,fixedWeeks:r,numberOfMonths:i};n.setMonths(uc({...a,dateObj:s}))})}function $S({calendarNode:n,label:e,accessibleHeadingId:t}){const r=document.createElement("div");r.style.cssText=cb({border:"0px",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"});const i=document.createElement("div");return i.textContent=e,i.id=t,i.role="heading",i.ariaLevel="2",n.insertBefore(r,n.firstChild),r.appendChild(i),()=>{var a;const s=document.getElementById(t);s&&((a=r.parentElement)==null||a.removeChild(r),s.remove())}}function GS({placeholder:n,getVisibleMonths:e,weekStartsOn:t,locale:r,fixedWeeks:i,numberOfMonths:s,setMonths:a}){Qe(()=>{n.current,_t(()=>{if(e().some(l=>mm(l,n.current)))return;const o={weekStartsOn:t.current,locale:r.current,fixedWeeks:i.current,numberOfMonths:s.current};a(uc({...o,dateObj:n.current}))})})}function KS({maxValue:n,months:e,disabled:t}){var s;if(!n||!e.length)return!1;if(t)return!0;const r=(s=e[e.length-1])==null?void 0:s.value;if(!r)return!1;const i=r.add({months:1}).set({day:1});return RS(i,n)}function qS({minValue:n,months:e,disabled:t}){var s;if(!n||!e.length)return!1;if(t)return!0;const r=(s=e[0])==null?void 0:s.value;if(!r)return!1;const i=r.subtract({months:1}).set({day:35});return ja(i,n)}function XS({months:n,locale:e,formatter:t}){if(!n.length)return"";if(e!==t.getLocale()&&t.setLocale(e),n.length===1){const u=Mr(n[0].value);return`${t.fullMonthAndYear(u)}`}const r=Mr(n[0].value),i=Mr(n[n.length-1].value),s=t.fullMonth(r),a=t.fullMonth(i),o=t.fullYear(r),l=t.fullYear(i);return o===l?`${s} - ${a} ${l}`:`${s} ${o} - ${a} ${l}`}function JS({fullCalendarLabel:n,id:e,isInvalid:t,disabled:r,readonly:i}){return{id:e,role:"application","aria-label":n,"data-invalid":mw(t),"data-disabled":Ct(r),"data-readonly":bi(i)}}function QS(n){var r;if(!Zf)return;const e=Array.from(n.querySelectorAll("[data-bits-day]:not([aria-disabled=true])"));if(e.length===0)return;const t=(r=e[0])==null?void 0:r.getAttribute("data-value");if(t)return Zb(t)}function eT({ref:n,placeholder:e,defaultPlaceholder:t,minValue:r,maxValue:i,isDateDisabled:s}){function a(o){return!!(s.current(o)||r.current&&ja(o,r.current)||i.current&&ja(i.current,o))}Zt(()=>n.current,()=>{n.current&&e.current&&zr(e.current,t)&&a(t)&&(e.current=QS(n.current)??t)})}var ho,Zu,Yu,$u,Gu,Ku,qu,Xu,Ju,Qu;class tT{constructor(e){R(this,"opts");M(this,ho,ee(ct([])));M(this,Zu,C(()=>this.months.map(e=>e.value)));R(this,"announcer");R(this,"formatter");R(this,"accessibleHeadingId",Ue());M(this,Yu,C(()=>ZS({months:this.months,formatter:this.formatter,weekdayFormat:this.opts.weekdayFormat.current})));M(this,$u,C(()=>KS({maxValue:this.opts.maxValue.current,months:this.months,disabled:this.opts.disabled.current})));M(this,Gu,C(()=>qS({minValue:this.opts.minValue.current,months:this.months,disabled:this.opts.disabled.current})));M(this,Ku,C(()=>{const e=this.opts.value.current,t=this.opts.isDateDisabled.current,r=this.opts.isDateUnavailable.current;if(Array.isArray(e)){if(!e.length)return!1;for(const i of e)if(t(i)||r(i))return!0}else{if(!e)return!1;if(t(e)||r(e))return!0}return!1}));M(this,qu,C(()=>XS({months:this.months,formatter:this.formatter,locale:this.opts.locale.current})));M(this,Xu,C(()=>`${this.opts.calendarLabel.current} ${this.headingValue}`));M(this,Ju,C(()=>({months:this.months,weekdays:this.weekdays})));M(this,Qu,C(()=>({...JS({fullCalendarLabel:this.fullCalendarLabel,id:this.opts.id.current,isInvalid:this.isInvalid,disabled:this.opts.disabled.current,readonly:this.opts.readonly.current}),[this.getBitsAttr("root")]:"",onkeydown:this.onkeydown})));this.opts=e,this.announcer=MS(),this.formatter=jS(this.opts.locale.current),this.setMonths=this.setMonths.bind(this),this.nextPage=this.nextPage.bind(this),this.prevPage=this.prevPage.bind(this),this.prevYear=this.prevYear.bind(this),this.nextYear=this.nextYear.bind(this),this.setYear=this.setYear.bind(this),this.setMonth=this.setMonth.bind(this),this.isOutsideVisibleMonths=this.isOutsideVisibleMonths.bind(this),this.isDateDisabled=this.isDateDisabled.bind(this),this.isDateSelected=this.isDateSelected.bind(this),this.shiftFocus=this.shiftFocus.bind(this),this.handleCellClick=this.handleCellClick.bind(this),this.handleMultipleUpdate=this.handleMultipleUpdate.bind(this),this.handleSingleUpdate=this.handleSingleUpdate.bind(this),this.onkeydown=this.onkeydown.bind(this),this.getBitsAttr=this.getBitsAttr.bind(this),Ze(e),this.months=uc({dateObj:this.opts.placeholder.current,weekStartsOn:this.opts.weekStartsOn.current,locale:this.opts.locale.current,fixedWeeks:this.opts.fixedWeeks.current,numberOfMonths:this.opts.numberOfMonths.current}),Qe(()=>{var r;if(_t(()=>this.opts.initialFocus.current)){const i=(r=this.opts.ref.current)==null?void 0:r.querySelector("[data-focused]");i&&i.focus()}}),Qe(()=>this.opts.ref.current?$S({calendarNode:this.opts.ref.current,label:this.fullCalendarLabel,accessibleHeadingId:this.accessibleHeadingId}):void 0),Qe(()=>{this.formatter.getLocale()!==this.opts.locale.current&&this.formatter.setLocale(this.opts.locale.current)}),GS({placeholder:this.opts.placeholder,getVisibleMonths:()=>this.visibleMonths,weekStartsOn:this.opts.weekStartsOn,locale:this.opts.locale,fixedWeeks:this.opts.fixedWeeks,numberOfMonths:this.opts.numberOfMonths,setMonths:t=>this.months=t}),YS({fixedWeeks:this.opts.fixedWeeks,locale:this.opts.locale,numberOfMonths:this.opts.numberOfMonths,placeholder:this.opts.placeholder,setMonths:this.setMonths,weekStartsOn:this.opts.weekStartsOn}),Qe(()=>{const t=document.getElementById(this.accessibleHeadingId);t&&(t.textContent=this.fullCalendarLabel)}),Zt(()=>this.opts.value.current,()=>{const t=this.opts.value.current;if(Array.isArray(t)&&t.length){const r=t[t.length-1];r&&this.opts.placeholder.current!==r&&(this.opts.placeholder.current=r)}else!Array.isArray(t)&&t&&this.opts.placeholder.current!==t&&(this.opts.placeholder.current=t)}),eT({placeholder:e.placeholder,defaultPlaceholder:e.defaultPlaceholder,isDateDisabled:e.isDateDisabled,maxValue:e.maxValue,minValue:e.minValue,ref:e.ref})}get months(){return g(x(this,ho))}set months(e){H(x(this,ho),e,!0)}get visibleMonths(){return g(x(this,Zu))}setMonths(e){this.months=e}get weekdays(){return g(x(this,Yu))}nextPage(){US({fixedWeeks:this.opts.fixedWeeks.current,locale:this.opts.locale.current,numberOfMonths:this.opts.numberOfMonths.current,pagedNavigation:this.opts.pagedNavigation.current,setMonths:this.setMonths,setPlaceholder:e=>this.opts.placeholder.current=e,weekStartsOn:this.opts.weekStartsOn.current,months:this.months})}prevPage(){HS({fixedWeeks:this.opts.fixedWeeks.current,locale:this.opts.locale.current,numberOfMonths:this.opts.numberOfMonths.current,pagedNavigation:this.opts.pagedNavigation.current,setMonths:this.setMonths,setPlaceholder:e=>this.opts.placeholder.current=e,weekStartsOn:this.opts.weekStartsOn.current,months:this.months})}nextYear(){this.opts.placeholder.current=this.opts.placeholder.current.add({years:1})}prevYear(){this.opts.placeholder.current=this.opts.placeholder.current.subtract({years:1})}setYear(e){this.opts.placeholder.current=this.opts.placeholder.current.set({year:e})}setMonth(e){this.opts.placeholder.current=this.opts.placeholder.current.set({month:e})}get isNextButtonDisabled(){return g(x(this,$u))}get isPrevButtonDisabled(){return g(x(this,Gu))}get isInvalid(){return g(x(this,Ku))}get headingValue(){return g(x(this,qu))}get fullCalendarLabel(){return g(x(this,Xu))}isOutsideVisibleMonths(e){return!this.visibleMonths.some(t=>mm(e,t))}isDateDisabled(e){if(this.opts.isDateDisabled.current(e)||this.opts.disabled.current)return!0;const t=this.opts.minValue.current,r=this.opts.maxValue.current;return!!(t&&ja(e,t)||r&&ja(r,e))}isDateSelected(e){const t=this.opts.value.current;return Array.isArray(t)?t.some(r=>zr(r,e)):t?zr(t,e):!1}shiftFocus(e,t){return VS({node:e,add:t,placeholder:this.opts.placeholder,calendarNode:this.opts.ref.current,isPrevButtonDisabled:this.isPrevButtonDisabled,isNextButtonDisabled:this.isNextButtonDisabled,months:this.months,numberOfMonths:this.opts.numberOfMonths.current})}handleCellClick(e,t){var l,c;if(this.opts.readonly.current)return;const i=this.opts.isDateDisabled.current,s=this.opts.isDateUnavailable.current;if(i!=null&&i(t)||s!=null&&s(t))return;const a=this.opts.value.current;if(this.opts.type.current==="multiple")(Array.isArray(a)||a===void 0)&&(this.opts.value.current=this.handleMultipleUpdate(a,t));else if(!Array.isArray(a)){const u=this.handleSingleUpdate(a,t);u?this.announcer.announce(`Selected Date: ${this.formatter.selectedDate(u,!1)}`,"polite"):this.announcer.announce("Selected date is now empty.","polite",5e3),this.opts.value.current=u,u!==void 0&&((c=(l=this.opts.onDateSelect)==null?void 0:l.current)==null||c.call(l))}}handleMultipleUpdate(e,t){if(!e)return[t];if(!Array.isArray(e))return;const r=e.findIndex(s=>zr(s,t)),i=this.opts.preventDeselect.current;if(r===-1)return[...e,t];if(i)return e;{const s=e.filter(a=>!zr(a,t));if(!s.length){this.opts.placeholder.current=t;return}return s}}handleSingleUpdate(e,t){if(!e)return t;if(!this.opts.preventDeselect.current&&zr(e,t)){this.opts.placeholder.current=t;return}return t}onkeydown(e){WS({event:e,handleCellClick:this.handleCellClick,shiftFocus:this.shiftFocus,placeholderValue:this.opts.placeholder.current})}get snippetProps(){return g(x(this,Ju))}getBitsAttr(e){return`data-bits-calendar-${e}`}get props(){return g(x(this,Qu))}}ho=new WeakMap,Zu=new WeakMap,Yu=new WeakMap,$u=new WeakMap,Gu=new WeakMap,Ku=new WeakMap,qu=new WeakMap,Xu=new WeakMap,Ju=new WeakMap,Qu=new WeakMap;var ed,td;class nT{constructor(e,t){R(this,"opts");R(this,"root");M(this,ed,C(()=>this.root.headingValue));M(this,td,C(()=>({id:this.opts.id.current,"aria-hidden":pw(!0),"data-disabled":Ct(this.root.opts.disabled.current),"data-readonly":bi(this.root.opts.readonly.current),[this.root.getBitsAttr("heading")]:""})));this.opts=e,this.root=t,Ze(e)}get headingValue(){return g(x(this,ed))}get props(){return g(x(this,td))}}ed=new WeakMap,td=new WeakMap;var nd,rd,id,sd,ad,od,ld,cd,ud,dd,fd,hd,gd;class rT{constructor(e,t){R(this,"opts");R(this,"root");M(this,nd,C(()=>Mr(this.opts.date.current)));M(this,rd,C(()=>this.root.isDateDisabled(this.opts.date.current)));M(this,id,C(()=>this.root.opts.isDateUnavailable.current(this.opts.date.current)));M(this,sd,C(()=>Y1(this.opts.date.current,cc())));M(this,ad,C(()=>!mm(this.opts.date.current,this.opts.month.current)));M(this,od,C(()=>this.root.isOutsideVisibleMonths(this.opts.date.current)));M(this,ld,C(()=>zr(this.opts.date.current,this.root.opts.placeholder.current)));M(this,cd,C(()=>this.root.isDateSelected(this.opts.date.current)));M(this,ud,C(()=>this.root.formatter.custom(this.cellDate,{weekday:"long",month:"long",day:"numeric",year:"numeric"})));M(this,dd,C(()=>({disabled:this.isDisabled,unavailable:this.isUnavailable,selected:this.isSelectedDate})));M(this,fd,C(()=>this.isDisabled||this.isOutsideMonth&&this.root.opts.disableDaysOutsideMonth.current||this.isUnavailable));M(this,hd,C(()=>({"data-unavailable":yw(this.isUnavailable),"data-today":this.isDateToday?"":void 0,"data-outside-month":this.isOutsideMonth?"":void 0,"data-outside-visible-months":this.isOutsideVisibleMonths?"":void 0,"data-focused":this.isFocusedDate?"":void 0,"data-selected":xb(this.isSelectedDate),"data-value":this.opts.date.current.toString(),"data-disabled":Ct(this.isDisabled||this.isOutsideMonth&&this.root.opts.disableDaysOutsideMonth.current)})));M(this,gd,C(()=>({id:this.opts.id.current,role:"gridcell","aria-selected":lm(this.isSelectedDate),"aria-disabled":yi(this.ariaDisabled),...this.sharedDataAttrs,[this.root.getBitsAttr("cell")]:""})));this.opts=e,this.root=t,Ze(e)}get cellDate(){return g(x(this,nd))}get isDisabled(){return g(x(this,rd))}get isUnavailable(){return g(x(this,id))}get isDateToday(){return g(x(this,sd))}get isOutsideMonth(){return g(x(this,ad))}get isOutsideVisibleMonths(){return g(x(this,od))}get isFocusedDate(){return g(x(this,ld))}get isSelectedDate(){return g(x(this,cd))}get labelText(){return g(x(this,ud))}get snippetProps(){return g(x(this,dd))}get ariaDisabled(){return g(x(this,fd))}get sharedDataAttrs(){return g(x(this,hd))}get props(){return g(x(this,gd))}}nd=new WeakMap,rd=new WeakMap,id=new WeakMap,sd=new WeakMap,ad=new WeakMap,od=new WeakMap,ld=new WeakMap,cd=new WeakMap,ud=new WeakMap,dd=new WeakMap,fd=new WeakMap,hd=new WeakMap,gd=new WeakMap;var md,pd,vd;class iT{constructor(e,t){R(this,"opts");R(this,"cell");M(this,md,C(()=>this.cell.isOutsideMonth&&this.cell.root.opts.disableDaysOutsideMonth.current||this.cell.isDisabled?void 0:this.cell.isFocusedDate?0:-1));M(this,pd,C(()=>({disabled:this.cell.isDisabled,unavailable:this.cell.isUnavailable,selected:this.cell.isSelectedDate,day:`${this.cell.opts.date.current.day}`})));M(this,vd,C(()=>({id:this.opts.id.current,role:"button","aria-label":this.cell.labelText,"aria-disabled":yi(this.cell.ariaDisabled),...this.cell.sharedDataAttrs,tabindex:g(x(this,md)),[this.cell.root.getBitsAttr("day")]:"","data-bits-day":"",onclick:this.onclick})));this.opts=e,this.cell=t,this.onclick=this.onclick.bind(this),Ze(e)}onclick(e){this.cell.isDisabled||this.cell.root.handleCellClick(e,this.cell.opts.date.current)}get snippetProps(){return g(x(this,pd))}get props(){return g(x(this,vd))}}md=new WeakMap,pd=new WeakMap,vd=new WeakMap;var yd,bd;class sT{constructor(e,t){R(this,"opts");R(this,"root");M(this,yd,C(()=>this.root.isNextButtonDisabled));M(this,bd,C(()=>({id:this.opts.id.current,role:"button",type:"button","aria-label":"Next","aria-disabled":yi(this.isDisabled),"data-disabled":Ct(this.isDisabled),disabled:this.isDisabled,[this.root.getBitsAttr("next-button")]:"",onclick:this.onclick})));this.opts=e,this.root=t,this.onclick=this.onclick.bind(this),Ze(e)}get isDisabled(){return g(x(this,yd))}onclick(e){this.isDisabled||this.root.nextPage()}get props(){return g(x(this,bd))}}yd=new WeakMap,bd=new WeakMap;var _d,xd;class aT{constructor(e,t){R(this,"opts");R(this,"root");M(this,_d,C(()=>this.root.isPrevButtonDisabled));M(this,xd,C(()=>({id:this.opts.id.current,role:"button",type:"button","aria-label":"Previous","aria-disabled":yi(this.isDisabled),"data-disabled":Ct(this.isDisabled),disabled:this.isDisabled,[this.root.getBitsAttr("prev-button")]:"",onclick:this.onclick})));this.opts=e,this.root=t,this.onclick=this.onclick.bind(this),Ze(e)}get isDisabled(){return g(x(this,_d))}onclick(e){this.isDisabled||this.root.prevPage()}get props(){return g(x(this,xd))}}_d=new WeakMap,xd=new WeakMap;var wd;class oT{constructor(e,t){R(this,"opts");R(this,"root");M(this,wd,C(()=>({id:this.opts.id.current,tabindex:-1,role:"grid","aria-readonly":vw(this.root.opts.readonly.current),"aria-disabled":yi(this.root.opts.disabled.current),"data-readonly":bi(this.root.opts.readonly.current),"data-disabled":Ct(this.root.opts.disabled.current),[this.root.getBitsAttr("grid")]:""})));this.opts=e,this.root=t,Ze(e)}get props(){return g(x(this,wd))}}wd=new WeakMap;var Sd;class lT{constructor(e,t){R(this,"opts");R(this,"root");M(this,Sd,C(()=>({id:this.opts.id.current,"data-disabled":Ct(this.root.opts.disabled.current),"data-readonly":bi(this.root.opts.readonly.current),[this.root.getBitsAttr("grid-body")]:""})));this.opts=e,this.root=t,Ze(e)}get props(){return g(x(this,Sd))}}Sd=new WeakMap;var Td;class cT{constructor(e,t){R(this,"opts");R(this,"root");M(this,Td,C(()=>({id:this.opts.id.current,"data-disabled":Ct(this.root.opts.disabled.current),"data-readonly":bi(this.root.opts.readonly.current),[this.root.getBitsAttr("grid-head")]:""})));this.opts=e,this.root=t,Ze(e)}get props(){return g(x(this,Td))}}Td=new WeakMap;var kd;class uT{constructor(e,t){R(this,"opts");R(this,"root");M(this,kd,C(()=>({id:this.opts.id.current,"data-disabled":Ct(this.root.opts.disabled.current),"data-readonly":bi(this.root.opts.readonly.current),[this.root.getBitsAttr("grid-row")]:""})));this.opts=e,this.root=t,Ze(e)}get props(){return g(x(this,kd))}}kd=new WeakMap;var Pd;class dT{constructor(e,t){R(this,"opts");R(this,"root");M(this,Pd,C(()=>({id:this.opts.id.current,"data-disabled":Ct(this.root.opts.disabled.current),"data-readonly":bi(this.root.opts.readonly.current),[this.root.getBitsAttr("head-cell")]:""})));this.opts=e,this.root=t,Ze(e)}get props(){return g(x(this,Pd))}}Pd=new WeakMap;var Ad;class fT{constructor(e,t){R(this,"opts");R(this,"root");M(this,Ad,C(()=>({id:this.opts.id.current,"data-disabled":Ct(this.root.opts.disabled.current),"data-readonly":bi(this.root.opts.readonly.current),[this.root.getBitsAttr("header")]:""})));this.opts=e,this.root=t,Ze(e)}get props(){return g(x(this,Ad))}}Ad=new WeakMap;const Yn=new un("Calendar.Root | RangeCalender.Root"),Jb=new un("Calendar.Cell | RangeCalendar.Cell");function hT(n){return Yn.set(new tT(n))}function gT(n){return new oT(n,Yn.get())}function mT(n){return Jb.set(new rT(n,Yn.get()))}function pT(n){return new sT(n,Yn.get())}function vT(n){return new aT(n,Yn.get())}function yT(n){return new iT(n,Jb.get())}function bT(n){return new lT(n,Yn.get())}function _T(n){return new cT(n,Yn.get())}function xT(n){return new uT(n,Yn.get())}function wT(n){return new dT(n,Yn.get())}function ST(n){return new fT(n,Yn.get())}function TT(n){return new nT(n,Yn.get())}var kT=$("<div><!></div>");function PT(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"value",15),s=w(e,"onValueChange",3,St),a=w(e,"placeholder",15),o=w(e,"onPlaceholderChange",3,St),l=w(e,"weekdayFormat",3,"narrow"),c=w(e,"weekStartsOn",3,0),u=w(e,"pagedNavigation",3,!1),d=w(e,"isDateDisabled",3,()=>!1),h=w(e,"isDateUnavailable",3,()=>!1),f=w(e,"fixedWeeks",3,!1),m=w(e,"numberOfMonths",3,1),p=w(e,"locale",3,"en"),v=w(e,"calendarLabel",3,"Event"),y=w(e,"disabled",3,!1),_=w(e,"readonly",3,!1),S=w(e,"minValue",3,void 0),T=w(e,"maxValue",3,void 0),k=w(e,"preventDeselect",3,!1),O=w(e,"disableDaysOutsideMonth",3,!0),D=w(e,"initialFocus",3,!1),j=ye(e,["$$slots","$$events","$$legacy","child","children","id","ref","value","onValueChange","placeholder","onPlaceholderChange","weekdayFormat","weekStartsOn","pagedNavigation","isDateDisabled","isDateUnavailable","fixedWeeks","numberOfMonths","locale","calendarLabel","disabled","readonly","minValue","maxValue","preventDeselect","type","disableDaysOutsideMonth","initialFocus"]);const V=CS({defaultValue:i()});if(a()===void 0&&a(V),i()===void 0){const F=e.type==="single"?"":[];i(F)}const Z=hT({id:B.with(()=>t()),ref:B.with(()=>r(),F=>r(F)),weekdayFormat:B.with(()=>l()),weekStartsOn:B.with(()=>c()),pagedNavigation:B.with(()=>u()),isDateDisabled:B.with(()=>d()),isDateUnavailable:B.with(()=>h()),fixedWeeks:B.with(()=>f()),numberOfMonths:B.with(()=>m()),locale:B.with(()=>p()),calendarLabel:B.with(()=>v()),readonly:B.with(()=>_()),disabled:B.with(()=>y()),minValue:B.with(()=>S()),maxValue:B.with(()=>T()),disableDaysOutsideMonth:B.with(()=>O()),initialFocus:B.with(()=>D()),placeholder:B.with(()=>a(),F=>{a(F),o()(F)}),preventDeselect:B.with(()=>k()),value:B.with(()=>i(),F=>{i(F),s()(F)}),type:B.with(()=>e.type),defaultPlaceholder:V}),L=C(()=>ze(j,Z.props));var z=I(),J=P(z);{var G=F=>{var W=I(),N=P(W),U=yt(()=>({props:g(L),...Z.snippetProps}));le(N,()=>e.child,()=>g(U)),b(F,W)},E=F=>{var W=kT();let N;var U=ne(W);le(U,()=>e.children??Ae,()=>Z.snippetProps),Q(W),fe(()=>N=Oe(W,N,{...g(L)})),b(F,W)};ve(J,F=>{e.child?F(G):F(E,!1)})}b(n,z),ie()}var AT=$("<div><!></div>");function MT(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=yT({id:B.with(()=>r()),ref:B.with(()=>t(),d=>t(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h),m=yt(()=>({props:g(a),...s.snippetProps}));le(f,()=>e.child,()=>g(m)),b(d,h)},u=d=>{var h=AT();let f;var m=ne(h);{var p=y=>{var _=I(),S=P(_);le(S,()=>e.children??Ae,()=>s.snippetProps),b(y,_)},v=y=>{var _=Le();fe(()=>Xe(_,s.cell.opts.date.current.day)),b(y,_)};ve(m,y=>{e.children?y(p):y(v,!1)})}Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var OT=$("<table><!></table>");function CT(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=gT({id:B.with(()=>r()),ref:B.with(()=>t(),d=>t(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=OT();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var DT=$("<tbody><!></tbody>");function ET(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=bT({id:B.with(()=>r()),ref:B.with(()=>t(),d=>t(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=DT();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var IT=$("<td><!></td>");function RT(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id","date","month"]);const s=mT({id:B.with(()=>r()),ref:B.with(()=>t(),d=>t(d)),date:B.with(()=>e.date),month:B.with(()=>e.month)}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h),m=yt(()=>({props:g(a),...s.snippetProps}));le(f,()=>e.child,()=>g(m)),b(d,h)},u=d=>{var h=IT();let f;var m=ne(h);le(m,()=>e.children??Ae,()=>s.snippetProps),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var NT=$("<thead><!></thead>");function FT(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=_T({id:B.with(()=>r()),ref:B.with(()=>t(),d=>t(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=NT();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var LT=$("<th><!></th>");function jT(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=wT({id:B.with(()=>r()),ref:B.with(()=>t(),d=>t(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=LT();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var BT=$("<tr><!></tr>");function zT(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=xT({id:B.with(()=>r()),ref:B.with(()=>t(),d=>t(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=BT();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var VT=$("<header><!></header>");function WT(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=ST({id:B.with(()=>r()),ref:B.with(()=>t(),d=>t(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=VT();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var UT=$("<div><!></div>");function HT(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=TT({id:B.with(()=>r()),ref:B.with(()=>t(),d=>t(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a),headingValue:s.headingValue})),b(d,h)},u=d=>{var h=UT();let f;var m=ne(h);{var p=y=>{var _=I(),S=P(_);le(S,()=>e.children??Ae,()=>({headingValue:s.headingValue})),b(y,_)},v=y=>{var _=Le();fe(()=>Xe(_,s.headingValue)),b(y,_)};ve(m,y=>{e.children?y(p):y(v,!1)})}Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var ZT=$("<button><!></button>");function YT(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const s=pT({id:B.with(()=>t()),ref:B.with(()=>r(),d=>r(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=ZT();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var $T=$("<button><!></button>");function GT(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const s=vT({id:B.with(()=>t()),ref:B.with(()=>r(),d=>r(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=$T();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}const KT=["top","right","bottom","left"],oi=Math.min,wn=Math.max,hu=Math.round,Sc=Math.floor,nr=n=>({x:n,y:n}),qT={left:"right",right:"left",bottom:"top",top:"bottom"},XT={start:"end",end:"start"};function ug(n,e,t){return wn(n,oi(e,t))}function Cr(n,e){return typeof n=="function"?n(e):n}function Dr(n){return n.split("-")[0]}function $s(n){return n.split("-")[1]}function xm(n){return n==="x"?"y":"x"}function wm(n){return n==="y"?"height":"width"}function li(n){return["top","bottom"].includes(Dr(n))?"y":"x"}function Sm(n){return xm(li(n))}function JT(n,e,t){t===void 0&&(t=!1);const r=$s(n),i=Sm(n),s=wm(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=gu(a)),[a,gu(a)]}function QT(n){const e=gu(n);return[dg(n),e,dg(e)]}function dg(n){return n.replace(/start|end/g,e=>XT[e])}function ek(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function tk(n,e,t,r){const i=$s(n);let s=ek(Dr(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(dg)))),s}function gu(n){return n.replace(/left|right|bottom|top/g,e=>qT[e])}function nk(n){return{top:0,right:0,bottom:0,left:0,...n}}function Qb(n){return typeof n!="number"?nk(n):{top:n,right:n,bottom:n,left:n}}function mu(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Rp(n,e,t){let{reference:r,floating:i}=n;const s=li(e),a=Sm(e),o=wm(a),l=Dr(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch($s(e)){case"start":f[a]-=h*(t&&c?-1:1);break;case"end":f[a]+=h*(t&&c?-1:1);break}return f}const rk=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=Rp(c,r,l),h=r,f={},m=0;for(let p=0;p<o.length;p++){const{name:v,fn:y}=o[p],{x:_,y:S,data:T,reset:k}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:n,floating:e}});u=_??u,d=S??d,f={...f,[v]:{...f[v],...T}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):k.rects),{x:u,y:d}=Rp(c,h,l)),p=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function Ba(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Cr(e,n),m=Qb(f),v=o[h?d==="floating"?"reference":"floating":d],y=mu(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(v)))==null||t?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),_=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),T=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},k=mu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:S,strategy:l}):_);return{top:(y.top-k.top+m.top)/T.y,bottom:(k.bottom-y.bottom+m.bottom)/T.y,left:(y.left-k.left+m.left)/T.x,right:(k.right-y.right+m.right)/T.x}}const ik=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Cr(n,e)||{};if(c==null)return{};const d=Qb(u),h={x:t,y:r},f=Sm(i),m=wm(f),p=await a.getDimensions(c),v=f==="y",y=v?"top":"left",_=v?"bottom":"right",S=v?"clientHeight":"clientWidth",T=s.reference[m]+s.reference[f]-h[f]-s.floating[m],k=h[f]-s.reference[f],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let D=O?O[S]:0;(!D||!await(a.isElement==null?void 0:a.isElement(O)))&&(D=o.floating[S]||s.floating[m]);const j=T/2-k/2,V=D/2-p[m]/2-1,Z=oi(d[y],V),L=oi(d[_],V),z=Z,J=D-p[m]-L,G=D/2-p[m]/2+j,E=ug(z,G,J),F=!l.arrow&&$s(i)!=null&&G!==E&&s.reference[m]/2-(G<z?Z:L)-p[m]/2<0,W=F?G<z?G-z:G-J:0;return{[f]:h[f]+W,data:{[f]:E,centerOffset:G-E-W,...F&&{alignmentOffset:W}},reset:F}}}),sk=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...v}=Cr(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const y=Dr(i),_=li(o),S=Dr(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(S||!p?[gu(o)]:QT(o)),O=m!=="none";!h&&O&&k.push(...tk(o,p,m,T));const D=[o,...k],j=await Ba(e,v),V=[];let Z=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&V.push(j[y]),d){const G=JT(i,a,T);V.push(j[G[0]],j[G[1]])}if(Z=[...Z,{placement:i,overflows:V}],!V.every(G=>G<=0)){var L,z;const G=(((L=s.flip)==null?void 0:L.index)||0)+1,E=D[G];if(E)return{data:{index:G,overflows:Z},reset:{placement:E}};let F=(z=Z.filter(W=>W.overflows[0]<=0).sort((W,N)=>W.overflows[1]-N.overflows[1])[0])==null?void 0:z.placement;if(!F)switch(f){case"bestFit":{var J;const W=(J=Z.filter(N=>{if(O){const U=li(N.placement);return U===_||U==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((N,U)=>N[1]-U[1])[0])==null?void 0:J[0];W&&(F=W);break}case"initialPlacement":F=o;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function Np(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Fp(n){return KT.some(e=>n[e]>=0)}const ak=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Cr(n,e);switch(r){case"referenceHidden":{const s=await Ba(e,{...i,elementContext:"reference"}),a=Np(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Fp(a)}}}case"escaped":{const s=await Ba(e,{...i,altBoundary:!0}),a=Np(s,t.floating);return{data:{escapedOffsets:a,escaped:Fp(a)}}}default:return{}}}}};async function ok(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Dr(t),o=$s(t),l=li(t)==="y",c=["left","top"].includes(a)?-1:1,u=s&&l?-1:1,d=Cr(e,n);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof m=="number"&&(f=o==="end"?m*-1:m),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const lk=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await ok(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},ck=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x:y,y:_}=v;return{x:y,y:_}}},...l}=Cr(n,e),c={x:t,y:r},u=await Ba(e,l),d=li(Dr(i)),h=xm(d);let f=c[h],m=c[d];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",_=f+u[v],S=f-u[y];f=ug(_,f,S)}if(a){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",_=m+u[v],S=m-u[y];m=ug(_,m,S)}const p=o.fn({...e,[h]:f,[d]:m});return{...p,data:{x:p.x-t,y:p.y-r,enabled:{[h]:s,[d]:a}}}}}},uk=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Cr(n,e),u={x:t,y:r},d=li(i),h=xm(d);let f=u[h],m=u[d];const p=Cr(o,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const S=h==="y"?"height":"width",T=s.reference[h]-s.floating[S]+v.mainAxis,k=s.reference[h]+s.reference[S]-v.mainAxis;f<T?f=T:f>k&&(f=k)}if(c){var y,_;const S=h==="y"?"width":"height",T=["top","left"].includes(Dr(i)),k=s.reference[d]-s.floating[S]+(T&&((y=a.offset)==null?void 0:y[d])||0)+(T?0:v.crossAxis),O=s.reference[d]+s.reference[S]+(T?0:((_=a.offset)==null?void 0:_[d])||0)-(T?v.crossAxis:0);m<k?m=k:m>O&&(m=O)}return{[h]:f,[d]:m}}}},dk=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Cr(n,e),u=await Ba(e,c),d=Dr(i),h=$s(i),f=li(i)==="y",{width:m,height:p}=s.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=d,v=h==="end"?"top":"bottom");const _=p-u.top-u.bottom,S=m-u.left-u.right,T=oi(p-u[v],_),k=oi(m-u[y],S),O=!e.middlewareData.shift;let D=T,j=k;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(j=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=_),O&&!h){const Z=wn(u.left,0),L=wn(u.right,0),z=wn(u.top,0),J=wn(u.bottom,0);f?j=m-2*(Z!==0||L!==0?Z+L:wn(u.left,u.right)):D=p-2*(z!==0||J!==0?z+J:wn(u.top,u.bottom))}await l({...e,availableWidth:j,availableHeight:D});const V=await a.getDimensions(o.floating);return m!==V.width||p!==V.height?{reset:{rects:!0}}:{}}}};function qf(){return typeof window<"u"}function Gs(n){return e_(n)?(n.nodeName||"").toLowerCase():"#document"}function kn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function fr(n){var e;return(e=(e_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function e_(n){return qf()?n instanceof Node||n instanceof kn(n).Node:!1}function Wn(n){return qf()?n instanceof Element||n instanceof kn(n).Element:!1}function sr(n){return qf()?n instanceof HTMLElement||n instanceof kn(n).HTMLElement:!1}function Lp(n){return!qf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof kn(n).ShadowRoot}function dc(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Un(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function fk(n){return["table","td","th"].includes(Gs(n))}function Xf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Tm(n){const e=km(),t=Wn(n)?Un(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function hk(n){let e=ci(n);for(;sr(e)&&!Fs(e);){if(Tm(e))return e;if(Xf(e))return null;e=ci(e)}return null}function km(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fs(n){return["html","body","#document"].includes(Gs(n))}function Un(n){return kn(n).getComputedStyle(n)}function Jf(n){return Wn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ci(n){if(Gs(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Lp(n)&&n.host||fr(n);return Lp(e)?e.host:e}function t_(n){const e=ci(n);return Fs(e)?n.ownerDocument?n.ownerDocument.body:n.body:sr(e)&&dc(e)?e:t_(e)}function za(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=t_(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=kn(i);if(s){const o=fg(a);return e.concat(a,a.visualViewport||[],dc(i)?i:[],o&&t?za(o):[])}return e.concat(i,za(i,[],t))}function fg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function n_(n){const e=Un(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=sr(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,o=hu(t)!==s||hu(r)!==a;return o&&(t=s,r=a),{width:t,height:r,$:o}}function Pm(n){return Wn(n)?n:n.contextElement}function fs(n){const e=Pm(n);if(!sr(e))return nr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=n_(e);let a=(s?hu(t.width):t.width)/r,o=(s?hu(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const gk=nr(0);function r_(n){const e=kn(n);return!km()||!e.visualViewport?gk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mk(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==kn(n)?!1:e}function Vi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=Pm(n);let a=nr(1);e&&(r?Wn(r)&&(a=fs(r)):a=fs(n));const o=mk(s,t,r)?r_(s):nr(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const h=kn(s),f=r&&Wn(r)?kn(r):r;let m=h,p=fg(m);for(;p&&r&&f!==m;){const v=fs(p),y=p.getBoundingClientRect(),_=Un(p),S=y.left+(p.clientLeft+parseFloat(_.paddingLeft))*v.x,T=y.top+(p.clientTop+parseFloat(_.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=S,c+=T,m=kn(p),p=fg(m)}}return mu({width:u,height:d,x:l,y:c})}function Am(n,e){const t=Jf(n).scrollLeft;return e?e.left+t:Vi(fr(n)).left+t}function i_(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Am(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function pk(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=fr(r),o=e?Xf(e.floating):!1;if(r===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},c=nr(1);const u=nr(0),d=sr(r);if((d||!d&&!s)&&((Gs(r)!=="body"||dc(a))&&(l=Jf(r)),sr(r))){const f=Vi(r);c=fs(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=a&&!d&&!s?i_(a,l,!0):nr(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:t.y*c.y-l.scrollTop*c.y+u.y+h.y}}function vk(n){return Array.from(n.getClientRects())}function yk(n){const e=fr(n),t=Jf(n),r=n.ownerDocument.body,i=wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+Am(n);const o=-t.scrollTop;return Un(r).direction==="rtl"&&(a+=wn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function bk(n,e){const t=kn(n),r=fr(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=km();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function _k(n,e){const t=Vi(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=sr(n)?fs(n):nr(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function jp(n,e,t){let r;if(e==="viewport")r=bk(n,t);else if(e==="document")r=yk(fr(n));else if(Wn(e))r=_k(e,t);else{const i=r_(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return mu(r)}function s_(n,e){const t=ci(n);return t===e||!Wn(t)||Fs(t)?!1:Un(t).position==="fixed"||s_(t,e)}function xk(n,e){const t=e.get(n);if(t)return t;let r=za(n,[],!1).filter(o=>Wn(o)&&Gs(o)!=="body"),i=null;const s=Un(n).position==="fixed";let a=s?ci(n):n;for(;Wn(a)&&!Fs(a);){const o=Un(a),l=Tm(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||dc(a)&&!l&&s_(n,a))?r=r.filter(u=>u!==a):i=o,a=ci(a)}return e.set(n,r),r}function wk(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?Xf(e)?[]:xk(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((c,u)=>{const d=jp(e,u,i);return c.top=wn(d.top,c.top),c.right=oi(d.right,c.right),c.bottom=oi(d.bottom,c.bottom),c.left=wn(d.left,c.left),c},jp(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Sk(n){const{width:e,height:t}=n_(n);return{width:e,height:t}}function Tk(n,e,t){const r=sr(e),i=fr(e),s=t==="fixed",a=Vi(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=nr(0);if(r||!r&&!s)if((Gs(e)!=="body"||dc(i))&&(o=Jf(e)),r){const h=Vi(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=Am(i));const c=i&&!r&&!s?i_(i,o):nr(0),u=a.left+o.scrollLeft-l.x-c.x,d=a.top+o.scrollTop-l.y-c.y;return{x:u,y:d,width:a.width,height:a.height}}function Oh(n){return Un(n).position==="static"}function Bp(n,e){if(!sr(n)||Un(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return fr(n)===t&&(t=t.ownerDocument.body),t}function a_(n,e){const t=kn(n);if(Xf(n))return t;if(!sr(n)){let i=ci(n);for(;i&&!Fs(i);){if(Wn(i)&&!Oh(i))return i;i=ci(i)}return t}let r=Bp(n,e);for(;r&&fk(r)&&Oh(r);)r=Bp(r,e);return r&&Fs(r)&&Oh(r)&&!Tm(r)?t:r||hk(n)||t}const kk=async function(n){const e=this.getOffsetParent||a_,t=this.getDimensions,r=await t(n.floating);return{reference:Tk(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Pk(n){return Un(n).direction==="rtl"}const Ak={convertOffsetParentRelativeRectToViewportRelativeRect:pk,getDocumentElement:fr,getClippingRect:wk,getOffsetParent:a_,getElementRects:kk,getClientRects:vk,getDimensions:Sk,getScale:fs,isElement:Wn,isRTL:Pk};function o_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Mk(n,e){let t=null,r;const i=fr(n);function s(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||e(),!h||!f)return;const m=Sc(d),p=Sc(i.clientWidth-(u+h)),v=Sc(i.clientHeight-(d+f)),y=Sc(u),S={rootMargin:-m+"px "+-p+"px "+-v+"px "+-y+"px",threshold:wn(0,oi(1,l))||1};let T=!0;function k(O){const D=O[0].intersectionRatio;if(D!==l){if(!T)return a();D?a(!1,D):r=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!o_(c,n.getBoundingClientRect())&&a(),T=!1}try{t=new IntersectionObserver(k,{...S,root:i.ownerDocument})}catch{t=new IntersectionObserver(k,S)}t.observe(n)}return a(!0),s}function hg(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Pm(n),u=i||s?[...c?za(c):[],...za(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",t,{passive:!0}),s&&y.addEventListener("resize",t)});const d=c&&o?Mk(c,t):null;let h=-1,f=null;a&&(f=new ResizeObserver(y=>{let[_]=y;_&&_.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let m,p=l?Vi(n):null;l&&v();function v(){const y=Vi(n);p&&!o_(p,y)&&t(),p=y,m=requestAnimationFrame(v)}return t(),()=>{var y;u.forEach(_=>{i&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const l_=lk,c_=ck,u_=sk,Ok=dk,Ck=ak,d_=ik,Dk=uk,f_=(n,e,t)=>{const r=new Map,i={platform:Ak,...t},s={...i.platform,_c:r};return rk(n,e,{...i,platform:s})};function ea(n){return typeof n=="function"?n():n}function h_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function zp(n,e){const t=h_(n);return Math.round(e*t)/t}function Ls(n){return{[`--bits-${n}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`--bits-${n}-content-available-width`]:"var(--bits-floating-available-width)",[`--bits-${n}-content-available-height`]:"var(--bits-floating-available-height)",[`--bits-${n}-anchor-width`]:"var(--bits-floating-anchor-width)",[`--bits-${n}-anchor-height`]:"var(--bits-floating-anchor-height)"}}function Ek(n){const e=n.whileElementsMounted,t=C(()=>ea(n.open)??!0),r=C(()=>ea(n.middleware)),i=C(()=>ea(n.transform)??!0),s=C(()=>ea(n.placement)??"bottom"),a=C(()=>ea(n.strategy)??"absolute"),o=n.reference;let l=ee(0),c=ee(0);const u=B(null);let d=ee(ct(g(a))),h=ee(ct(g(s))),f=ee(ct({})),m=ee(!1);const p=C(()=>{const k={position:g(d),left:"0",top:"0"};if(!u.current)return k;const O=zp(u.current,g(l)),D=zp(u.current,g(c));return g(i)?{...k,transform:`translate(${O}px, ${D}px)`,...h_(u.current)>=1.5&&{willChange:"transform"}}:{position:g(d),left:`${O}px`,top:`${D}px`}});let v;function y(){o.current===null||u.current===null||f_(o.current,u.current,{middleware:g(r),placement:g(s),strategy:g(a)}).then(k=>{H(l,k.x,!0),H(c,k.y,!0),H(d,k.strategy,!0),H(h,k.placement,!0),H(f,k.middlewareData,!0),H(m,!0)})}function _(){typeof v=="function"&&(v(),v=void 0)}function S(){if(_(),e===void 0){y();return}o.current===null||u.current===null||(v=e(o.current,u.current,y))}function T(){g(t)||H(m,!1)}return Qe(y),Qe(S),Qe(T),Qe(()=>_),{floating:u,reference:o,get strategy(){return g(d)},get placement(){return g(h)},get middlewareData(){return g(f)},get isPositioned(){return g(m)},get floatingStyles(){return g(p)},get update(){return y}}}const Ik={top:"bottom",right:"left",bottom:"top",left:"right"};class Rk{constructor(){R(this,"anchorNode",B(null));R(this,"customAnchorNode",B(null));R(this,"triggerNode",B(null));Qe(()=>{this.customAnchorNode.current?typeof this.customAnchorNode.current=="string"?this.anchorNode.current=document.querySelector(this.customAnchorNode.current):this.anchorNode.current=this.customAnchorNode.current:this.anchorNode.current=this.triggerNode.current})}}var go,Md,mo,Od,po,Cd,vo,Dd,Ed,yo,bo,_o,xo,Id,Rd,Nd,Fd,Ld,jd,wo,Bd,zd,Vd,Wd;class Nk{constructor(e,t){R(this,"opts");R(this,"root");R(this,"contentRef",B(null));R(this,"wrapperRef",B(null));R(this,"arrowRef",B(null));R(this,"arrowId",B(Ue()));M(this,go,C(()=>{if(typeof this.opts.style=="string")return lw(this.opts.style);if(!this.opts.style)return{}}));M(this,Md);M(this,mo,new f1(()=>this.arrowRef.current??void 0));M(this,Od,C(()=>{var e;return((e=x(this,mo))==null?void 0:e.width)??0}));M(this,po,C(()=>{var e;return((e=x(this,mo))==null?void 0:e.height)??0}));M(this,Cd,C(()=>{var e;return((e=this.opts.side)==null?void 0:e.current)+(this.opts.align.current!=="center"?`-${this.opts.align.current}`:"")}));M(this,vo,C(()=>Array.isArray(this.opts.collisionBoundary.current)?this.opts.collisionBoundary.current:[this.opts.collisionBoundary.current]));M(this,Dd,C(()=>g(x(this,vo)).length>0));M(this,Ed,C(()=>({padding:this.opts.collisionPadding.current,boundary:g(x(this,vo)).filter(bw),altBoundary:this.hasExplicitBoundaries})));M(this,yo,ee(void 0));M(this,bo,ee(void 0));M(this,_o,ee(void 0));M(this,xo,ee(void 0));M(this,Id,C(()=>[l_({mainAxis:this.opts.sideOffset.current+g(x(this,po)),alignmentAxis:this.opts.alignOffset.current}),this.opts.avoidCollisions.current&&c_({mainAxis:!0,crossAxis:!1,limiter:this.opts.sticky.current==="partial"?Dk():void 0,...this.detectOverflowOptions}),this.opts.avoidCollisions.current&&u_({...this.detectOverflowOptions}),Ok({...this.detectOverflowOptions,apply:({rects:e,availableWidth:t,availableHeight:r})=>{const{width:i,height:s}=e.reference;H(x(this,yo),t,!0),H(x(this,bo),r,!0),H(x(this,_o),i,!0),H(x(this,xo),s,!0)}}),this.arrowRef.current&&d_({element:this.arrowRef.current,padding:this.opts.arrowPadding.current}),Vk({arrowWidth:g(x(this,Od)),arrowHeight:g(x(this,po))}),this.opts.hideWhenDetached.current&&Ck({strategy:"referenceHidden",...this.detectOverflowOptions})].filter(Boolean)));R(this,"floating");M(this,Rd,C(()=>Wk(this.floating.placement)));M(this,Nd,C(()=>Uk(this.floating.placement)));M(this,Fd,C(()=>{var e;return((e=this.floating.middlewareData.arrow)==null?void 0:e.x)??0}));M(this,Ld,C(()=>{var e;return((e=this.floating.middlewareData.arrow)==null?void 0:e.y)??0}));M(this,jd,C(()=>{var e;return((e=this.floating.middlewareData.arrow)==null?void 0:e.centerOffset)!==0}));M(this,wo,ee());M(this,Bd,C(()=>Ik[this.placedSide]));M(this,zd,C(()=>{var e,t,r;return{id:this.opts.wrapperId.current,"data-bits-floating-content-wrapper":"",style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${(e=this.floating.middlewareData.transformOrigin)==null?void 0:e.x} ${(t=this.floating.middlewareData.transformOrigin)==null?void 0:t.y}`,"--bits-floating-available-width":`${g(x(this,yo))}px`,"--bits-floating-available-height":`${g(x(this,bo))}px`,"--bits-floating-anchor-width":`${g(x(this,_o))}px`,"--bits-floating-anchor-height":`${g(x(this,xo))}px`,...((r=this.floating.middlewareData.hide)==null?void 0:r.referenceHidden)&&{visibility:"hidden","pointer-events":"none"},...g(x(this,go))},dir:this.opts.dir.current}}));M(this,Vd,C(()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:cb({...g(x(this,go))})})));M(this,Wd,C(()=>({position:"absolute",left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[this.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[this.placedSide],visibility:this.cannotCenterArrow?"hidden":void 0})));this.opts=e,this.root=t,e.customAnchor&&(this.root.customAnchorNode.current=e.customAnchor.current),Zt(()=>e.customAnchor.current,r=>{this.root.customAnchorNode.current=r}),Ze({id:this.opts.wrapperId,ref:this.wrapperRef,deps:()=>this.opts.enabled.current}),Ze({id:this.opts.id,ref:this.contentRef,deps:()=>this.opts.enabled.current}),this.floating=Ek({strategy:()=>this.opts.strategy.current,placement:()=>g(x(this,Cd)),middleware:()=>this.middleware,reference:this.root.anchorNode,whileElementsMounted:(...r)=>{var s;return hg(...r,{animationFrame:((s=x(this,Md))==null?void 0:s.current)==="always"})},open:()=>this.opts.enabled.current}),Qe(()=>{var r;this.floating.isPositioned&&((r=this.opts.onPlaced)==null||r.current())}),Zt(()=>this.contentRef.current,r=>{r&&(this.contentZIndex=window.getComputedStyle(r).zIndex)}),Qe(()=>{this.floating.floating.current=this.wrapperRef.current})}get hasExplicitBoundaries(){return g(x(this,Dd))}get detectOverflowOptions(){return g(x(this,Ed))}get middleware(){return g(x(this,Id))}get placedSide(){return g(x(this,Rd))}get placedAlign(){return g(x(this,Nd))}get arrowX(){return g(x(this,Fd))}get arrowY(){return g(x(this,Ld))}get cannotCenterArrow(){return g(x(this,jd))}get contentZIndex(){return g(x(this,wo))}set contentZIndex(e){H(x(this,wo),e,!0)}get arrowBaseSide(){return g(x(this,Bd))}get wrapperProps(){return g(x(this,zd))}get props(){return g(x(this,Vd))}get arrowStyle(){return g(x(this,Wd))}}go=new WeakMap,Md=new WeakMap,mo=new WeakMap,Od=new WeakMap,po=new WeakMap,Cd=new WeakMap,vo=new WeakMap,Dd=new WeakMap,Ed=new WeakMap,yo=new WeakMap,bo=new WeakMap,_o=new WeakMap,xo=new WeakMap,Id=new WeakMap,Rd=new WeakMap,Nd=new WeakMap,Fd=new WeakMap,Ld=new WeakMap,jd=new WeakMap,wo=new WeakMap,Bd=new WeakMap,zd=new WeakMap,Vd=new WeakMap,Wd=new WeakMap;class Fk{constructor(e,t){R(this,"opts");R(this,"root");R(this,"ref",B(null));this.opts=e,this.root=t,e.virtualEl&&e.virtualEl.current?t.triggerNode=B.from(e.virtualEl.current):Ze({id:e.id,ref:this.ref,onRefChange:r=>{t.triggerNode.current=r}})}}const Mm=new un("Floating.Root"),Lk=new un("Floating.Content");function jk(){return Mm.set(new Rk)}function Bk(n){return Lk.set(new Nk(n,Mm.get()))}function zk(n){return new Fk(n,Mm.get())}function Vk(n){return{name:"transformOrigin",options:n,fn(e){var v,y,_;const{placement:t,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[c,u]=Om(t),d={start:"0%",center:"50%",end:"100%"}[u],h=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,f=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let m="",p="";return c==="bottom"?(m=a?d:`${h}px`,p=`${-l}px`):c==="top"?(m=a?d:`${h}px`,p=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=a?d:`${f}px`):c==="left"&&(m=`${r.floating.width+l}px`,p=a?d:`${f}px`),{data:{x:m,y:p}}}}}function Om(n){const[e,t="center"]=n.split("-");return[e,t]}function Wk(n){return Om(n)[0]}function Uk(n){return Om(n)[1]}function Cm(n,e){re(e,!0),jk();var t=I(),r=P(t);le(r,()=>e.children??Ae),b(n,t),ie()}function g_(n,e=1e4,t=St){let r=null,i=ee(ct(n));function s(){return window.setTimeout(()=>{H(i,n,!0),t(n)},e)}return Qe(()=>()=>{r&&clearTimeout(r)}),B.with(()=>g(i),a=>{H(i,a,!0),t(a),r&&clearTimeout(r),r=s()})}function Hk(n){const e=g_("",1e3),t=a=>a.focus(),r=()=>document.activeElement;function i(a,o){var f;if(!o.length)return;e.current=e.current+a;const l=r(),c=((f=o.find(m=>m===l))==null?void 0:f.textContent)??"",u=o.map(m=>m.textContent??""),d=Xb(u,e.current,c),h=o.find(m=>m.textContent===d);return h&&t(h),h}function s(){e.current=""}return{search:e,handleTypeaheadSearch:i,resetTypeahead:s}}function Dm(n,e){re(e,!0),zk({id:B.with(()=>e.id),virtualEl:B.with(()=>e.virtualEl)});var t=I(),r=P(t);le(r,()=>e.children??Ae),b(n,t),ie()}function Zk(n,e){re(e,!0);let t=w(e,"side",3,"bottom"),r=w(e,"sideOffset",3,0),i=w(e,"align",3,"center"),s=w(e,"alignOffset",3,0),a=w(e,"arrowPadding",3,0),o=w(e,"avoidCollisions",3,!0),l=w(e,"collisionBoundary",19,()=>[]),c=w(e,"collisionPadding",3,0),u=w(e,"hideWhenDetached",3,!1),d=w(e,"onPlaced",3,()=>{}),h=w(e,"sticky",3,"partial"),f=w(e,"updatePositionStrategy",3,"optimized"),m=w(e,"strategy",3,"fixed"),p=w(e,"dir",3,"ltr"),v=w(e,"style",19,()=>({})),y=w(e,"wrapperId",19,Ue),_=w(e,"customAnchor",3,null);const S=Bk({side:B.with(()=>t()),sideOffset:B.with(()=>r()),align:B.with(()=>i()),alignOffset:B.with(()=>s()),id:B.with(()=>e.id),arrowPadding:B.with(()=>a()),avoidCollisions:B.with(()=>o()),collisionBoundary:B.with(()=>l()),collisionPadding:B.with(()=>c()),hideWhenDetached:B.with(()=>u()),onPlaced:B.with(()=>d()),sticky:B.with(()=>h()),updatePositionStrategy:B.with(()=>f()),strategy:B.with(()=>m()),dir:B.with(()=>p()),style:B.with(()=>v()),enabled:B.with(()=>e.enabled),wrapperId:B.with(()=>y()),customAnchor:B.with(()=>_())}),T=C(()=>ze(S.wrapperProps,{style:{pointerEvents:"auto"}}));var k=I(),O=P(k);le(O,()=>e.content??Ae,()=>({props:S.props,wrapperProps:g(T)})),b(n,k),ie()}function Yk(n,e){re(e,!0),Zs(()=>{var i;(i=e.onPlaced)==null||i.call(e)});var t=I(),r=P(t);le(r,()=>e.content??Ae,()=>({props:{},wrapperProps:{}})),b(n,t),ie()}function $k(n,e){let t=w(e,"isStatic",3,!1),r=ye(e,["$$slots","$$events","$$legacy","content","isStatic","onPlaced"]);var i=I(),s=P(i);{var a=l=>{Yk(l,{get content(){return e.content},get onPlaced(){return e.onPlaced}})},o=l=>{Zk(l,Pe({get content(){return e.content},get onPlaced(){return e.onPlaced}},()=>r))};ve(s,l=>{t()?l(a):l(o,!1)})}b(n,i)}var Gk=$("<!> <!>",1);function m_(n,e){re(e,!0);let t=w(e,"interactOutsideBehavior",3,"close"),r=w(e,"trapFocus",3,!0),i=w(e,"isValidEvent",3,()=>!1),s=w(e,"customAnchor",3,null),a=w(e,"isStatic",3,!1),o=ye(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);$k(n,{get isStatic(){return a()},get id(){return e.id},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get enabled(){return e.enabled},content:(c,u)=>{let d=()=>u==null?void 0:u().props,h=()=>u==null?void 0:u().wrapperProps;var f=Gk(),m=P(f);{var p=S=>{_p(S,{get preventScroll(){return e.preventScroll}})},v=(S,T)=>{{var k=O=>{_p(O,{get preventScroll(){return e.preventScroll}})};ve(S,O=>{e.forceMount||O(k)},T)}};ve(m,S=>{e.forceMount&&e.enabled?S(p):S(v,!1)})}var y=X(m,2);const _=C(()=>e.enabled&&r());_w(y,{get id(){return e.id},get onOpenAutoFocus(){return e.onOpenAutoFocus},get onCloseAutoFocus(){return e.onCloseAutoFocus},get loop(){return e.loop},get trapFocus(){return g(_)},get forceMount(){return e.forceMount},focusScope:(T,k)=>{let O=()=>k==null?void 0:k().props;xw(T,{get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get enabled(){return e.enabled},children:(D,j)=>{ww(D,{get id(){return e.id},get onInteractOutside(){return e.onInteractOutside},get onFocusOutside(){return e.onFocusOutside},get interactOutsideBehavior(){return t()},get isValidEvent(){return i()},get enabled(){return e.enabled},children:(Z,L)=>{let z=()=>L==null?void 0:L().props;Sw(Z,{get id(){return e.id},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get enabled(){return e.enabled},children:(J,G)=>{var E=I(),F=P(E),W=yt(()=>({props:ze(o,d(),z(),O(),{style:{pointerEvents:"auto"}}),wrapperProps:h()}));le(F,()=>e.popper??Ae,()=>g(W)),b(J,E)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{focusScope:!0}}),b(c,f)},$$slots:{content:!0}}),ie()}function Em(n,e){let t=w(e,"interactOutsideBehavior",3,"close"),r=w(e,"trapFocus",3,!0),i=w(e,"isValidEvent",3,()=>!1),s=w(e,"customAnchor",3,null),a=w(e,"isStatic",3,!1),o=ye(e,["$$slots","$$events","$$legacy","popper","present","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic"]);_b(n,Pe({get id(){return e.id},get present(){return e.present}},()=>o,{presence:c=>{m_(c,Pe({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get isStatic(){return a()},get enabled(){return e.present},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return t()},get loop(){return e.loop},get trapFocus(){return r()},get isValidEvent(){return i()},get onFocusOutside(){return e.onFocusOutside},forceMount:!1},()=>o))},$$slots:{presence:!0}}))}function Im(n,e){let t=w(e,"interactOutsideBehavior",3,"close"),r=w(e,"trapFocus",3,!0),i=w(e,"isValidEvent",3,()=>!1),s=w(e,"customAnchor",3,null),a=w(e,"isStatic",3,!1),o=ye(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);m_(n,Pe({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get isStatic(){return a()},get enabled(){return e.enabled},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return t()},get loop(){return e.loop},get trapFocus(){return r()},get isValidEvent(){return i()},get onFocusOutside(){return e.onFocusOutside}},()=>o,{forceMount:!0}))}function gg(n,e){re(e,!0);let t=w(e,"mounted",15,!1),r=w(e,"onMountedChange",3,St);h1(()=>(t(!0),r()(!0),()=>{t(!1),r()(!1)})),ie()}function Kk(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function qk(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}const Xk="data-command-root",Jk="data-command-input",Qk="data-command-empty",p_="data-command-group",v_="data-command-group-items",y_="data-command-group-heading",b_="data-command-item",eP="data-command-input-label",Di="data-value",ta=`[${p_}]`,Ch=`[${v_}]`,tP=`[${y_}]`,__=`[${b_}]`,Dh=`${__}:not([aria-disabled="true"])`,Ks=new un("Command.Root"),fc=new un("Command.Group");var ys,So,To,ko,Po,Ao,Mo,Oo,He,x_,$c,mg,Gc,da,Kc,ss,w_,pg,vg,yg,Ud;class nP{constructor(e){M(this,He);R(this,"opts");M(this,ys,!1);R(this,"sortAfterTick",!1);R(this,"sortAndFilterAfterTick",!1);R(this,"allItems",new Set);R(this,"allGroups",new Map);R(this,"allIds",new Map);M(this,So,ee(0));M(this,To,ee(null));M(this,ko,ee(null));M(this,Po,ee(null));M(this,Ao,ee(null));M(this,Mo,ee(null));M(this,Oo,ee(!1));M(this,Ud,C(()=>({id:this.opts.id.current,role:"application",[Xk]:"",tabindex:-1,onkeydown:this.onkeydown})));this.opts=e;const t={search:"",value:this.opts.value.current??"",filtered:{count:0,items:new Map,groups:new Set}};this._commandState=t,this.commandState=t,Ze(e),this.onkeydown=this.onkeydown.bind(this),Qe(()=>{this._commandState.search!==""&&(this.searchHasHadValue=!0)})}get key(){return g(x(this,So))}set key(e){H(x(this,So),e,!0)}get viewportNode(){return g(x(this,To))}set viewportNode(e){H(x(this,To),e,!0)}get inputNode(){return g(x(this,ko))}set inputNode(e){H(x(this,ko),e,!0)}get labelNode(){return g(x(this,Po))}set labelNode(e){H(x(this,Po),e,!0)}get commandState(){return g(x(this,Ao))}set commandState(e){H(x(this,Ao),e)}get _commandState(){return g(x(this,Mo))}set _commandState(e){H(x(this,Mo),e,!0)}get searchHasHadValue(){return g(x(this,Oo))}set searchHasHadValue(e){H(x(this,Oo),e,!0)}setState(e,t,r){Object.is(this._commandState[e],t)||(this._commandState[e]=t,e==="search"?(Fe(this,He,Kc).call(this),Fe(this,He,Gc).call(this),Fe(this,He,da).call(this),$t(()=>{Fe(this,He,da).call(this)})):e==="value"&&(r||Fe(this,He,w_).call(this)),Fe(this,He,$c).call(this))}setValue(e,t){e!==this.opts.value.current&&e===""&&$t(()=>{this.key++}),this.setState("value",e,t),this.opts.value.current=e}getValidItems(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(Dh)).filter(r=>!!r):[]}updateSelectedToIndex(e){const r=this.getValidItems()[e];r&&this.setValue(r.getAttribute(Di)??"")}updateSelectedByItem(e){const t=Fe(this,He,ss).call(this),r=this.getValidItems(),i=r.findIndex(a=>a===t);let s=r[i+e];this.opts.loop.current&&(s=i+e<0?r[r.length-1]:i+e===r.length?r[0]:r[i+e]),s&&this.setValue(s.getAttribute(Di)??"")}updateSelectedByGroup(e){const t=Fe(this,He,ss).call(this);let r=t==null?void 0:t.closest(ta),i;for(;r&&!i;)r=e>0?Kk(r,ta):qk(r,ta),i=r==null?void 0:r.querySelector(Dh);i?this.setValue(i.getAttribute(Di)??""):this.updateSelectedByItem(e)}registerValue(e,t,r){var i;return t===((i=this.allIds.get(e))==null?void 0:i.value)?St:(this.allIds.set(e,{value:t,keywords:r}),this._commandState.filtered.items.set(e,Fe(this,He,mg).call(this,t,r)),this.sortAfterTick||(this.sortAfterTick=!0,$t(()=>{Fe(this,He,Gc).call(this),this.sortAfterTick=!1})),()=>{this.allIds.delete(e)})}registerItem(e,t){return this.allItems.add(e),t&&(this.allGroups.has(t)?this.allGroups.get(t).add(e):this.allGroups.set(t,new Set([e]))),this.sortAndFilterAfterTick||(this.sortAndFilterAfterTick=!0,$t(()=>{Fe(this,He,Kc).call(this),Fe(this,He,Gc).call(this),this.sortAndFilterAfterTick=!1})),Fe(this,He,$c).call(this),()=>{const r=Fe(this,He,ss).call(this);this.allIds.delete(e),this.allItems.delete(e),this.commandState.filtered.items.delete(e),Fe(this,He,Kc).call(this),(r==null?void 0:r.getAttribute("id"))===e&&Fe(this,He,da).call(this),Fe(this,He,$c).call(this)}}registerGroup(e){return this.allGroups.has(e)||this.allGroups.set(e,new Set),()=>{this.allIds.delete(e),this.allGroups.delete(e)}}onkeydown(e){switch(e.key){case Mw:case Aw:{this.opts.vimBindings.current&&e.ctrlKey&&Fe(this,He,vg).call(this,e);break}case Bi:Fe(this,He,vg).call(this,e);break;case Pw:case kw:{this.opts.vimBindings.current&&e.ctrlKey&&Fe(this,He,yg).call(this,e);break}case ji:Fe(this,He,yg).call(this,e);break;case om:e.preventDefault(),this.updateSelectedToIndex(0);break;case am:e.preventDefault(),Fe(this,He,pg).call(this);break;case Ki:if(!e.isComposing&&e.keyCode!==229){e.preventDefault();const t=Fe(this,He,ss).call(this);t&&(t==null||t.click())}}}get props(){return g(x(this,Ud))}}ys=new WeakMap,So=new WeakMap,To=new WeakMap,ko=new WeakMap,Po=new WeakMap,Ao=new WeakMap,Mo=new WeakMap,Oo=new WeakMap,He=new WeakSet,x_=function(){return Rs(this._commandState)},$c=function(){x(this,ys)||(mt(this,ys,!0),$t(()=>{var r,i;mt(this,ys,!1);const e=Fe(this,He,x_).call(this);!Object.is(this.commandState,e)&&(this.commandState=e,(i=(r=this.opts.onStateChange)==null?void 0:r.current)==null||i.call(r,e))}))},mg=function(e,t){const r=this.opts.filter.current??k_;return e?r(e,this._commandState.search,t):0},Gc=function(){var a;if(!this._commandState.search||this.opts.shouldFilter.current===!1){this.commandState.value||Fe(this,He,da).call(this);return}const e=this._commandState.filtered.items,t=[];for(const o of this._commandState.filtered.groups){const l=this.allGroups.get(o);let c=0;if(!l){t.push([o,c]);continue}for(const u of l){const d=e.get(u);c=Math.max(d??0,c)}t.push([o,c])}const r=this.viewportNode,i=this.getValidItems().sort((o,l)=>{const c=o.getAttribute("id"),u=l.getAttribute("id"),d=e.get(c)??0;return(e.get(u)??0)-d});for(const o of i){const l=o.closest(Ch);if(l){const c=o.parentElement===l?o:o.closest(`${Ch} > *`);c&&l.appendChild(c)}else{const c=o.parentElement===r?o:o.closest(`${Ch} > *`);c&&(r==null||r.appendChild(c))}}const s=t.sort((o,l)=>l[1]-o[1]);for(const o of s){const l=r==null?void 0:r.querySelector(`${ta}[${Di}="${encodeURIComponent(o[0])}"]`);(a=l==null?void 0:l.parentElement)==null||a.appendChild(l)}},da=function(){$t(()=>{const e=this.getValidItems().find(r=>r.getAttribute("aria-disabled")!=="true"),t=e==null?void 0:e.getAttribute(Di);this.setValue(t||"")})},Kc=function(){var t,r;if(!this._commandState.search||this.opts.shouldFilter.current===!1){this._commandState.filtered.count=this.allItems.size;return}this._commandState.filtered.groups=new Set;let e=0;for(const i of this.allItems){const s=((t=this.allIds.get(i))==null?void 0:t.value)??"",a=((r=this.allIds.get(i))==null?void 0:r.keywords)??[],o=Fe(this,He,mg).call(this,s,a);this._commandState.filtered.items.set(i,o),o>0&&e++}for(const[i,s]of this.allGroups)for(const a of s){const o=this._commandState.filtered.items.get(a);if(o&&o>0){this._commandState.filtered.groups.add(i);break}}this._commandState.filtered.count=e},ss=function(){const e=this.opts.ref.current;if(!e)return;const t=e.querySelector(`${Dh}[data-selected]`);if(t)return t},w_=function(){$t(()=>{var i,s,a,o;const e=Fe(this,He,ss).call(this);if(!e)return;const t=(i=e.parentElement)==null?void 0:i.parentElement;if(!t)return;const r=Tw(t);if(r&&((s=r.dataset)==null?void 0:s.value)===((a=e.dataset)==null?void 0:a.value)){const l=(o=e==null?void 0:e.closest(ta))==null?void 0:o.querySelector(tP);l==null||l.scrollIntoView({block:"nearest"});return}e.scrollIntoView({block:"nearest"})})},pg=function(){return this.updateSelectedToIndex(this.getValidItems().length-1)},vg=function(e){e.preventDefault(),e.metaKey?Fe(this,He,pg).call(this):e.altKey?this.updateSelectedByGroup(1):this.updateSelectedByItem(1)},yg=function(e){e.preventDefault(),e.metaKey?this.updateSelectedToIndex(0):e.altKey?this.updateSelectedByGroup(-1):this.updateSelectedByItem(-1)},Ud=new WeakMap;var Co,Hd,Zd;class rP{constructor(e,t){R(this,"opts");R(this,"root");M(this,Co,!0);M(this,Hd,C(()=>this.root._commandState.filtered.count===0&&x(this,Co)===!1&&this.root.searchHasHadValue||this.opts.forceMount.current));M(this,Zd,C(()=>({id:this.opts.id.current,role:"presentation",[Qk]:""})));this.opts=e,this.root=t,lb(()=>{mt(this,Co,!1)}),Ze({...e,deps:()=>this.shouldRender})}get shouldRender(){return g(x(this,Hd))}get props(){return g(x(this,Zd))}}Co=new WeakMap,Hd=new WeakMap,Zd=new WeakMap;var Do,Yd,Eo,$d;class iP{constructor(e,t){R(this,"opts");R(this,"root");M(this,Do,ee(null));M(this,Yd,C(()=>this.opts.forceMount.current||this.root.opts.shouldFilter.current===!1||!this.root.commandState.search?!0:this.root.commandState.filtered.groups.has(this.opts.id.current)));M(this,Eo,ee(""));M(this,$d,C(()=>({id:this.opts.id.current,role:"presentation",hidden:this.shouldRender?void 0:!0,"data-value":this.trueValue,[p_]:""})));this.opts=e,this.root=t,this.trueValue=e.value.current,Ze({...e,deps:()=>this.shouldRender}),Zt(()=>this.opts.id.current,()=>this.root.registerGroup(this.opts.id.current)),Qe(()=>{var r;if(this.opts.value.current)return this.trueValue=this.opts.value.current,this.root.registerValue(this.opts.id.current,this.opts.value.current);if(this.headingNode&&this.headingNode.textContent)return this.trueValue=this.headingNode.textContent.trim().toLowerCase(),this.root.registerValue(this.opts.id.current,this.trueValue);if((r=this.opts.ref.current)!=null&&r.textContent)return this.trueValue=this.opts.ref.current.textContent.trim().toLowerCase(),this.root.registerValue(this.opts.id.current,this.trueValue)})}get headingNode(){return g(x(this,Do))}set headingNode(e){H(x(this,Do),e,!0)}get shouldRender(){return g(x(this,Yd))}get trueValue(){return g(x(this,Eo))}set trueValue(e){H(x(this,Eo),e,!0)}get props(){return g(x(this,$d))}}Do=new WeakMap,Yd=new WeakMap,Eo=new WeakMap,$d=new WeakMap;var Gd;class sP{constructor(e,t){R(this,"opts");R(this,"group");M(this,Gd,C(()=>({id:this.opts.id.current,[y_]:""})));this.opts=e,this.group=t,Ze({...e,onRefChange:r=>{this.group.headingNode=r}})}get props(){return g(x(this,Gd))}}Gd=new WeakMap;var Kd;class aP{constructor(e,t){R(this,"opts");R(this,"group");M(this,Kd,C(()=>{var e;return{id:this.opts.id.current,role:"group",[v_]:"","aria-labelledby":((e=this.group.headingNode)==null?void 0:e.id)??void 0}}));this.opts=e,this.group=t,Ze(e)}get props(){return g(x(this,Kd))}}Kd=new WeakMap;var qd,Xd;class oP{constructor(e,t){R(this,"opts");R(this,"root");M(this,qd,C(()=>{var t;const e=(t=this.root.viewportNode)==null?void 0:t.querySelector(`${__}[${Di}="${encodeURIComponent(this.root.opts.value.current)}"]`);if(e)return(e==null?void 0:e.getAttribute("id"))??void 0}));M(this,Xd,C(()=>{var e,t;return{id:this.opts.id.current,type:"text",[Jk]:"",autocomplete:"off",autocorrect:"off",spellcheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":Yf(!0),"aria-controls":((e=this.root.viewportNode)==null?void 0:e.id)??void 0,"aria-labelledby":((t=this.root.labelNode)==null?void 0:t.id)??void 0,"aria-activedescendant":g(x(this,qd))}}));this.opts=e,this.root=t,Ze({...e,onRefChange:r=>{this.root.inputNode=r}}),Zt(()=>this.opts.ref.current,()=>{const r=this.opts.ref.current;r&&this.opts.autofocus.current&&wb(10,()=>r.focus())}),Zt(()=>this.opts.value.current,()=>{this.root.commandState.search!==this.opts.value.current&&this.root.setState("search",this.opts.value.current)})}get props(){return g(x(this,Xd))}}qd=new WeakMap,Xd=new WeakMap;var Ri,Jd,Io,Qd,ef,$i,S_,bg,tf;class lP{constructor(e,t){M(this,$i);R(this,"opts");R(this,"root");M(this,Ri,null);M(this,Jd,C(()=>{var e;return this.opts.forceMount.current||((e=x(this,Ri))==null?void 0:e.opts.forceMount.current)===!0}));M(this,Io,ee(""));M(this,Qd,C(()=>{if(this.opts.ref.current,g(x(this,Jd))||this.root.opts.shouldFilter.current===!1||!this.root.commandState.search)return!0;const e=this.root.commandState.filtered.items.get(this.opts.id.current);return e===void 0?!1:e>0}));M(this,ef,C(()=>this.root.opts.value.current===this.trueValue&&this.trueValue!==""));M(this,tf,C(()=>({id:this.opts.id.current,"aria-disabled":yi(this.opts.disabled.current),"aria-selected":lm(this.isSelected),"data-disabled":Ct(this.opts.disabled.current),"data-selected":xb(this.isSelected),"data-value":this.trueValue,[b_]:"",role:"option",onpointermove:this.onpointermove,onclick:this.onclick})));this.opts=e,this.root=t,mt(this,Ri,fc.getOr(null)),this.trueValue=e.value.current,Ze({...e,deps:()=>!!this.root.commandState.search}),Zt([()=>this.opts.id.current,()=>{var r;return(r=x(this,Ri))==null?void 0:r.opts.id.current},()=>this.opts.forceMount.current,()=>this.opts.ref.current],()=>{var r;if(!this.opts.forceMount.current)return this.root.registerItem(this.opts.id.current,(r=x(this,Ri))==null?void 0:r.opts.id.current)}),Zt([()=>this.opts.value.current,()=>this.opts.ref.current],()=>{this.opts.ref.current&&(!this.opts.value.current&&this.opts.ref.current.textContent&&(this.trueValue=this.opts.ref.current.textContent.trim()),this.root.registerValue(this.opts.id.current,this.trueValue,e.keywords.current.map(r=>r.trim())),this.opts.ref.current.setAttribute(Di,this.trueValue))}),this.onclick=this.onclick.bind(this),this.onpointermove=this.onpointermove.bind(this)}get trueValue(){return g(x(this,Io))}set trueValue(e){H(x(this,Io),e,!0)}get shouldRender(){return g(x(this,Qd))}get isSelected(){return g(x(this,ef))}onpointermove(e){this.opts.disabled.current||this.root.opts.disablePointerSelection.current||Fe(this,$i,bg).call(this)}onclick(e){this.opts.disabled.current||Fe(this,$i,S_).call(this)}get props(){return g(x(this,tf))}}Ri=new WeakMap,Jd=new WeakMap,Io=new WeakMap,Qd=new WeakMap,ef=new WeakMap,$i=new WeakSet,S_=function(){var e;this.opts.disabled.current||(Fe(this,$i,bg).call(this),(e=this.opts.onSelect)==null||e.current())},bg=function(){this.opts.disabled.current||this.root.setValue(this.trueValue,!0)},tf=new WeakMap;var nf;class cP{constructor(e,t){R(this,"opts");R(this,"root");M(this,nf,C(()=>{var e;return{id:this.opts.id.current,[eP]:"",for:(e=this.opts.for)==null?void 0:e.current,style:cw}}));this.opts=e,this.root=t,Ze({...e,onRefChange:r=>{this.root.labelNode=r}})}get props(){return g(x(this,nf))}}nf=new WeakMap;function uP(n){return Ks.set(new nP(n))}function dP(n){return new rP(n,Ks.get())}function fP(n){const e=fc.getOr(null);return new lP({...n,group:e},Ks.get())}function hP(n){return fc.set(new iP(n,Ks.get()))}function gP(n){return new sP(n,fc.get())}function mP(n){return new aP(n,fc.get())}function pP(n){return new oP(n,Ks.get())}function vP(n){return new cP(n,Ks.get())}var yP=$("<label><!></label>");function bP(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children"]);const s=vP({id:B.with(()=>t()),ref:B.with(()=>r(),u=>r(u))}),a=C(()=>ze(i,s.props));var o=yP();let l;var c=ne(o);le(c,()=>e.children??Ae),Q(o),fe(()=>l=Oe(o,l,{...g(a)})),b(n,o),ie()}var _P=$("<!> <!>",1),xP=$("<div><!> <!></div>");function wP(n,e){re(e,!0);const t=V=>{bP(V,{children:(Z,L)=>{Ie();var z=Le();fe(()=>Xe(z,d())),b(Z,z)},$$slots:{default:!0}})};let r=w(e,"id",19,Ue),i=w(e,"ref",15,null),s=w(e,"value",15,""),a=w(e,"onValueChange",3,St),o=w(e,"onStateChange",3,St),l=w(e,"loop",3,!1),c=w(e,"shouldFilter",3,!0),u=w(e,"filter",3,k_),d=w(e,"label",3,""),h=w(e,"vimBindings",3,!0),f=w(e,"disablePointerSelection",3,!1),m=ye(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","onStateChange","loop","shouldFilter","filter","label","vimBindings","disablePointerSelection","children","child"]);const p=uP({id:B.with(()=>r()),ref:B.with(()=>i(),V=>i(V)),filter:B.with(()=>u()),shouldFilter:B.with(()=>c()),loop:B.with(()=>l()),value:B.with(()=>s(),V=>{s(V),a()(V)}),vimBindings:B.with(()=>h()),disablePointerSelection:B.with(()=>f()),onStateChange:B.with(()=>o())}),v=V=>p.updateSelectedToIndex(V),y=V=>p.updateSelectedByGroup(V),_=V=>p.updateSelectedByItem(V),S=()=>p.getValidItems(),T=C(()=>ze(m,p.props));var k=I(),O=P(k);{var D=V=>{var Z=_P(),L=P(Z);t(L);var z=X(L,2);le(z,()=>e.child,()=>({props:g(T)})),b(V,Z)},j=V=>{var Z=xP();let L;var z=ne(Z);t(z);var J=X(z,2);le(J,()=>e.children??Ae),Q(Z),fe(()=>L=Oe(Z,L,{...g(T)})),b(V,Z)};ve(O,V=>{e.child?V(D):V(j,!1)})}return b(n,k),ie({updateSelectedToIndex:v,updateSelectedByGroup:y,updateSelectedByItem:_,getValidItems:S})}var SP=$("<div><!></div>");function TP(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"forceMount",3,!1),s=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child","forceMount"]);const a=dP({id:B.with(()=>t()),ref:B.with(()=>r(),d=>r(d)),forceMount:B.with(()=>i())}),o=C(()=>ze(a.props,s));var l=I(),c=P(l);{var u=d=>{var h=I(),f=P(h);{var m=v=>{var y=I(),_=P(y);le(_,()=>e.child,()=>({props:g(o)})),b(v,y)},p=v=>{var y=SP();let _;var S=ne(y);le(S,()=>e.children??Ae),Q(y),fe(()=>_=Oe(y,_,{...g(o)})),b(v,y)};ve(f,v=>{e.child?v(m):v(p,!1)})}b(d,h)};ve(c,d=>{a.shouldRender&&d(u)})}b(n,l),ie()}var kP=$("<div><!></div>");function PP(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"value",3,""),s=w(e,"forceMount",3,!1),a=ye(e,["$$slots","$$events","$$legacy","id","ref","value","forceMount","children","child"]);const o=hP({id:B.with(()=>t()),ref:B.with(()=>r(),f=>r(f)),forceMount:B.with(()=>s()),value:B.with(()=>i())}),l=C(()=>ze(a,o.props));var c=I(),u=P(c);{var d=f=>{var m=I(),p=P(m);le(p,()=>e.child,()=>({props:g(l)})),b(f,m)},h=f=>{var m=kP();let p;var v=ne(m);le(v,()=>e.children??Ae),Q(m),fe(()=>p=Oe(m,p,{...g(l)})),b(f,m)};ve(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ie()}var AP=$("<div><!></div>");function MP(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=gP({id:B.with(()=>t()),ref:B.with(()=>r(),d=>r(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=AP();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var OP=$("<div><!></div>"),CP=$('<div style="display: contents;"><!></div>');function DP(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=mP({id:B.with(()=>t()),ref:B.with(()=>r(),d=>r(d))}),a=C(()=>ze(i,s.props));var o=CP(),l=ne(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=OP();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}Q(o),b(n,o),ie()}var EP=$("<input>");function IP(n,e){re(e,!0);let t=w(e,"value",15,""),r=w(e,"autofocus",3,!1),i=w(e,"id",19,Ue),s=w(e,"ref",15,null),a=ye(e,["$$slots","$$events","$$legacy","value","autofocus","id","ref","child"]);const o=pP({id:B.with(()=>i()),ref:B.with(()=>s(),f=>s(f)),value:B.with(()=>t(),f=>{t(f)}),autofocus:B.with(()=>r()??!1)}),l=C(()=>ze(a,o.props));var c=I(),u=P(c);{var d=f=>{var m=I(),p=P(m);le(p,()=>e.child,()=>({props:g(l)})),b(f,m)},h=f=>{var m=EP();Ra(m);let p;fe(()=>p=Oe(m,p,{...g(l)})),Zw(m,t),b(f,m)};ve(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ie()}var RP=$("<div><!></div>"),NP=$('<div style="display: contents;" data-item-wrapper=""><!></div>');function FP(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"value",3,""),s=w(e,"disabled",3,!1),a=w(e,"onSelect",3,St),o=w(e,"forceMount",3,!1),l=w(e,"keywords",19,()=>[]),c=ye(e,["$$slots","$$events","$$legacy","id","ref","value","disabled","children","child","onSelect","forceMount","keywords"]);const u=fP({id:B.with(()=>t()),ref:B.with(()=>r(),m=>r(m)),value:B.with(()=>i()),disabled:B.with(()=>s()),onSelect:B.with(()=>a()),forceMount:B.with(()=>o()),keywords:B.with(()=>l())}),d=C(()=>ze(c,u.props));var h=I(),f=P(h);Ow(f,()=>u.root.key,m=>{var p=NP(),v=ne(p);{var y=_=>{var S=I(),T=P(S);{var k=D=>{var j=I(),V=P(j);le(V,()=>e.child,()=>({props:g(d)})),b(D,j)},O=D=>{var j=RP();let V;var Z=ne(j);le(Z,()=>e.children??Ae),Q(j),fe(()=>V=Oe(j,V,{...g(d)})),b(D,j)};ve(T,D=>{e.child?D(k):D(O,!1)})}b(_,S)};ve(v,_=>{u.shouldRender&&_(y)})}Q(p),fe(()=>ni(p,"data-value",u.trueValue)),b(m,p)}),b(n,h),ie()}const Vp=1,LP=.9,jP=.8,BP=.17,Eh=.1,Ih=.999,zP=.9999,VP=.99,WP=/[\\/_+.#"@[({&]/,UP=/[\\/_+.#"@[({&]/g,HP=/[\s-]/,T_=/[\s-]/g;function _g(n,e,t,r,i,s,a){if(s===e.length)return i===n.length?Vp:VP;const o=`${i},${s}`;if(a[o]!==void 0)return a[o];const l=r.charAt(s);let c=t.indexOf(l,i),u=0,d,h,f,m;for(;c>=0;)d=_g(n,e,t,r,c+1,s+1,a),d>u&&(c===i?d*=Vp:WP.test(n.charAt(c-1))?(d*=jP,f=n.slice(i,c-1).match(UP),f&&i>0&&(d*=Ih**f.length)):HP.test(n.charAt(c-1))?(d*=LP,m=n.slice(i,c-1).match(T_),m&&i>0&&(d*=Ih**m.length)):(d*=BP,i>0&&(d*=Ih**(c-i))),n.charAt(c)!==e.charAt(s)&&(d*=zP)),(d<Eh&&t.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&t.charAt(c-1)!==r.charAt(s))&&(h=_g(n,e,t,r,c+1,s+2,a),h*Eh>d&&(d=h*Eh)),d>u&&(u=d),c=t.indexOf(l,c+1);return a[o]=u,u}function Wp(n){return n.toLowerCase().replace(T_," ")}function k_(n,e,t){return n=t&&t.length>0?`${`${n} ${t==null?void 0:t.join(" ")}`}`:n,_g(n,e,Wp(n),Wp(e),0,0,{})}const ZP=[Ki,Gi],YP=[Bi,Cw,om],P_=[ji,Dw,am],$P=[...YP,...P_];function cs(n){return n.pointerType==="mouse"}function A_(n){const e=C(()=>n.enabled()),t=g_(!1,300,a=>{var o;g(e)&&((o=n.setIsPointerInTransit)==null||o.call(n,a))});let r=ee(null);function i(){H(r,null),t.current=!1}function s(a,o){const l=a.currentTarget;if(!Bn(l))return;const c={x:a.clientX,y:a.clientY},u=GP(c,l.getBoundingClientRect()),d=KP(c,u),h=qP(o.getBoundingClientRect()),f=JP([...d,...h]);H(r,f,!0),t.current=!0}return Zt([n.triggerNode,n.contentNode,n.enabled],([a,o,l])=>{if(!a||!o||!l)return;const c=d=>{s(d,o)},u=d=>{s(d,a)};return ub(Ni(a,"pointerleave",c),Ni(o,"pointerleave",u))}),Zt(()=>g(r),()=>Ni(document,"pointermove",o=>{var h,f;if(!g(r))return;const l=o.target;if(!Na(l))return;const c={x:o.clientX,y:o.clientY},u=((h=n.triggerNode())==null?void 0:h.contains(l))||((f=n.contentNode())==null?void 0:f.contains(l)),d=!XP(c,g(r));u?i():d&&(i(),n.onPointerExit())})),{isPointerInTransit:t}}function GP(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function KP(n,e,t=5){const r=t*1.5;switch(e){case"top":return[{x:n.x-t,y:n.y+t},{x:n.x,y:n.y-r},{x:n.x+t,y:n.y+t}];case"bottom":return[{x:n.x-t,y:n.y-t},{x:n.x,y:n.y+r},{x:n.x+t,y:n.y-t}];case"left":return[{x:n.x+t,y:n.y-t},{x:n.x-r,y:n.y},{x:n.x+t,y:n.y+t}];case"right":return[{x:n.x-t,y:n.y-t},{x:n.x+r,y:n.y},{x:n.x-t,y:n.y+t}]}}function qP(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function XP(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s].x,l=e[s].y,c=e[a].x,u=e[a].y;l>r!=u>r&&t<(c-o)*(r-l)/(u-l)+o&&(i=!i)}return i}function JP(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),QP(e)}function QP(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}function Ta(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function eA(n,e){if(!cm(n,Ta()))return tA(n,e);const t=Ew(Sb(n).body,Ta());e==="prev"&&t.reverse();const r=t.indexOf(n);return r===-1?document.body:t.slice(r+1)[0]}function tA(n,e){if(!Iw(n,Ta()))return document.body;const t=Rw(Sb(n).body,Ta());e==="prev"&&t.reverse();const r=t.indexOf(n);return r===-1?document.body:t.slice(r+1).find(s=>cm(s,Ta()))??document.body}const M_="data-context-menu-trigger",nA=new un("Menu.Root"),Rm=new un("Menu.Root | Menu.Sub"),O_=new un("Menu.Content"),rA=new Fw("bitsmenuopen",{bubbles:!1,cancelable:!0});var Ro,No;class iA{constructor(e){R(this,"opts");R(this,"isUsingKeyboard",new wg);M(this,Ro,ee(!1));M(this,No,ee(!1));this.opts=e}get ignoreCloseAutoFocus(){return g(x(this,Ro))}set ignoreCloseAutoFocus(e){H(x(this,Ro),e,!0)}get isPointerInTransit(){return g(x(this,No))}set isPointerInTransit(e){H(x(this,No),e,!0)}getAttr(e){return`data-${this.opts.variant.current}-${e}`}}Ro=new WeakMap,No=new WeakMap;var Fo,Lo;class sA{constructor(e,t,r){R(this,"opts");R(this,"root");R(this,"parentMenu");R(this,"contentId",B.with(()=>""));M(this,Fo,ee(null));M(this,Lo,ee(null));this.opts=e,this.root=t,this.parentMenu=r,r&&Zt(()=>r.opts.open.current,()=>{r.opts.open.current||(this.opts.open.current=!1)})}get contentNode(){return g(x(this,Fo))}set contentNode(e){H(x(this,Fo),e,!0)}get triggerNode(){return g(x(this,Lo))}set triggerNode(e){H(x(this,Lo),e,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}Fo=new WeakMap,Lo=new WeakMap;var jo,Bo,zo,Vo,Wo,ti,C_,qc,rf,sf;class aA{constructor(e,t){M(this,ti);R(this,"opts");R(this,"parentMenu");M(this,jo,ee(""));M(this,Bo,0);M(this,zo);R(this,"rovingFocusGroup");M(this,Vo,ee(!1));M(this,Wo);R(this,"onCloseAutoFocus",e=>{this.opts.onCloseAutoFocus.current(e),!(e.defaultPrevented||x(this,Wo))&&this.parentMenu.triggerNode&&cm(this.parentMenu.triggerNode)&&this.parentMenu.triggerNode.focus()});R(this,"onOpenAutoFocus",e=>{if(e.defaultPrevented)return;e.preventDefault();const t=this.parentMenu.contentNode;t==null||t.focus()});M(this,rf,C(()=>({open:this.parentMenu.opts.open.current})));M(this,sf,C(()=>({id:this.opts.id.current,role:"menu","aria-orientation":Tb("vertical"),[this.parentMenu.root.getAttr("content")]:"","data-state":dr(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"}})));R(this,"popperProps",{onCloseAutoFocus:e=>this.onCloseAutoFocus(e)});this.opts=e,this.parentMenu=t,t.contentId=e.id,mt(this,Wo,e.isSub??!1),this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),Ze({...e,deps:()=>this.parentMenu.opts.open.current,onRefChange:r=>{this.parentMenu.contentNode!==r&&(this.parentMenu.contentNode=r)}}),A_({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>{var r;return this.parentMenu.opts.open.current&&!!((r=this.parentMenu.triggerNode)!=null&&r.hasAttribute(this.parentMenu.root.getAttr("sub-trigger")))},onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:r=>{this.parentMenu.root.isPointerInTransit=r}}),mt(this,zo,Hk().handleTypeaheadSearch),this.rovingFocusGroup=$f({rootNodeId:this.parentMenu.contentId,candidateAttr:this.parentMenu.root.getAttr("item"),loop:this.opts.loop,orientation:B.with(()=>"vertical")}),Zt(()=>this.parentMenu.contentNode,r=>{if(!r)return;const i=()=>{$t(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return rA.listen(r,i)}),Qe(()=>{this.parentMenu.opts.open.current||window.clearTimeout(x(this,Bo))})}get search(){return g(x(this,jo))}set search(e){H(x(this,jo),e,!0)}get mounted(){return g(x(this,Vo))}set mounted(e){H(x(this,Vo),e,!0)}handleTabKeyDown(e){let t=this.parentMenu;for(;t.parentMenu!==null;)t=t.parentMenu;if(!t.triggerNode)return;e.preventDefault();const r=eA(t.triggerNode,e.shiftKey?"prev":"next");r?(this.parentMenu.root.ignoreCloseAutoFocus=!0,t.onClose(),$t(()=>{r.focus(),$t(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):document.body.focus()}onkeydown(e){var c,u;if(e.defaultPrevented)return;if(e.key===Lw){this.handleTabKeyDown(e);return}const t=e.target,r=e.currentTarget;if(!Bn(t)||!Bn(r))return;const i=((c=t.closest(`[${this.parentMenu.root.getAttr("content")}]`))==null?void 0:c.id)===this.parentMenu.contentId.current,s=e.ctrlKey||e.altKey||e.metaKey,a=e.key.length===1;if(this.rovingFocusGroup.handleKeydown(t,e)||e.code==="Space")return;const l=Fe(this,ti,C_).call(this);i&&!s&&a&&x(this,zo).call(this,e.key,l),((u=e.target)==null?void 0:u.id)===this.parentMenu.contentId.current&&$P.includes(e.key)&&(e.preventDefault(),P_.includes(e.key)&&l.reverse(),jw(l))}onblur(e){var t,r;Na(e.currentTarget)&&Na(e.target)&&((r=(t=e.currentTarget).contains)!=null&&r.call(t,e.target)||(window.clearTimeout(x(this,Bo)),this.search=""))}onfocus(e){this.parentMenu.root.isUsingKeyboard.current&&$t(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return Fe(this,ti,qc).call(this)}onItemLeave(e){if(e.currentTarget.hasAttribute(this.parentMenu.root.getAttr("sub-trigger"))||Fe(this,ti,qc).call(this)||this.parentMenu.root.isUsingKeyboard.current)return;const t=this.parentMenu.contentNode;t==null||t.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!Fe(this,ti,qc).call(this)}handleInteractOutside(e){var r;if(!Bw(e.target))return;const t=(r=this.parentMenu.triggerNode)==null?void 0:r.id;if(e.target.id===t){e.preventDefault();return}e.target.closest(`#${t}`)&&e.preventDefault()}get snippetProps(){return g(x(this,rf))}get props(){return g(x(this,sf))}}jo=new WeakMap,Bo=new WeakMap,zo=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,ti=new WeakSet,C_=function(){const e=this.parentMenu.contentNode;return e?Array.from(e.querySelectorAll(`[${this.parentMenu.root.getAttr("item")}]:not([data-disabled])`)):[]},qc=function(){return this.parentMenu.root.isPointerInTransit},rf=new WeakMap,sf=new WeakMap;var bs,af;class oA{constructor(e,t){R(this,"opts");R(this,"content");M(this,bs,ee(!1));M(this,af,C(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":yi(this.opts.disabled.current),"data-disabled":Ct(this.opts.disabled.current),"data-highlighted":g(x(this,bs))?"":void 0,[this.content.parentMenu.root.getAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur})));this.opts=e,this.content=t,this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this),Ze({...e,deps:()=>this.content.mounted})}onpointermove(e){if(!e.defaultPrevented&&cs(e))if(this.opts.disabled.current)this.content.onItemLeave(e);else{if(this.content.onItemEnter())return;const r=e.currentTarget;if(!Bn(r))return;r.focus()}}onpointerleave(e){e.defaultPrevented||cs(e)&&this.content.onItemLeave(e)}onfocus(e){$t(()=>{e.defaultPrevented||this.opts.disabled.current||H(x(this,bs),!0)})}onblur(e){$t(()=>{e.defaultPrevented||H(x(this,bs),!1)})}get props(){return g(x(this,af))}}bs=new WeakMap,af=new WeakMap;var Uo,of,D_,lf;class lA{constructor(e,t){M(this,of);R(this,"opts");R(this,"item");M(this,Uo,!1);R(this,"root");M(this,lf,C(()=>ze(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown})));this.opts=e,this.item=t,this.root=t.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}onkeydown(e){const t=this.item.content.search!=="";if(!(this.item.opts.disabled.current||t&&e.key===Gi)&&ZP.includes(e.key)){if(!Bn(e.currentTarget))return;e.currentTarget.click(),e.preventDefault()}}onclick(e){this.item.opts.disabled.current||Fe(this,of,D_).call(this)}onpointerup(e){var t;if(!e.defaultPrevented&&!x(this,Uo)){if(!Bn(e.currentTarget))return;(t=e.currentTarget)==null||t.click()}}onpointerdown(e){mt(this,Uo,!0)}get props(){return g(x(this,lf))}}Uo=new WeakMap,of=new WeakSet,D_=function(){if(this.item.opts.disabled.current)return;const e=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});this.opts.onSelect.current(e),$t(()=>{if(e.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()})},lf=new WeakMap;var _s,xs,xn,jr,xg,cf;class cA{constructor(e,t){M(this,xn);R(this,"opts");R(this,"parentMenu");M(this,_s,ee(ct({x:0,y:0})));R(this,"virtualElement",B({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...g(x(this,_s))})}));M(this,xs,null);M(this,cf,C(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"data-disabled":Ct(this.opts.disabled.current),"data-state":dr(this.parentMenu.opts.open.current),[M_]:"",tabindex:-1,onpointerdown:this.onpointerdown,onpointermove:this.onpointermove,onpointercancel:this.onpointercancel,onpointerup:this.onpointerup,oncontextmenu:this.oncontextmenu})));this.opts=e,this.parentMenu=t,this.oncontextmenu=this.oncontextmenu.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointermove=this.onpointermove.bind(this),this.onpointercancel=this.onpointercancel.bind(this),this.onpointerup=this.onpointerup.bind(this),Ze({...e,onRefChange:r=>{this.parentMenu.triggerNode=r},deps:()=>this.parentMenu.opts.open.current}),Zt(()=>g(x(this,_s)),r=>{this.virtualElement.current={getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...r})}}),Qe(()=>{this.opts.disabled.current&&Fe(this,xn,jr).call(this)}),db(()=>Fe(this,xn,jr).call(this))}oncontextmenu(e){var t;this.opts.disabled.current||(Fe(this,xn,jr).call(this),Fe(this,xn,xg).call(this,e),e.preventDefault(),(t=this.parentMenu.contentNode)==null||t.focus())}onpointerdown(e){this.opts.disabled.current||cs(e)||(Fe(this,xn,jr).call(this),mt(this,xs,window.setTimeout(()=>Fe(this,xn,xg).call(this,e),700)))}onpointermove(e){this.opts.disabled.current||cs(e)||Fe(this,xn,jr).call(this)}onpointercancel(e){this.opts.disabled.current||cs(e)||Fe(this,xn,jr).call(this)}onpointerup(e){this.opts.disabled.current||cs(e)||Fe(this,xn,jr).call(this)}get props(){return g(x(this,cf))}}_s=new WeakMap,xs=new WeakMap,xn=new WeakSet,jr=function(){x(this,xs)!==null&&window.clearTimeout(x(this,xs))},xg=function(e){H(x(this,_s),{x:e.clientX,y:e.clientY},!0),this.parentMenu.onOpen()},cf=new WeakMap;function uA(n){const e=new iA(n);return Nw.set({get ignoreCloseAutoFocus(){return e.ignoreCloseAutoFocus}}),nA.set(e)}function dA(n,e){return Rm.set(new sA(e,n,null))}function fA(n){return new cA(n,Rm.get())}function hA(n){return O_.set(new aA(n,Rm.get()))}function gA(n){const e=new oA(n,O_.get());return new lA(n,e)}function mA(n,e){re(e,!0);let t=w(e,"open",15,!1),r=w(e,"dir",3,"ltr"),i=w(e,"onOpenChange",3,St);const s=uA({variant:B.with(()=>"context-menu"),dir:B.with(()=>r()),onClose:()=>{var a;t(!1),(a=i())==null||a(!1)}});dA(s,{open:B.with(()=>t(),a=>{t(a),i()(a)})}),Cm(n,{children:(a,o)=>{var l=I(),c=P(l);le(c,()=>e.children??Ae),b(a,l)},$$slots:{default:!0}}),ie()}var pA=$("<div><!></div>");function vA(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=w(e,"disabled",3,!1),s=w(e,"onSelect",3,St),a=w(e,"closeOnSelect",3,!0),o=ye(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","onSelect","closeOnSelect"]);const l=gA({id:B.with(()=>r()),disabled:B.with(()=>i()),onSelect:B.with(()=>s()),ref:B.with(()=>t(),m=>t(m)),closeOnSelect:B.with(()=>a())}),c=C(()=>ze(o,l.props));var u=I(),d=P(u);{var h=m=>{var p=I(),v=P(p);le(v,()=>e.child,()=>({props:g(c)})),b(m,p)},f=m=>{var p=pA();let v;var y=ne(p);le(y,()=>e.children??Ae),Q(p),fe(()=>v=Oe(p,v,{...g(c)})),b(m,p)};ve(d,m=>{e.child?m(h):m(f,!1)})}b(n,u),ie()}var yA=$("<div><div><!></div></div>"),bA=$("<!> <!>",1),_A=$("<div><div><!></div></div>"),xA=$("<!> <!>",1);function wA(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"loop",3,!0),s=w(e,"onInteractOutside",3,St),a=w(e,"onCloseAutoFocus",3,St),o=w(e,"onOpenAutoFocus",3,St),l=w(e,"preventScroll",3,!0),c=w(e,"onEscapeKeydown",3,St),u=w(e,"forceMount",3,!1),d=w(e,"trapFocus",3,!0),h=ye(e,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","preventScroll","onEscapeKeydown","forceMount","trapFocus"]);const f=hA({id:B.with(()=>t()),loop:B.with(()=>i()),ref:B.with(()=>r(),O=>r(O)),onCloseAutoFocus:B.with(()=>a())}),m=C(()=>ze(h,f.props));function p(O){s()(O),!O.defaultPrevented&&f.parentMenu.onClose()}function v(O){c()(O),!O.defaultPrevented&&f.parentMenu.onClose()}function y(O){if("button"in O&&O.button===2){const D=O.target;return D?D.closest(`[${M_}]`)!==f.parentMenu.triggerNode:!1}return!1}var _=I(),S=P(_);{var T=O=>{Im(O,Pe(()=>g(m),()=>f.popperProps,{side:"right",sideOffset:2,align:"start",get enabled(){return f.parentMenu.opts.open.current},get preventScroll(){return l()},onInteractOutside:p,onEscapeKeydown:v,get onOpenAutoFocus(){return o()},isValidEvent:y,get trapFocus(){return d()},get loop(){return i()},get id(){return t()},popper:(j,V)=>{let Z=()=>V==null?void 0:V().props,L=()=>V==null?void 0:V().wrapperProps;var z=bA();const J=C(()=>ze(Z(),{style:Ls("context-menu")}));var G=P(z);{var E=N=>{var U=I(),K=P(U),ce=yt(()=>({props:g(J),wrapperProps:L(),...f.snippetProps}));le(K,()=>e.child,()=>g(ce)),b(N,U)},F=N=>{var U=yA();let K;var ce=ne(U);let se;var he=ne(ce);le(he,()=>e.children??Ae),Q(ce),Q(U),fe(()=>{K=Oe(U,K,{...L()}),se=Oe(ce,se,{...g(J)})}),b(N,U)};ve(G,N=>{e.child?N(E):N(F,!1)})}var W=X(G,2);gg(W,{get mounted(){return f.mounted},set mounted(N){f.mounted=N}}),b(j,z)},$$slots:{popper:!0}}))},k=(O,D)=>{{var j=V=>{Em(V,Pe(()=>g(m),()=>f.popperProps,{side:"right",sideOffset:2,align:"start",get present(){return f.parentMenu.opts.open.current},get preventScroll(){return l()},onInteractOutside:p,onEscapeKeydown:v,get onOpenAutoFocus(){return o()},isValidEvent:y,get trapFocus(){return d()},get loop(){return i()},get id(){return t()},popper:(L,z)=>{let J=()=>z==null?void 0:z().props,G=()=>z==null?void 0:z().wrapperProps;var E=xA();const F=C(()=>ze(J(),{style:Ls("context-menu")}));var W=P(E);{var N=ce=>{var se=I(),he=P(se),be=yt(()=>({props:g(F),wrapperProps:G(),...f.snippetProps}));le(he,()=>e.child,()=>g(be)),b(ce,se)},U=ce=>{var se=_A();let he;var be=ne(se);let Te;var te=ne(be);le(te,()=>e.children??Ae),Q(be),Q(se),fe(()=>{he=Oe(se,he,{...G()}),Te=Oe(be,Te,{...g(F)})}),b(ce,se)};ve(W,ce=>{e.child?ce(N):ce(U,!1)})}var K=X(W,2);gg(K,{get mounted(){return f.mounted},set mounted(ce){f.mounted=ce}}),b(L,E)},$$slots:{popper:!0}}))};ve(O,V=>{u()||V(j)},D)}};ve(S,O=>{u()?O(T):O(k,!1)})}b(n,_),ie()}var SA=$("<div><!></div>");function TA(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"disabled",3,!1),s=ye(e,["$$slots","$$events","$$legacy","id","ref","child","children","disabled"]);const a=fA({id:B.with(()=>t()),disabled:B.with(()=>i()),ref:B.with(()=>r(),u=>r(u))}),o=C(()=>ze(s,a.props,{style:{pointerEvents:"auto"}}));var l=I(),c=P(l);Y(c,()=>Dm,(u,d)=>{d(u,{get id(){return t()},get virtualEl(){return a.virtualElement},children:(h,f)=>{var m=I(),p=P(m);{var v=_=>{var S=I(),T=P(S);le(T,()=>e.child,()=>({props:g(o)})),b(_,S)},y=_=>{var S=SA();let T;var k=ne(S);le(k,()=>e.children??Ae),Q(S),fe(()=>T=Oe(S,T,{...g(o)})),b(_,S)};ve(p,_=>{e.child?_(v):_(y,!1)})}b(h,m)},$$slots:{default:!0}})}),b(n,l),ie()}var Ho,Zo;class kA{constructor(e){R(this,"opts");M(this,Ho,ee(null));M(this,Zo,ee(null));this.opts=e}get contentNode(){return g(x(this,Ho))}set contentNode(e){H(x(this,Ho),e,!0)}get triggerNode(){return g(x(this,Zo))}set triggerNode(e){H(x(this,Zo),e,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}}Ho=new WeakMap,Zo=new WeakMap;var uf,E_,df;class PA{constructor(e,t){M(this,uf);R(this,"opts");R(this,"root");M(this,df,C(()=>({id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":Yf(this.root.opts.open.current),"data-state":dr(this.root.opts.open.current),"aria-controls":Fe(this,uf,E_).call(this),"data-popover-trigger":"",disabled:this.opts.disabled.current,onkeydown:this.onkeydown,onclick:this.onclick})));this.opts=e,this.root=t,Ze({...e,onRefChange:r=>{this.root.triggerNode=r}}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.toggleOpen()}onkeydown(e){this.opts.disabled.current||(e.key===Ki||e.key===Gi)&&(e.preventDefault(),this.root.toggleOpen())}get props(){return g(x(this,df))}}uf=new WeakSet,E_=function(){var e,t;if(this.root.opts.open.current&&((e=this.root.contentNode)!=null&&e.id))return(t=this.root.contentNode)==null?void 0:t.id},df=new WeakMap;var ff,hf;class AA{constructor(e,t){R(this,"opts");R(this,"root");R(this,"onInteractOutside",e=>{this.opts.onInteractOutside.current(e),!(e.defaultPrevented||!Na(e.target)||e.target.closest("[data-popover-trigger]")===this.root.triggerNode)&&this.root.handleClose()});R(this,"onEscapeKeydown",e=>{this.opts.onEscapeKeydown.current(e),!e.defaultPrevented&&this.root.handleClose()});R(this,"onCloseAutoFocus",e=>{var t;this.opts.onCloseAutoFocus.current(e),!e.defaultPrevented&&(e.preventDefault(),(t=this.root.triggerNode)==null||t.focus())});M(this,ff,C(()=>({open:this.root.opts.open.current})));M(this,hf,C(()=>({id:this.opts.id.current,tabindex:-1,"data-state":dr(this.root.opts.open.current),"data-popover-content":"",style:{pointerEvents:"auto"}})));R(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onCloseAutoFocus:this.onCloseAutoFocus});this.opts=e,this.root=t,Ze({...e,deps:()=>this.root.opts.open.current,onRefChange:r=>{this.root.contentNode=r}})}get snippetProps(){return g(x(this,ff))}get props(){return g(x(this,hf))}}ff=new WeakMap,hf=new WeakMap;const Nm=new un("Popover.Root");function MA(n){return Nm.set(new kA(n))}function OA(n){return new PA(n,Nm.get())}function CA(n){return new AA(n,Nm.get())}var DA=$("<div><div><!></div></div>"),EA=$("<div><div><!></div></div>");function IA(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=w(e,"forceMount",3,!1),s=w(e,"onCloseAutoFocus",3,St),a=w(e,"onEscapeKeydown",3,St),o=w(e,"onInteractOutside",3,St),l=w(e,"trapFocus",3,!0),c=w(e,"preventScroll",3,!1),u=ye(e,["$$slots","$$events","$$legacy","child","children","ref","id","forceMount","onCloseAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll"]);const d=CA({id:B.with(()=>r()),ref:B.with(()=>t(),y=>t(y)),onInteractOutside:B.with(()=>o()),onEscapeKeydown:B.with(()=>a()),onCloseAutoFocus:B.with(()=>s())}),h=C(()=>ze(u,d.props));var f=I(),m=P(f);{var p=y=>{Im(y,Pe(()=>g(h),()=>d.popperProps,{get enabled(){return d.root.opts.open.current},get id(){return r()},get trapFocus(){return l()},get preventScroll(){return c()},loop:!0,forceMount:!0,popper:(S,T)=>{let k=()=>T==null?void 0:T().props,O=()=>T==null?void 0:T().wrapperProps;var D=I();const j=C(()=>ze(k(),{style:Ls("popover")}));var V=P(D);{var Z=z=>{var J=I(),G=P(J),E=yt(()=>({props:g(j),wrapperProps:O(),...d.snippetProps}));le(G,()=>e.child,()=>g(E)),b(z,J)},L=z=>{var J=DA();let G;var E=ne(J);let F;var W=ne(E);le(W,()=>e.children??Ae),Q(E),Q(J),fe(()=>{G=Oe(J,G,{...O()}),F=Oe(E,F,{...g(j)})}),b(z,J)};ve(V,z=>{e.child?z(Z):z(L,!1)})}b(S,D)},$$slots:{popper:!0}}))},v=(y,_)=>{{var S=T=>{Em(T,Pe(()=>g(h),()=>d.popperProps,{get present(){return d.root.opts.open.current},get id(){return r()},get trapFocus(){return l()},get preventScroll(){return c()},loop:!0,forceMount:!1,popper:(O,D)=>{let j=()=>D==null?void 0:D().props,V=()=>D==null?void 0:D().wrapperProps;var Z=I();const L=C(()=>ze(j(),{style:Ls("popover")}));var z=P(Z);{var J=E=>{var F=I(),W=P(F),N=yt(()=>({props:g(L),wrapperProps:V(),...d.snippetProps}));le(W,()=>e.child,()=>g(N)),b(E,F)},G=E=>{var F=EA();let W;var N=ne(F);let U;var K=ne(N);le(K,()=>e.children??Ae),Q(N),Q(F),fe(()=>{W=Oe(F,W,{...V()}),U=Oe(N,U,{...g(L)})}),b(E,F)};ve(z,E=>{e.child?E(J):E(G,!1)})}b(O,Z)},$$slots:{popper:!0}}))};ve(y,T=>{i()||T(S)},_)}};ve(m,y=>{i()?y(p):y(v,!1)})}b(n,f),ie()}var RA=$("<button><!></button>");function NA(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"type",3,"button"),s=w(e,"disabled",3,!1),a=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref","type","disabled"]);const o=OA({id:B.with(()=>t()),ref:B.with(()=>r(),c=>r(c)),disabled:B.with(()=>!!s())}),l=C(()=>ze(a,o.props,{type:i()}));Dm(n,{get id(){return t()},children:(c,u)=>{var d=I(),h=P(d);{var f=p=>{var v=I(),y=P(v);le(y,()=>e.child,()=>({props:g(l)})),b(p,v)},m=p=>{var v=RA();let y;var _=ne(v);le(_,()=>e.children??Ae),Q(v),fe(()=>y=Oe(v,y,{...g(l)})),b(p,v)};ve(h,p=>{e.child?p(f):p(m,!1)})}b(c,d)},$$slots:{default:!0}}),ie()}const FA="data-link-preview-content",LA="data-link-preview-trigger";var Yo,$o,Go,Ko,qo,Xo;class jA{constructor(e){R(this,"opts");M(this,Yo,ee(!1));M(this,$o,ee(!1));M(this,Go,ee(!1));R(this,"timeout",null);M(this,Ko,ee(null));M(this,qo,ee(!1));M(this,Xo,ee(null));R(this,"isOpening",!1);this.opts=e,Zt(()=>this.opts.open.current,t=>{if(!t){this.hasSelection=!1;return}const i=Ni(document,"pointerup",()=>{this.containsSelection=!1,this.isPointerDownOnContent=!1,wb(1,()=>{var o;((o=document.getSelection())==null?void 0:o.toString())!==""?this.hasSelection=!0:this.hasSelection=!1})});if(!this.contentNode)return;const s=Vw(this.contentNode);for(const a of s)a.setAttribute("tabindex","-1");return()=>{i(),this.hasSelection=!1,this.isPointerDownOnContent=!1}})}get hasSelection(){return g(x(this,Yo))}set hasSelection(e){H(x(this,Yo),e,!0)}get isPointerDownOnContent(){return g(x(this,$o))}set isPointerDownOnContent(e){H(x(this,$o),e,!0)}get containsSelection(){return g(x(this,Go))}set containsSelection(e){H(x(this,Go),e,!0)}get contentNode(){return g(x(this,Ko))}set contentNode(e){H(x(this,Ko),e,!0)}get contentMounted(){return g(x(this,qo))}set contentMounted(e){H(x(this,qo),e,!0)}get triggerNode(){return g(x(this,Xo))}set triggerNode(e){H(x(this,Xo),e,!0)}clearTimeout(){this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null)}handleOpen(){this.clearTimeout(),!this.opts.open.current&&(this.isOpening=!0,this.timeout=window.setTimeout(()=>{this.isOpening&&(this.opts.open.current=!0,this.isOpening=!1)},this.opts.openDelay.current))}immediateClose(){this.clearTimeout(),this.isOpening=!1,this.opts.open.current=!1}handleClose(){this.isOpening=!1,this.clearTimeout(),!this.isPointerDownOnContent&&!this.hasSelection&&(this.timeout=window.setTimeout(()=>{this.opts.open.current=!1},this.opts.closeDelay.current))}}Yo=new WeakMap,$o=new WeakMap,Go=new WeakMap,Ko=new WeakMap,qo=new WeakMap,Xo=new WeakMap;var gf;class BA{constructor(e,t){R(this,"opts");R(this,"root");M(this,gf,C(()=>{var e;return{id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":Yf(this.root.opts.open.current),"data-state":dr(this.root.opts.open.current),"aria-controls":(e=this.root.contentNode)==null?void 0:e.id,role:"button",[LA]:"",onpointerenter:this.onpointerenter,onfocus:this.onfocus,onblur:this.onblur,onpointerleave:this.onpointerleave}}));this.opts=e,this.root=t,this.onpointerenter=this.onpointerenter.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this),Ze({...e,onRefChange:r=>{this.root.triggerNode=r}})}onpointerenter(e){rg(e)||this.root.handleOpen()}onpointerleave(e){rg(e)||this.root.contentMounted||this.root.immediateClose()}onfocus(e){zw(e.currentTarget)&&this.root.handleOpen()}onblur(e){this.root.handleClose()}get props(){return g(x(this,gf))}}gf=new WeakMap;var mf,pf;class zA{constructor(e,t){R(this,"opts");R(this,"root");R(this,"onInteractOutside",e=>{this.opts.onInteractOutside.current(e),!e.defaultPrevented&&this.root.handleClose()});R(this,"onEscapeKeydown",e=>{var t,r;(r=(t=this.opts.onEscapeKeydown).current)==null||r.call(t,e),!e.defaultPrevented&&this.root.handleClose()});R(this,"onOpenAutoFocus",e=>{e.preventDefault()});R(this,"onCloseAutoFocus",e=>{e.preventDefault()});M(this,mf,C(()=>({open:this.root.opts.open.current})));M(this,pf,C(()=>({id:this.opts.id.current,tabindex:-1,"data-state":dr(this.root.opts.open.current),[FA]:"",onpointerdown:this.onpointerdown,onpointerenter:this.onpointerenter,onfocusout:this.onfocusout})));R(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus});this.opts=e,this.root=t,this.onpointerdown=this.onpointerdown.bind(this),this.onpointerenter=this.onpointerenter.bind(this),this.onfocusout=this.onfocusout.bind(this),Ze({...e,onRefChange:r=>{this.root.contentNode=r},deps:()=>this.root.opts.open.current}),A_({triggerNode:()=>this.root.triggerNode,contentNode:()=>this.opts.ref.current,enabled:()=>this.root.opts.open.current,onPointerExit:()=>{this.root.handleClose()}}),db(()=>{this.root.clearTimeout()})}onpointerdown(e){const t=e.target;Na(t)&&(e.currentTarget.contains(t)&&(this.root.containsSelection=!0),this.root.hasSelection=!0,this.root.isPointerDownOnContent=!0)}onpointerenter(e){rg(e)||this.root.handleOpen()}onfocusout(e){e.preventDefault()}get snippetProps(){return g(x(this,mf))}get props(){return g(x(this,pf))}}mf=new WeakMap,pf=new WeakMap;const Fm=new un("LinkPreview.Root");function VA(n){return Fm.set(new jA(n))}function WA(n){return new BA(n,Fm.get())}function UA(n){return new zA(n,Fm.get())}function HA(n,e){re(e,!0);let t=w(e,"open",15,!1),r=w(e,"onOpenChange",3,St),i=w(e,"openDelay",3,700),s=w(e,"closeDelay",3,300);VA({open:B.with(()=>t(),l=>{t(l),r()(l)}),openDelay:B.with(()=>i()),closeDelay:B.with(()=>s())});var a=I(),o=P(a);Y(o,()=>Cm,(l,c)=>{c(l,{children:(u,d)=>{var h=I(),f=P(h);le(f,()=>e.children??Ae),b(u,h)},$$slots:{default:!0}})}),b(n,a),ie()}var ZA=$("<div><div><!></div></div>"),YA=$("<div><div><!></div></div>"),$A=$("<!> <!>",1);function GA(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"side",3,"top"),s=w(e,"sideOffset",3,0),a=w(e,"align",3,"center"),o=w(e,"avoidCollisions",3,!0),l=w(e,"arrowPadding",3,0),c=w(e,"sticky",3,"partial"),u=w(e,"hideWhenDetached",3,!1),d=w(e,"collisionPadding",3,0),h=w(e,"onInteractOutside",3,St),f=w(e,"onEscapeKeydown",3,St),m=w(e,"forceMount",3,!1),p=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref","side","sideOffset","align","avoidCollisions","arrowPadding","sticky","hideWhenDetached","collisionPadding","onInteractOutside","onEscapeKeydown","forceMount"]);const v=UA({id:B.with(()=>t()),ref:B.with(()=>r(),D=>r(D)),onInteractOutside:B.with(()=>h()),onEscapeKeydown:B.with(()=>f())}),y=C(()=>({side:i(),sideOffset:s(),align:a(),avoidCollisions:o(),arrowPadding:l(),sticky:c(),hideWhenDetached:u(),collisionPadding:d()})),_=C(()=>ze(p,g(y),v.props));var S=I(),T=P(S);{var k=D=>{Im(D,Pe(()=>g(_),()=>v.popperProps,{get enabled(){return v.root.opts.open.current},get id(){return t()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!0,popper:(V,Z)=>{let L=()=>Z==null?void 0:Z().props,z=()=>Z==null?void 0:Z().wrapperProps;var J=I();const G=C(()=>ze(L(),{style:Ls("link-preview")}));var E=P(J);{var F=N=>{var U=I(),K=P(U),ce=yt(()=>({props:g(G),wrapperProps:z(),...v.snippetProps}));le(K,()=>e.child,()=>g(ce)),b(N,U)},W=N=>{var U=ZA();let K;var ce=ne(U);let se;var he=ne(ce);le(he,()=>e.children??Ae),Q(ce),Q(U),fe(()=>{K=Oe(U,K,{...z()}),se=Oe(ce,se,{...g(G)})}),b(N,U)};ve(E,N=>{e.child?N(F):N(W,!1)})}b(V,J)},$$slots:{popper:!0}}))},O=(D,j)=>{{var V=Z=>{Em(Z,Pe(()=>g(_),()=>v.popperProps,{get present(){return v.root.opts.open.current},get id(){return t()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!1,popper:(z,J)=>{let G=()=>J==null?void 0:J().props,E=()=>J==null?void 0:J().wrapperProps;var F=$A();const W=C(()=>ze(G(),{style:Ls("link-preview")}));var N=P(F);{var U=se=>{var he=I(),be=P(he),Te=yt(()=>({props:g(W),wrapperProps:E(),...v.snippetProps}));le(be,()=>e.child,()=>g(Te)),b(se,he)},K=se=>{var he=YA();let be;var Te=ne(he);let te;var ae=ne(Te);le(ae,()=>e.children??Ae),Q(Te),Q(he),fe(()=>{be=Oe(he,be,{...E()}),te=Oe(Te,te,{...g(W)})}),b(se,he)};ve(N,se=>{e.child?se(U):se(K,!1)})}var ce=X(N,2);gg(ce,{get mounted(){return v.root.contentMounted},set mounted(se){v.root.contentMounted=se}}),b(z,F)},$$slots:{popper:!0}}))};ve(D,Z=>{m()||Z(V)},j)}};ve(T,D=>{m()?D(k):D(O,!1)})}b(n,S),ie()}var KA=$("<a><!></a>");function qA(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","ref","id","child","children"]);const s=WA({id:B.with(()=>r()),ref:B.with(()=>t(),c=>t(c))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);Y(l,()=>Dm,(c,u)=>{u(c,{get id(){return r()},children:(d,h)=>{var f=I(),m=P(f);{var p=y=>{var _=I(),S=P(_);le(S,()=>e.child,()=>({props:g(a)})),b(y,_)},v=y=>{var _=KA();let S;var T=ne(_);le(T,()=>e.children??Ae),Q(_),fe(()=>S=Oe(_,S,{...g(a)})),b(y,_)};ve(m,y=>{e.child?y(p):y(v,!1)})}b(d,f)},$$slots:{default:!0}})}),b(n,o),ie()}function XA(n,e){re(e,!0);let t=w(e,"open",15,!1),r=w(e,"onOpenChange",3,St);MA({open:B.with(()=>t(),i=>{t(i),r()(i)})}),Cm(n,{children:(i,s)=>{var a=I(),o=P(a);le(o,()=>e.children??Ae),b(i,a)},$$slots:{default:!0}}),ie()}const JA="data-tabs-root",QA="data-tabs-list",I_="data-tabs-trigger",eM="data-tabs-content";var Jo,vf;class tM{constructor(e){R(this,"opts");R(this,"rovingFocusGroup");M(this,Jo,ee(ct([])));R(this,"valueToTriggerId",new xp);R(this,"valueToContentId",new xp);M(this,vf,C(()=>({id:this.opts.id.current,"data-orientation":ur(this.opts.orientation.current),[JA]:""})));this.opts=e,Ze(e),this.rovingFocusGroup=$f({candidateAttr:I_,rootNodeId:this.opts.id,loop:this.opts.loop,orientation:this.opts.orientation})}get triggerIds(){return g(x(this,Jo))}set triggerIds(e){H(x(this,Jo),e,!0)}registerTrigger(e,t){return this.triggerIds.push(e),this.valueToTriggerId.set(t,e),()=>{this.triggerIds=this.triggerIds.filter(r=>r!==e),this.valueToTriggerId.delete(t)}}registerContent(e,t){return this.valueToContentId.set(t,e),()=>{this.valueToContentId.delete(t)}}setValue(e){this.opts.value.current=e}get props(){return g(x(this,vf))}}Jo=new WeakMap,vf=new WeakMap;var yf,bf;class nM{constructor(e,t){R(this,"opts");R(this,"root");M(this,yf,C(()=>this.root.opts.disabled.current));M(this,bf,C(()=>({id:this.opts.id.current,role:"tablist","aria-orientation":Tb(this.root.opts.orientation.current),"data-orientation":ur(this.root.opts.orientation.current),[QA]:"","data-disabled":Ct(g(x(this,yf)))})));this.opts=e,this.root=t,Ze(e)}get props(){return g(x(this,bf))}}yf=new WeakMap,bf=new WeakMap;var ws,Wr,Ss,_f,Ts,Xc,xf;class rM{constructor(e,t){M(this,Ts);R(this,"opts");R(this,"root");M(this,ws,C(()=>this.root.opts.value.current===this.opts.value.current));M(this,Wr,C(()=>this.opts.disabled.current||this.root.opts.disabled.current));M(this,Ss,ee(0));M(this,_f,C(()=>this.root.valueToContentId.get(this.opts.value.current)));M(this,xf,C(()=>({id:this.opts.id.current,role:"tab","data-state":R_(g(x(this,ws))),"data-value":this.opts.value.current,"data-orientation":ur(this.root.opts.orientation.current),"data-disabled":Ct(g(x(this,Wr))),"aria-selected":lm(g(x(this,ws))),"aria-controls":g(x(this,_f)),[I_]:"",disabled:kb(g(x(this,Wr))),tabindex:g(x(this,Ss)),onclick:this.onclick,onfocus:this.onfocus,onkeydown:this.onkeydown})));this.opts=e,this.root=t,Ze(e),Zt([()=>this.opts.id.current,()=>this.opts.value.current],([r,i])=>this.root.registerTrigger(r,i)),Qe(()=>{this.root.triggerIds.length,g(x(this,ws))||!this.root.opts.value.current?H(x(this,Ss),0):H(x(this,Ss),-1)}),this.onfocus=this.onfocus.bind(this),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onfocus(e){this.root.opts.activationMode.current!=="automatic"||g(x(this,Wr))||Fe(this,Ts,Xc).call(this)}onclick(e){g(x(this,Wr))||Fe(this,Ts,Xc).call(this)}onkeydown(e){if(!g(x(this,Wr))){if(e.key===Gi||e.key===Ki){e.preventDefault(),Fe(this,Ts,Xc).call(this);return}this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}get props(){return g(x(this,xf))}}ws=new WeakMap,Wr=new WeakMap,Ss=new WeakMap,_f=new WeakMap,Ts=new WeakSet,Xc=function(){this.root.opts.value.current!==this.opts.value.current&&this.root.setValue(this.opts.value.current)},xf=new WeakMap;var Qo,wf,Sf;class iM{constructor(e,t){R(this,"opts");R(this,"root");M(this,Qo,C(()=>this.root.opts.value.current===this.opts.value.current));M(this,wf,C(()=>this.root.valueToTriggerId.get(this.opts.value.current)));M(this,Sf,C(()=>({id:this.opts.id.current,role:"tabpanel",hidden:Ww(!g(x(this,Qo))),tabindex:0,"data-value":this.opts.value.current,"data-state":R_(g(x(this,Qo))),"aria-labelledby":g(x(this,wf)),[eM]:""})));this.opts=e,this.root=t,Ze(e),Zt([()=>this.opts.id.current,()=>this.opts.value.current],([r,i])=>this.root.registerContent(r,i))}get props(){return g(x(this,Sf))}}Qo=new WeakMap,wf=new WeakMap,Sf=new WeakMap;const Qf=new un("Tabs.Root");function sM(n){return Qf.set(new tM(n))}function aM(n){return new rM(n,Qf.get())}function oM(n){return new nM(n,Qf.get())}function lM(n){return new iM(n,Qf.get())}function R_(n){return n?"active":"inactive"}var cM=$("<div><!></div>");function uM(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"value",15,""),s=w(e,"onValueChange",3,St),a=w(e,"orientation",3,"horizontal"),o=w(e,"loop",3,!0),l=w(e,"activationMode",3,"automatic"),c=w(e,"disabled",3,!1),u=ye(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","orientation","loop","activationMode","disabled","children","child"]);const d=sM({id:B.with(()=>t()),value:B.with(()=>i(),y=>{i(y),s()(y)}),orientation:B.with(()=>a()),loop:B.with(()=>o()),activationMode:B.with(()=>l()),disabled:B.with(()=>c()),ref:B.with(()=>r(),y=>r(y))}),h=C(()=>ze(u,d.props));var f=I(),m=P(f);{var p=y=>{var _=I(),S=P(_);le(S,()=>e.child,()=>({props:g(h)})),b(y,_)},v=y=>{var _=cM();let S;var T=ne(_);le(T,()=>e.children??Ae),Q(_),fe(()=>S=Oe(_,S,{...g(h)})),b(y,_)};ve(m,y=>{e.child?y(p):y(v,!1)})}b(n,f),ie()}var dM=$("<div><!></div>");function fM(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref","value"]);const s=lM({value:B.with(()=>e.value),id:B.with(()=>t()),ref:B.with(()=>r(),d=>r(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=dM();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var hM=$("<div><!></div>");function gM(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","child","children","id","ref"]);const s=oM({id:B.with(()=>t()),ref:B.with(()=>r(),d=>r(d))}),a=C(()=>ze(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=hM();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var mM=$("<button><!></button>");function pM(n,e){re(e,!0);let t=w(e,"disabled",3,!1),r=w(e,"id",19,Ue),i=w(e,"type",3,"button"),s=w(e,"ref",15,null),a=ye(e,["$$slots","$$events","$$legacy","child","children","disabled","id","type","value","ref"]);const o=aM({id:B.with(()=>r()),disabled:B.with(()=>t()??!1),value:B.with(()=>e.value),ref:B.with(()=>s(),f=>s(f))}),l=C(()=>ze(a,o.props,{type:i()}));var c=I(),u=P(c);{var d=f=>{var m=I(),p=P(m);le(p,()=>e.child,()=>({props:g(l)})),b(f,m)},h=f=>{var m=mM();let p;var v=ne(m);le(v,()=>e.children??Ae),Q(m),fe(()=>p=Oe(m,p,{...g(l)})),b(f,m)};ve(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ie()}const vM="data-toggle-group-root",N_="data-toggle-group-item";var Tf;class F_{constructor(e){R(this,"opts");R(this,"rovingFocusGroup");M(this,Tf,C(()=>({id:this.opts.id.current,[vM]:"",role:"group","data-orientation":ur(this.opts.orientation.current),"data-disabled":Ct(this.opts.disabled.current)})));this.opts=e,this.rovingFocusGroup=$f({candidateAttr:N_,rootNodeId:e.id,loop:e.loop,orientation:e.orientation}),Ze(e)}get props(){return g(x(this,Tf))}}Tf=new WeakMap;var kf;class yM extends F_{constructor(t){super(t);R(this,"opts");R(this,"isMulti",!1);M(this,kf,C(()=>this.opts.value.current!==""));this.opts=t}get anyPressed(){return g(x(this,kf))}includesItem(t){return this.opts.value.current===t}toggleItem(t,r){this.includesItem(t)?this.opts.value.current="":(this.opts.value.current=t,this.rovingFocusGroup.setCurrentTabStopId(r))}}kf=new WeakMap;var Pf;class bM extends F_{constructor(t){super(t);R(this,"opts");R(this,"isMulti",!0);M(this,Pf,C(()=>this.opts.value.current.length>0));this.opts=t}get anyPressed(){return g(x(this,Pf))}includesItem(t){return this.opts.value.current.includes(t)}toggleItem(t,r){this.includesItem(t)?this.opts.value.current=this.opts.value.current.filter(i=>i!==t):(this.opts.value.current=[...this.opts.value.current,t],this.rovingFocusGroup.setCurrentTabStopId(r))}}Pf=new WeakMap;var Ur,Af,L_,Mf,Of,Cf,ks,Df,Ef;class _M{constructor(e,t){M(this,Af);R(this,"opts");R(this,"root");M(this,Ur,C(()=>this.opts.disabled.current||this.root.opts.disabled.current));M(this,Mf,C(()=>this.root.includesItem(this.opts.value.current)));M(this,Of,C(()=>this.root.isMulti?void 0:Uw(this.isPressed)));M(this,Cf,C(()=>this.root.isMulti?Hw(this.isPressed):void 0));M(this,ks,ee(0));M(this,Df,C(()=>({pressed:this.isPressed})));M(this,Ef,C(()=>({id:this.opts.id.current,role:this.root.isMulti?void 0:"radio",tabindex:g(x(this,ks)),"data-orientation":ur(this.root.opts.orientation.current),"data-disabled":Ct(g(x(this,Ur))),"data-state":xM(this.isPressed),"data-value":this.opts.value.current,"aria-pressed":g(x(this,Cf)),"aria-checked":g(x(this,Of)),disabled:kb(g(x(this,Ur))),[N_]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=t,Ze(e),Qe(()=>{this.root.opts.rovingFocus.current?H(x(this,ks),this.root.rovingFocusGroup.getTabIndex(this.opts.ref.current),!0):H(x(this,ks),0)}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){g(x(this,Ur))||this.root.toggleItem(this.opts.value.current,this.opts.id.current)}onkeydown(e){if(!g(x(this,Ur))){if(e.key===Ki||e.key===Gi){e.preventDefault(),Fe(this,Af,L_).call(this);return}this.root.opts.rovingFocus.current&&this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}get isPressed(){return g(x(this,Mf))}get snippetProps(){return g(x(this,Df))}get props(){return g(x(this,Ef))}}Ur=new WeakMap,Af=new WeakSet,L_=function(){g(x(this,Ur))||this.root.toggleItem(this.opts.value.current,this.opts.id.current)},Mf=new WeakMap,Of=new WeakMap,Cf=new WeakMap,ks=new WeakMap,Df=new WeakMap,Ef=new WeakMap;function xM(n){return n?"on":"off"}const j_=new un("ToggleGroup.Root");function wM(n){const{type:e,...t}=n,r=e==="single"?new yM(t):new bM(t);return j_.set(r)}function SM(n){return new _M(n,j_.get())}var TM=$("<div><!></div>");function kM(n,e){re(e,!0);let t=w(e,"id",19,Ue),r=w(e,"ref",15,null),i=w(e,"value",15),s=w(e,"onValueChange",3,St),a=w(e,"disabled",3,!1),o=w(e,"loop",3,!0),l=w(e,"orientation",3,"horizontal"),c=w(e,"rovingFocus",3,!0),u=ye(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","type","disabled","loop","orientation","rovingFocus","child","children"]);if(i()===void 0){const y=e.type==="single"?"":[];i(y)}const d=wM({id:B.with(()=>t()),value:B.with(()=>i(),y=>{i(y),s()(y)}),disabled:B.with(()=>a()),loop:B.with(()=>o()),orientation:B.with(()=>l()),rovingFocus:B.with(()=>c()),type:e.type,ref:B.with(()=>r(),y=>r(y))}),h=C(()=>ze(u,d.props));var f=I(),m=P(f);{var p=y=>{var _=I(),S=P(_);le(S,()=>e.child,()=>({props:g(h)})),b(y,_)},v=y=>{var _=TM();let S;var T=ne(_);le(T,()=>e.children??Ae),Q(_),fe(()=>S=Oe(_,S,{...g(h)})),b(y,_)};ve(m,y=>{e.child?y(p):y(v,!1)})}b(n,f),ie()}var PM=$("<button><!></button>");function AM(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"disabled",3,!1),i=w(e,"id",19,Ue),s=w(e,"type",3,"button"),a=ye(e,["$$slots","$$events","$$legacy","children","child","ref","value","disabled","id","type"]);const o=SM({id:B.with(()=>i()),value:B.with(()=>e.value),disabled:B.with(()=>r()??!1),ref:B.with(()=>t(),f=>t(f))}),l=C(()=>ze(a,o.props,{type:s()}));var c=I(),u=P(c);{var d=f=>{var m=I(),p=P(m),v=yt(()=>({props:g(l),...o.snippetProps}));le(p,()=>e.child,()=>g(v)),b(f,m)},h=f=>{var m=PM();let p;var v=ne(m);le(v,()=>e.children??Ae,()=>o.snippetProps),Q(m),fe(()=>p=Oe(m,p,{...g(l)})),b(f,m)};ve(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ie()}let na=ee(!1);const On=class On{constructor(){Qe(()=>(On._refs===0&&(On._cleanup=nw(()=>{const e=[],t=i=>{H(na,!1)},r=i=>{H(na,!0)};return e.push(Ni(document,"pointerdown",t,{capture:!0}),Ni(document,"pointermove",t,{capture:!0}),Ni(document,"keydown",r,{capture:!0})),ub(...e)})),On._refs++,()=>{var e;On._refs--,On._refs===0&&(H(na,!1),(e=On._cleanup)==null||e.call(On))}))}get current(){return g(na)}set current(e){H(na,e,!0)}};R(On,"_refs",0),R(On,"_cleanup");let wg=On;function MM(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"calendar-days"},()=>t,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"M8 14h.01"}],["path",{d:"M12 14h.01"}],["path",{d:"M16 14h.01"}],["path",{d:"M8 18h.01"}],["path",{d:"M12 18h.01"}],["path",{d:"M16 18h.01"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function OM(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"check"},()=>t,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function CM(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"chevron-left"},()=>t,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function DM(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"chevron-right"},()=>t,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function EM(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"chevrons-up-down"},()=>t,{iconNode:[["path",{d:"m7 15 5 5 5-5"}],["path",{d:"m7 9 5-5 5 5"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function IM(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"clock"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function RM(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"play"},()=>t,{iconNode:[["polygon",{points:"6 3 20 12 6 21 6 3"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function B_(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"plus"},()=>t,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function NM(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"search"},()=>t,{iconNode:[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function FM(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]);cr(n,Pe({name:"square"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]],children:(i,s)=>{var a=I(),o=P(a);pn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}var LM=$('<th class="svelte-ff9rts"> </th>'),jM=$("<div> </div>"),BM=$('<td class="svelte-ff9rts"><div> </div> <!></td>'),zM=$("<tr></tr>"),VM=$('<table class="svelte-ff9rts"><thead><tr></tr></thead><tbody></tbody></table>');function WM(n,e){re(e,!0);let t=w(e,"tasks",19,()=>[]),r=ee(ct([]));const i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function s(u,d){const h=new Date(u,d-1,1).getDay(),f=new Date(u,d,0).getDate(),m=[];let p=[],v=1;for(let y=0;y<h;y++)p.push("");for(;v<=f;){for(;p.length<7&&v<=f;)p.push(v.toString()),v++;m.push(p),p=[]}if(p.length>0){for(;p.length<7;)p.push("");m.push(p)}return m}Qe(()=>{H(r,s(e.year,e.month),!0)});var a=VM(),o=ne(a),l=ne(o);xt(l,21,()=>i,wt,(u,d)=>{var h=LM(),f=ne(h,!0);Q(h),fe(()=>Xe(f,g(d))),b(u,h)}),Q(l),Q(o);var c=X(o);xt(c,21,()=>g(r),wt,(u,d)=>{var h=zM();xt(h,21,()=>g(d),wt,(f,m)=>{var p=BM();const v=C(()=>`${e.year}-${String(e.month).padStart(2,"0")}-${String(g(m)).padStart(2,"0")}`);var y=ne(p),_=ne(y,!0);Q(y);var S=X(y,2);xt(S,17,()=>t().filter(T=>new Date(T.dueDate).toISOString().slice(0,10)===g(v)),wt,(T,k)=>{var O=jM(),D=ne(O,!0);Q(O),fe(()=>Xe(D,g(k).title)),b(T,O)}),Q(p),fe(()=>Xe(_,g(m))),b(f,p)}),Q(h),b(u,h)}),Q(c),Q(a),b(n,a),ie()}var UM=$("<div><!></div>");function HM(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=UM();let s;var a=ne(i);le(a,()=>e.children??Ae),Q(i),ir(i,o=>t(o),()=>t()),fe(o=>s=Oe(i,s,{class:o,...r}),[()=>et("p-6",e.class)]),b(n,i),ie()}var nt;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},n.find=(i,s)=>{for(const a of i)if(s(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(nt||(nt={}));var Sg;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Sg||(Sg={}));const Se=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xr=n=>{switch(typeof n){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return isNaN(n)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(n)?Se.array:n===null?Se.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Se.promise:typeof Map<"u"&&n instanceof Map?Se.map:typeof Set<"u"&&n instanceof Set?Se.set:typeof Date<"u"&&n instanceof Date?Se.date:Se.object;default:return Se.unknown}},de=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ZM=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Pn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let o=r,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Pn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Pn.create=n=>new Pn(n);const js=(n,e)=>{let t;switch(n.code){case de.invalid_type:n.received===Se.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case de.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,nt.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:t=`Unrecognized key(s) in object: ${nt.joinValues(n.keys,", ")}`;break;case de.invalid_union:t="Invalid input";break;case de.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${nt.joinValues(n.options)}`;break;case de.invalid_enum_value:t=`Invalid enum value. Expected ${nt.joinValues(n.options)}, received '${n.received}'`;break;case de.invalid_arguments:t="Invalid function arguments";break;case de.invalid_return_type:t="Invalid function return type";break;case de.invalid_date:t="Invalid date";break;case de.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:nt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case de.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case de.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case de.custom:t="Invalid input";break;case de.invalid_intersection_types:t="Intersection results could not be merged";break;case de.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case de.not_finite:t="Number must be finite";break;default:t=e.defaultError,nt.assertNever(n)}return{message:t}};let z_=js;function YM(n){z_=n}function pu(){return z_}const vu=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},$M=[];function _e(n,e){const t=pu(),r=vu({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===js?void 0:js].filter(i=>!!i)});n.common.issues.push(r)}class rn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Be;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return rn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Be;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),us=n=>({status:"dirty",value:n}),cn=n=>({status:"valid",value:n}),Tg=n=>n.status==="aborted",kg=n=>n.status==="dirty",Wi=n=>n.status==="valid",Va=n=>typeof Promise<"u"&&n instanceof Promise;function yu(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function V_(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Me;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Me||(Me={}));var fa,ha;class ar{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Up=(n,e)=>{if(Wi(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Pn(n.common.issues);return this._error=t,this._error}}};function We(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var l,c;const{message:u}=n;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??t)!==null&&c!==void 0?c:o.defaultError}},description:i}}class $e{get description(){return this._def.description}_getType(e){return xr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new rn,ctx:{common:e.parent.common,data:e.data,parsedType:xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Va(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xr(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Up(i,s)}"~validate"(e){var t,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xr(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Wi(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(t=s==null?void 0:s.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Wi(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xr(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Va(i)?i:Promise.resolve(i));return Up(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:de.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Hn({schema:this,typeName:me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Vn.create(this,this._def)}nullable(){return hi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zn.create(this)}promise(){return zs.create(this,this._def)}or(e){return Za.create([this,e],this._def)}and(e){return Ya.create(this,e,this._def)}transform(e){return new Hn({...We(this._def),schema:this,typeName:me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Xa({...We(this._def),innerType:this,defaultValue:t,typeName:me.ZodDefault})}brand(){return new Lm({typeName:me.ZodBranded,type:this,...We(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Ja({...We(this._def),innerType:this,catchValue:t,typeName:me.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return hc.create(this,e)}readonly(){return Qa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const GM=/^c[^\s-]{8,}$/i,KM=/^[0-9a-z]+$/,qM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,JM=/^[a-z0-9_-]{21}$/i,QM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eO=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rh;const rO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lO=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,W_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cO=new RegExp(`^${W_}$`);function U_(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function uO(n){return new RegExp(`^${U_(n)}$`)}function H_(n){let e=`${W_}T${U_(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function dO(n,e){return!!((e==="v4"||!e)&&rO.test(n)||(e==="v6"||!e)&&sO.test(n))}function fO(n,e){if(!QM.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function hO(n,e){return!!((e==="v4"||!e)&&iO.test(n)||(e==="v6"||!e)&&aO.test(n))}class Ln extends $e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const s=this._getOrReturnCtx(e);return _e(s,{code:de.invalid_type,expected:Se.string,received:s.parsedType}),Be}const r=new rn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:de.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:de.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?_e(i,{code:de.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&_e(i,{code:de.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")tO.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"email",code:de.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Rh||(Rh=new RegExp(nO,"u")),Rh.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"emoji",code:de.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")XM.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"uuid",code:de.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")JM.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"nanoid",code:de.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")GM.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cuid",code:de.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")KM.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cuid2",code:de.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")qM.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"ulid",code:de.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),_e(i,{validation:"url",code:de.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"regex",code:de.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),_e(i,{code:de.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),_e(i,{code:de.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),_e(i,{code:de.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?H_(s).test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:de.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?cO.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:de.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?uO(s).test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:de.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?eO.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"duration",code:de.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?dO(e.data,s.version)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"ip",code:de.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?fO(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"jwt",code:de.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?hO(e.data,s.version)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cidr",code:de.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?oO.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"base64",code:de.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?lO.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"base64url",code:de.invalid_string,message:s.message}),r.dirty()):nt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:de.invalid_string,...Me.errToObj(r)})}_addCheck(e){return new Ln({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Me.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Me.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Me.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Me.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Me.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Me.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Me.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Me.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Me.errToObj(t)})}nonempty(e){return this.min(1,Me.errToObj(e))}trim(){return new Ln({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ln({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ln({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ln.create=n=>{var e;return new Ln({checks:[],typeName:me.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...We(n)})};function gO(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class ui extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const s=this._getOrReturnCtx(e);return _e(s,{code:de.invalid_type,expected:Se.number,received:s.parsedType}),Be}let r;const i=new rn;for(const s of this._def.checks)s.kind==="int"?nt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),_e(r,{code:de.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:de.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:de.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?gO(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),_e(r,{code:de.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),_e(r,{code:de.not_finite,message:s.message}),i.dirty()):nt.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Me.toString(t))}setLimit(e,t,r,i){return new ui({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Me.toString(i)}]})}_addCheck(e){return new ui({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ui.create=n=>new ui({checks:[],typeName:me.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...We(n)});class di extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let r;const i=new rn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:de.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:de.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:de.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):nt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return _e(t,{code:de.invalid_type,expected:Se.bigint,received:t.parsedType}),Be}gte(e,t){return this.setLimit("min",e,!0,Me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Me.toString(t))}setLimit(e,t,r,i){return new di({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Me.toString(i)}]})}_addCheck(e){return new di({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}di.create=n=>{var e;return new di({checks:[],typeName:me.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...We(n)})};class Wa extends $e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const r=this._getOrReturnCtx(e);return _e(r,{code:de.invalid_type,expected:Se.boolean,received:r.parsedType}),Be}return cn(e.data)}}Wa.create=n=>new Wa({typeName:me.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...We(n)});class Ui extends $e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const s=this._getOrReturnCtx(e);return _e(s,{code:de.invalid_type,expected:Se.date,received:s.parsedType}),Be}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return _e(s,{code:de.invalid_date}),Be}const r=new rn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:de.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:de.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):nt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ui({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Me.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Me.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ui.create=n=>new Ui({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:me.ZodDate,...We(n)});class bu extends $e{_parse(e){if(this._getType(e)!==Se.symbol){const r=this._getOrReturnCtx(e);return _e(r,{code:de.invalid_type,expected:Se.symbol,received:r.parsedType}),Be}return cn(e.data)}}bu.create=n=>new bu({typeName:me.ZodSymbol,...We(n)});class Ua extends $e{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return _e(r,{code:de.invalid_type,expected:Se.undefined,received:r.parsedType}),Be}return cn(e.data)}}Ua.create=n=>new Ua({typeName:me.ZodUndefined,...We(n)});class Ha extends $e{_parse(e){if(this._getType(e)!==Se.null){const r=this._getOrReturnCtx(e);return _e(r,{code:de.invalid_type,expected:Se.null,received:r.parsedType}),Be}return cn(e.data)}}Ha.create=n=>new Ha({typeName:me.ZodNull,...We(n)});class Bs extends $e{constructor(){super(...arguments),this._any=!0}_parse(e){return cn(e.data)}}Bs.create=n=>new Bs({typeName:me.ZodAny,...We(n)});class Fi extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return cn(e.data)}}Fi.create=n=>new Fi({typeName:me.ZodUnknown,...We(n)});class Er extends $e{_parse(e){const t=this._getOrReturnCtx(e);return _e(t,{code:de.invalid_type,expected:Se.never,received:t.parsedType}),Be}}Er.create=n=>new Er({typeName:me.ZodNever,...We(n)});class _u extends $e{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return _e(r,{code:de.invalid_type,expected:Se.void,received:r.parsedType}),Be}return cn(e.data)}}_u.create=n=>new _u({typeName:me.ZodVoid,...We(n)});class zn extends $e{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==Se.array)return _e(t,{code:de.invalid_type,expected:Se.array,received:t.parsedType}),Be;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,o=t.data.length<i.exactLength.value;(a||o)&&(_e(t,{code:a?de.too_big:de.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(_e(t,{code:de.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(_e(t,{code:de.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>i.type._parseAsync(new ar(t,a,t.path,o)))).then(a=>rn.mergeArray(r,a));const s=[...t.data].map((a,o)=>i.type._parseSync(new ar(t,a,t.path,o)));return rn.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new zn({...this._def,minLength:{value:e,message:Me.toString(t)}})}max(e,t){return new zn({...this._def,maxLength:{value:e,message:Me.toString(t)}})}length(e,t){return new zn({...this._def,exactLength:{value:e,message:Me.toString(t)}})}nonempty(e){return this.min(1,e)}}zn.create=(n,e)=>new zn({type:n,minLength:null,maxLength:null,exactLength:null,typeName:me.ZodArray,...We(e)});function as(n){if(n instanceof kt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Vn.create(as(r))}return new kt({...n._def,shape:()=>e})}else return n instanceof zn?new zn({...n._def,type:as(n.element)}):n instanceof Vn?Vn.create(as(n.unwrap())):n instanceof hi?hi.create(as(n.unwrap())):n instanceof or?or.create(n.items.map(e=>as(e))):n}class kt extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=nt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Se.object){const c=this._getOrReturnCtx(e);return _e(c,{code:de.invalid_type,expected:Se.object,received:c.parsedType}),Be}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Er&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ar(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Er){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(_e(i,{code:de.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ar(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>rn.mergeObjectSync(r,c)):rn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Me.errToObj,new kt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,a,o;const l=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=Me.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new kt({...this._def,unknownKeys:"strip"})}passthrough(){return new kt({...this._def,unknownKeys:"passthrough"})}extend(e){return new kt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:me.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new kt({...this._def,catchall:e})}pick(e){const t={};return nt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new kt({...this._def,shape:()=>t})}omit(e){const t={};return nt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new kt({...this._def,shape:()=>t})}deepPartial(){return as(this)}partial(e){const t={};return nt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new kt({...this._def,shape:()=>t})}required(e){const t={};return nt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Vn;)s=s._def.innerType;t[r]=s}}),new kt({...this._def,shape:()=>t})}keyof(){return Z_(nt.objectKeys(this.shape))}}kt.create=(n,e)=>new kt({shape:()=>n,unknownKeys:"strip",catchall:Er.create(),typeName:me.ZodObject,...We(e)});kt.strictCreate=(n,e)=>new kt({shape:()=>n,unknownKeys:"strict",catchall:Er.create(),typeName:me.ZodObject,...We(e)});kt.lazycreate=(n,e)=>new kt({shape:n,unknownKeys:"strip",catchall:Er.create(),typeName:me.ZodObject,...We(e)});class Za extends $e{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Pn(o.ctx.common.issues));return _e(t,{code:de.invalid_union,unionErrors:a}),Be}if(t.common.async)return Promise.all(r.map(async s=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new Pn(l));return _e(t,{code:de.invalid_union,unionErrors:o}),Be}}get options(){return this._def.options}}Za.create=(n,e)=>new Za({options:n,typeName:me.ZodUnion,...We(e)});const vr=n=>n instanceof Ga?vr(n.schema):n instanceof Hn?vr(n.innerType()):n instanceof Ka?[n.value]:n instanceof fi?n.options:n instanceof qa?nt.objectValues(n.enum):n instanceof Xa?vr(n._def.innerType):n instanceof Ua?[void 0]:n instanceof Ha?[null]:n instanceof Vn?[void 0,...vr(n.unwrap())]:n instanceof hi?[null,...vr(n.unwrap())]:n instanceof Lm||n instanceof Qa?vr(n.unwrap()):n instanceof Ja?vr(n._def.innerType):[];class eh extends $e{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.object)return _e(t,{code:de.invalid_type,expected:Se.object,received:t.parsedType}),Be;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(_e(t,{code:de.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const a=vr(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new eh({typeName:me.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...We(r)})}}function Pg(n,e){const t=xr(n),r=xr(e);if(n===e)return{valid:!0,data:n};if(t===Se.object&&r===Se.object){const i=nt.objectKeys(e),s=nt.objectKeys(n).filter(o=>i.indexOf(o)!==-1),a={...n,...e};for(const o of s){const l=Pg(n[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(t===Se.array&&r===Se.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const a=n[s],o=e[s],l=Pg(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===Se.date&&r===Se.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Ya extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Tg(s)||Tg(a))return Be;const o=Pg(s.value,a.value);return o.valid?((kg(s)||kg(a))&&t.dirty(),{status:t.value,value:o.data}):(_e(r,{code:de.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ya.create=(n,e,t)=>new Ya({left:n,right:e,typeName:me.ZodIntersection,...We(t)});class or extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.array)return _e(r,{code:de.invalid_type,expected:Se.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return _e(r,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(_e(r,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ar(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>rn.mergeArray(t,a)):rn.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new or({...this._def,rest:e})}}or.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new or({items:n,typeName:me.ZodTuple,rest:null,...We(e)})};class $a extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.object)return _e(r,{code:de.invalid_type,expected:Se.object,received:r.parsedType}),Be;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new ar(r,o,r.path,o)),value:a._parse(new ar(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?rn.mergeObjectAsync(t,i):rn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof $e?new $a({keyType:e,valueType:t,typeName:me.ZodRecord,...We(r)}):new $a({keyType:Ln.create(),valueType:e,typeName:me.ZodRecord,...We(t)})}}class xu extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.map)return _e(r,{code:de.invalid_type,expected:Se.map,received:r.parsedType}),Be;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new ar(r,o,r.path,[c,"key"])),value:s._parse(new ar(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(c.value,u.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(c.value,u.value)}return{status:t.value,value:o}}}}xu.create=(n,e,t)=>new xu({valueType:e,keyType:n,typeName:me.ZodMap,...We(t)});class Hi extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.set)return _e(r,{code:de.invalid_type,expected:Se.set,received:r.parsedType}),Be;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(_e(r,{code:de.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(_e(r,{code:de.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Be;u.status==="dirty"&&t.dirty(),c.add(u.value)}return{status:t.value,value:c}}const o=[...r.data.values()].map((l,c)=>s._parse(new ar(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,t){return new Hi({...this._def,minSize:{value:e,message:Me.toString(t)}})}max(e,t){return new Hi({...this._def,maxSize:{value:e,message:Me.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Hi.create=(n,e)=>new Hi({valueType:n,minSize:null,maxSize:null,typeName:me.ZodSet,...We(e)});class hs extends $e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.function)return _e(t,{code:de.invalid_type,expected:Se.function,received:t.parsedType}),Be;function r(o,l){return vu({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pu(),js].filter(c=>!!c),issueData:{code:de.invalid_arguments,argumentsError:l}})}function i(o,l){return vu({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pu(),js].filter(c=>!!c),issueData:{code:de.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof zs){const o=this;return cn(async function(...l){const c=new Pn([]),u=await o._def.args.parseAsync(l,s).catch(f=>{throw c.addIssue(r(l,f)),c}),d=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(d,s).catch(f=>{throw c.addIssue(i(d,f)),c})})}else{const o=this;return cn(function(...l){const c=o._def.args.safeParse(l,s);if(!c.success)throw new Pn([r(l,c.error)]);const u=Reflect.apply(a,this,c.data),d=o._def.returns.safeParse(u,s);if(!d.success)throw new Pn([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new hs({...this._def,args:or.create(e).rest(Fi.create())})}returns(e){return new hs({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new hs({args:e||or.create([]).rest(Fi.create()),returns:t||Fi.create(),typeName:me.ZodFunction,...We(r)})}}class Ga extends $e{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ga.create=(n,e)=>new Ga({getter:n,typeName:me.ZodLazy,...We(e)});class Ka extends $e{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return _e(t,{received:t.data,code:de.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ka.create=(n,e)=>new Ka({value:n,typeName:me.ZodLiteral,...We(e)});function Z_(n,e){return new fi({values:n,typeName:me.ZodEnum,...We(e)})}class fi extends $e{constructor(){super(...arguments),fa.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return _e(t,{expected:nt.joinValues(r),received:t.parsedType,code:de.invalid_type}),Be}if(yu(this,fa)||V_(this,fa,new Set(this._def.values)),!yu(this,fa).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return _e(t,{received:t.data,code:de.invalid_enum_value,options:r}),Be}return cn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return fi.create(e,{...this._def,...t})}exclude(e,t=this._def){return fi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}fa=new WeakMap;fi.create=Z_;class qa extends $e{constructor(){super(...arguments),ha.set(this,void 0)}_parse(e){const t=nt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Se.string&&r.parsedType!==Se.number){const i=nt.objectValues(t);return _e(r,{expected:nt.joinValues(i),received:r.parsedType,code:de.invalid_type}),Be}if(yu(this,ha)||V_(this,ha,new Set(nt.getValidEnumValues(this._def.values))),!yu(this,ha).has(e.data)){const i=nt.objectValues(t);return _e(r,{received:r.data,code:de.invalid_enum_value,options:i}),Be}return cn(e.data)}get enum(){return this._def.values}}ha=new WeakMap;qa.create=(n,e)=>new qa({values:n,typeName:me.ZodNativeEnum,...We(e)});class zs extends $e{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.promise&&t.common.async===!1)return _e(t,{code:de.invalid_type,expected:Se.promise,received:t.parsedType}),Be;const r=t.parsedType===Se.promise?t.data:Promise.resolve(t.data);return cn(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}zs.create=(n,e)=>new zs({type:n,typeName:me.ZodPromise,...We(e)});class Hn extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{_e(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return Be;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Be:l.status==="dirty"||t.value==="dirty"?us(l.value):l});{if(t.value==="aborted")return Be;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?Be:o.status==="dirty"||t.value==="dirty"?us(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Be:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Be:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Wi(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Wi(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:t.value,value:o})):a);nt.assertNever(i)}}Hn.create=(n,e,t)=>new Hn({schema:n,typeName:me.ZodEffects,effect:e,...We(t)});Hn.createWithPreprocess=(n,e,t)=>new Hn({schema:e,effect:{type:"preprocess",transform:n},typeName:me.ZodEffects,...We(t)});class Vn extends $e{_parse(e){return this._getType(e)===Se.undefined?cn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vn.create=(n,e)=>new Vn({innerType:n,typeName:me.ZodOptional,...We(e)});class hi extends $e{_parse(e){return this._getType(e)===Se.null?cn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hi.create=(n,e)=>new hi({innerType:n,typeName:me.ZodNullable,...We(e)});class Xa extends $e{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Xa.create=(n,e)=>new Xa({innerType:n,typeName:me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...We(e)});class Ja extends $e{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Va(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Pn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ja.create=(n,e)=>new Ja({innerType:n,typeName:me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...We(e)});class wu extends $e{_parse(e){if(this._getType(e)!==Se.nan){const r=this._getOrReturnCtx(e);return _e(r,{code:de.invalid_type,expected:Se.nan,received:r.parsedType}),Be}return{status:"valid",value:e.data}}}wu.create=n=>new wu({typeName:me.ZodNaN,...We(n)});const mO=Symbol("zod_brand");class Lm extends $e{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class hc extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Be:s.status==="dirty"?(t.dirty(),us(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new hc({in:e,out:t,typeName:me.ZodPipeline})}}class Qa extends $e{_parse(e){const t=this._def.innerType._parse(e),r=i=>(Wi(i)&&(i.value=Object.freeze(i.value)),i);return Va(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}Qa.create=(n,e)=>new Qa({innerType:n,typeName:me.ZodReadonly,...We(e)});function Hp(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function Y_(n,e={},t){return n?Bs.create().superRefine((r,i)=>{var s,a;const o=n(r);if(o instanceof Promise)return o.then(l=>{var c,u;if(!l){const d=Hp(e,r),h=(u=(c=d.fatal)!==null&&c!==void 0?c:t)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...d,fatal:h})}});if(!o){const l=Hp(e,r),c=(a=(s=l.fatal)!==null&&s!==void 0?s:t)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...l,fatal:c})}}):Bs.create()}const pO={object:kt.lazycreate};var me;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(me||(me={}));const vO=(n,e={message:`Input not instance of ${n.name}`})=>Y_(t=>t instanceof n,e),$_=Ln.create,G_=ui.create,yO=wu.create,bO=di.create,K_=Wa.create,_O=Ui.create,xO=bu.create,wO=Ua.create,SO=Ha.create,TO=Bs.create,kO=Fi.create,PO=Er.create,AO=_u.create,MO=zn.create,OO=kt.create,CO=kt.strictCreate,DO=Za.create,EO=eh.create,IO=Ya.create,RO=or.create,NO=$a.create,FO=xu.create,LO=Hi.create,jO=hs.create,BO=Ga.create,zO=Ka.create,VO=fi.create,WO=qa.create,UO=zs.create,Zp=Hn.create,HO=Vn.create,ZO=hi.create,YO=Hn.createWithPreprocess,$O=hc.create,GO=()=>$_().optional(),KO=()=>G_().optional(),qO=()=>K_().optional(),XO={string:n=>Ln.create({...n,coerce:!0}),number:n=>ui.create({...n,coerce:!0}),boolean:n=>Wa.create({...n,coerce:!0}),bigint:n=>di.create({...n,coerce:!0}),date:n=>Ui.create({...n,coerce:!0})},JO=Be;var Cn=Object.freeze({__proto__:null,defaultErrorMap:js,setErrorMap:YM,getErrorMap:pu,makeIssue:vu,EMPTY_PATH:$M,addIssueToContext:_e,ParseStatus:rn,INVALID:Be,DIRTY:us,OK:cn,isAborted:Tg,isDirty:kg,isValid:Wi,isAsync:Va,get util(){return nt},get objectUtil(){return Sg},ZodParsedType:Se,getParsedType:xr,ZodType:$e,datetimeRegex:H_,ZodString:Ln,ZodNumber:ui,ZodBigInt:di,ZodBoolean:Wa,ZodDate:Ui,ZodSymbol:bu,ZodUndefined:Ua,ZodNull:Ha,ZodAny:Bs,ZodUnknown:Fi,ZodNever:Er,ZodVoid:_u,ZodArray:zn,ZodObject:kt,ZodUnion:Za,ZodDiscriminatedUnion:eh,ZodIntersection:Ya,ZodTuple:or,ZodRecord:$a,ZodMap:xu,ZodSet:Hi,ZodFunction:hs,ZodLazy:Ga,ZodLiteral:Ka,ZodEnum:fi,ZodNativeEnum:qa,ZodPromise:zs,ZodEffects:Hn,ZodTransformer:Hn,ZodOptional:Vn,ZodNullable:hi,ZodDefault:Xa,ZodCatch:Ja,ZodNaN:wu,BRAND:mO,ZodBranded:Lm,ZodPipeline:hc,ZodReadonly:Qa,custom:Y_,Schema:$e,ZodSchema:$e,late:pO,get ZodFirstPartyTypeKind(){return me},coerce:XO,any:TO,array:MO,bigint:bO,boolean:K_,date:_O,discriminatedUnion:EO,effect:Zp,enum:VO,function:jO,instanceof:vO,intersection:IO,lazy:BO,literal:zO,map:FO,nan:yO,nativeEnum:WO,never:PO,null:SO,nullable:ZO,number:G_,object:OO,oboolean:qO,onumber:KO,optional:HO,ostring:GO,pipeline:$O,preprocess:YO,promise:UO,record:NO,set:LO,strictObject:CO,string:$_,symbol:xO,transformer:Zp,tuple:RO,undefined:wO,union:DO,unknown:kO,void:AO,NEVER:JO,ZodIssueCode:de,quotelessJson:ZM,ZodError:Pn});const q_=Cn.object({title:Cn.string().nonempty(),description:Cn.string(),dueDate:Cn.string().date().optional(),timeEstimate:Cn.number().min(0).default(0),assignees:Cn.array(Cn.string())}),X_=Cn.object({title:Cn.string().nonempty(),description:Cn.string().optional(),options:Cn.string().nonempty(),dueDate:Cn.string().date()}),J_=()=>{const n=Bx;return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},updated:n.updated}},ra={subscribe(n){return J_().page.subscribe(n)}},Yp={subscribe(n){return J_().navigating.subscribe(n)}};function Ag(n,e,t){return n[e]=t,"skip"}function QO(n,e){return e.value!==void 0&&typeof e.value!="object"&&e.path.length<n.length}function qn(n,e,t={}){t.modifier||(t.modifier=i=>QO(e,i)?void 0:i.value);const r=Zn(n,e,t.modifier);if(r)return t.value===void 0||t.value(r.value)?r:void 0}function Zn(n,e,t){if(!e.length)return;const r=[e[0]];let i=n;for(;i&&r.length<e.length;){const a=r[r.length-1],o=t?t({parent:i,key:String(a),value:i[a],path:r.map(l=>String(l)),isLeaf:!1,set:l=>Ag(i,a,l)}):i[a];if(o===void 0)return;i=o,r.push(e[r.length])}if(!i)return;const s=e[e.length-1];return{parent:i,key:String(s),value:i[s],path:e.map(a=>String(a)),isLeaf:!0,set:a=>Ag(i,s,a)}}function er(n,e,t=[]){for(const r in n){const i=n[r],s=i===null||typeof i!="object",a={parent:n,key:r,value:i,path:t.concat([r]),isLeaf:s,set:l=>Ag(n,r,l)},o=e(a);if(o==="abort")return o;if(o==="skip")continue;if(!s){const l=er(i,e,a.path);if(l==="abort")return l}}}function e2(n,e){return n===e||n.size===e.size&&[...n].every(t=>e.has(t))}function $p(n,e){const t=new Map;function r(o,l){return o instanceof Date&&l instanceof Date&&o.getTime()!==l.getTime()||o instanceof Set&&l instanceof Set&&!e2(o,l)||o instanceof File&&l instanceof File&&o!==l}function i(o){return o instanceof Date||o instanceof Set||o instanceof File}function s(o,l){const c=l?Zn(l,o.path):void 0;function u(){return t.set(o.path.join(" "),o.path),"skip"}if(i(o.value)&&(!i(c==null?void 0:c.value)||r(o.value,c.value)))return u();o.isLeaf&&(!c||o.value!==c.value)&&u()}er(n,o=>s(o,e)),er(e,o=>s(o,n));const a=Array.from(t.values());return a.sort((o,l)=>o.length-l.length),a}function _n(n,e,t){const r=typeof t=="function";for(const i of e){const s=Zn(n,i,({parent:a,key:o,value:l})=>((l===void 0||typeof l!="object")&&(a[o]={}),a[o]));s&&(s.parent[s.key]=r?t(i,s):t)}}function Jr(n){return n.toString().split(/[[\].]+/).filter(e=>e)}function ga(n){return n.reduce((e,t)=>{const r=String(t);return typeof t=="number"||/^\d+$/.test(r)?e+=`[${r}]`:e?e+=`.${r}`:e+=r,e},"")}function ma(n){const e={}.toString.call(n).slice(8,-1);if(e=="Set")return new Set([...n].map(t=>ma(t)));if(e=="Map")return new Map([...n].map(t=>[ma(t[0]),ma(t[1])]));if(e=="Date")return new Date(n.getTime());if(e=="RegExp")return RegExp(n.source,n.flags);if(e=="Array"||e=="Object"){const t=e=="Object"?Object.create(Object.getPrototypeOf(n)):[];for(const r in n)t[r]=ma(n[r]);return t}return n}function on(n){return n&&typeof n=="object"?ma(n):n}function Zi(n,e){if(typeof n=="boolean")throw new Gt("Schema property cannot be defined as boolean.",e)}const Gp=n=>{if(typeof n=="object"&&n!==null){if(typeof Object.getPrototypeOf=="function"){const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}return Object.prototype.toString.call(n)==="[object Object]"}return!1},Tn=(...n)=>n.reduce((e,t)=>{if(Array.isArray(t))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(t).forEach(r=>{["__proto__","constructor","prototype"].includes(r)||(Array.isArray(e[r])&&Array.isArray(t[r])?e[r]=Tn.options.mergeArrays?Tn.options.uniqueArrayItems?Array.from(new Set(e[r].concat(t[r]))):[...e[r],...t[r]]:t[r]:Gp(e[r])&&Gp(t[r])?e[r]=Tn(e[r],t[r]):e[r]=t[r]===void 0?Tn.options.allowUndefinedOverrides?t[r]:e[r]:t[r])}),e},{}),Mg={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};Tn.options=Mg;Tn.withOptions=(n,...e)=>{Tn.options=Object.assign(Object.assign({},Mg),n);const t=Tn(...e);return Tn.options=Mg,t};const t2=["unix-time","bigint","any","symbol","set","int64"];function tn(n,e,t){var c;Zi(n,t);const r=Q_(n,t),i=n.items&&r.includes("array")?(Array.isArray(n.items)?n.items:[n.items]).filter(u=>typeof u!="boolean"):void 0,s=n.additionalProperties&&typeof n.additionalProperties=="object"&&r.includes("object")?Object.fromEntries(Object.entries(n.additionalProperties).filter(([,u])=>typeof u!="boolean")):void 0,a=n.properties&&r.includes("object")?Object.fromEntries(Object.entries(n.properties).filter(([,u])=>typeof u!="boolean")):void 0,o=(c=n2(n))==null?void 0:c.filter(u=>u.type!=="null"&&u.const!==null),l={types:r.filter(u=>u!=="null"),isOptional:e,isNullable:r.includes("null"),schema:n,union:o!=null&&o.length?o:void 0,array:i,properties:a,additionalProperties:s,required:n.required};return!n.allOf||!n.allOf.length?l:{...Tn.withOptions({allowUndefinedOverrides:!1},l,...n.allOf.map(u=>tn(u,!1,[]))),schema:n}}function Q_(n,e){Zi(n,e);let t=n.const===null?["null"]:[];if(n.type&&(t=Array.isArray(n.type)?n.type:[n.type]),n.anyOf&&(t=n.anyOf.flatMap(r=>Q_(r,e))),t.includes("array")&&n.uniqueItems){const r=t.findIndex(i=>i!="array");t[r]="set"}else if(n.format&&t2.includes(n.format)&&(t.unshift(n.format),n.format=="unix-time"||n.format=="int64")){const r=t.findIndex(i=>i=="integer");t.splice(r,1)}return n.const&&n.const!==null&&typeof n.const!="function"&&t.push(typeof n.const),Array.from(new Set(t))}function n2(n){if(!(!n.anyOf||!n.anyOf.length))return n.anyOf.filter(e=>typeof e!="boolean")}function e0(n,e=!1,t=[]){return pa(n,e,t)}function pa(n,e,t){var c;if(!n)throw new Gt("Schema was undefined",t);const r=tn(n,e,t);if(!r)return;let i;if("default"in n)if(r.types.includes("object")&&n.default&&typeof n.default=="object"&&!Array.isArray(n.default))i=n.default;else{if(r.types.length>1&&r.types.includes("unix-time")&&(r.types.includes("integer")||r.types.includes("number")))throw new Gt("Cannot resolve a default value with a union that includes a date and a number/integer.",t);const[u]=r.types;return r2(u,n.default)}let s;const a=()=>!r.union||r.union.length<2?!1:r.union.some(u=>u.enum)?!0:(s||(s=new Set(r.types.map(u=>["integer","unix-time"].includes(u)?"number":u))),s.size>1);let o;if(!i&&r.union){const u=r.union.filter(d=>typeof d!="boolean"&&d.default!==void 0);if(u.length==1)return pa(u[0],e,t);if(u.length>1)throw new Gt("Only one default value can exist in a union, or set a default value for the whole union.",t);if(r.isNullable)return null;if(r.isOptional)return;if(a())throw new Gt("Multi-type unions must have a default value, or exactly one of the union types must have.",t);r.union.length&&r.types[0]=="object"&&(o===void 0&&(o={}),o=r.union.length>1?Tn.withOptions({allowUndefinedOverrides:!0},...r.union.map(d=>pa(d,e,t))):pa(r.union[0],e,t))}if(!i){if(r.isNullable)return null;if(r.isOptional)return}if(r.properties)for(const[u,d]of Object.entries(r.properties)){Zi(d,[...t,u]);const h=i&&i[u]!==void 0?i[u]:pa(d,!((c=r.required)!=null&&c.includes(u)),[...t,u]);o===void 0&&(o={}),o[u]=h}else if(i)return i;if(n.enum)return n.enum[0];if(a())throw new Gt("Default values cannot have more than one type.",t);if(r.types.length==0)return;const[l]=r.types;return o??t0(l,n.enum)}function r2(n,e){switch(n){case"set":return Array.isArray(e)?new Set(e):e;case"Date":case"date":case"unix-time":if(typeof e=="string"||typeof e=="number")return new Date(e);break;case"bigint":if(typeof e=="string"||typeof e=="number")return BigInt(e);break;case"symbol":if(typeof e=="string"||typeof e=="number")return Symbol(e);break}return e}function t0(n,e){switch(n){case"string":return e&&e.length>0?e[0]:"";case"number":case"integer":return e&&e.length>0?e[0]:0;case"boolean":return!1;case"array":return[];case"object":return{};case"null":return null;case"Date":case"date":case"unix-time":return;case"int64":case"bigint":return BigInt(0);case"set":return new Set;case"symbol":return Symbol();case"undefined":case"any":return;default:throw new Gt("Schema type or format not supported, requires explicit default value: "+n)}}function i2(n,e=[]){return Jc(n,!1,e)}function Jc(n,e,t){var s,a;if(!n)throw new Gt("Schema was undefined",t);const r=tn(n,e,t),i={__types:r.types};if(r.schema.items&&typeof r.schema.items=="object"&&!Array.isArray(r.schema.items)&&(i.__items=Jc(r.schema.items,r.isOptional,t)),r.properties)for(const[o,l]of Object.entries(r.properties))Zi(l,[...t,o]),i[o]=Jc(r.properties[o],!((s=r.required)!=null&&s.includes(o)),[...t,o]);if(r.additionalProperties&&r.types.includes("object")){const o=tn(r.additionalProperties,r.isOptional,t);if(o.properties&&o.types.includes("object"))for(const[l]of Object.entries(o.properties))i[l]=Jc(o.properties[l],!((a=o.required)!=null&&a.includes(l)),[...t,l])}return r.isNullable&&!i.__types.includes("null")&&i.__types.push("null"),r.isOptional&&!i.__types.includes("undefined")&&i.__types.push("undefined"),i}class Rt extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Rt.prototype)}}class Gt extends Rt{constructor(t,r){super((r&&r.length?`[${Array.isArray(r)?r.join("."):r}] `:"")+t);R(this,"path");this.path=Array.isArray(r)?r.join("."):r,Object.setPrototypeOf(this,Gt.prototype)}}function n0(n,e){var i;const t={};function r(s){if("_errors"in t||(t._errors=[]),!Array.isArray(t._errors))if(typeof t._errors=="string")t._errors=[t._errors];else throw new Rt("Form-level error was not an array.");t._errors.push(s.message)}for(const s of n){if(!s.path||s.path.length==1&&!s.path[0]){r(s);continue}const o=!/^\d$/.test(String(s.path[s.path.length-1]))&&((i=qn(e,s.path.filter(d=>/\D/.test(String(d)))))==null?void 0:i.value),l=Zn(t,s.path,({value:d,parent:h,key:f})=>(d===void 0&&(h[f]={}),h[f]));if(!l){r(s);continue}const{parent:c,key:u}=l;o?(u in c||(c[u]={}),"_errors"in c[u]?c[u]._errors.push(s.message):c[u]._errors=[s.message]):u in c?c[u].push(s.message):c[u]=[s.message]}return t}function Kp(n,e,t){return t?n:(er(e,r=>{Array.isArray(r.value)&&r.set(void 0)}),er(n,r=>{!Array.isArray(r.value)&&r.value!==void 0||_n(e,[r.path],r.value)}),e)}function s2(n){return r0(n,[])}function r0(n,e){return Object.entries(n).filter(([,r])=>r!==void 0).flatMap(([r,i])=>{if(Array.isArray(i)&&i.length>0){const s=e.concat([r]);return{path:ga(s),messages:i}}else return r0(n[r],e.concat([r]))})}function qp(n,e){return n?Tn.withOptions({mergeArrays:!1},e,n):on(e)}function a2(n,e,t,r,i){const s=t.additionalProperties&&typeof t.additionalProperties=="object"?{__types:tn(t.additionalProperties,!1,[]).types}:void 0,a=i2(t);function o(h,f,m){const p=m.__types;if(!p.length||p.every(y=>y=="undefined"||y=="null"||y=="any"))return h;if(p.length==1&&p[0]=="array"&&!m.__items)return h;const v=["unix-time","Date","date"];for(const y of p){const _=t0(y,void 0),S=typeof h==typeof _||v.includes(y)&&h instanceof Date;if(S&&(S&&h===null==(_===null)))return h;if(m.__items)return o(h,f,m.__items)}return f===void 0&&p.includes("null")?null:f}function l(){return er(e,d),u(),n}function c(h,f){_n(n,[h],f)}function u(){var h;for(const f of r)f.path&&d({path:f.path,value:(h=qn(e,f.path))==null?void 0:h.value})}function d(h){const f=h.path;if(!f||!f[0]||typeof f[0]=="string"&&(i!=null&&i.includes(f[0])))return;const m=qn(n,f);if(!m&&h.value!==void 0||m&&m.value===void 0)c(f,h.value);else if(m){const p=h.value,v=m.value;if(p!==void 0&&typeof v==typeof p&&v===null==(p===null))return;const y=f.filter(T=>/\D/.test(String(T))),_=Zn(a,y,T=>"__items"in T.value?T.value.__items:T.value);if(!_)throw new Gt("No types found for defaults",f);const S=_.value??s;S&&c(f,o(v,p,S))}}return l()}function Xp(n){n.flashMessage&&Og(n)&&(document.cookie=`flash=; Max-Age=0; Path=${n.flashMessage.cookiePath??"/"};`)}function Og(n){return n.flashMessage?n.syncFlashMessage:!1}function Cg(n){const e=JSON.parse(n);return e.data&&(e.data=ib(e.data,zx.decoders)),e}function Nh(n){return HTMLElement.prototype.cloneNode.call(n)}function o2(n,e=()=>{}){const t=async({action:i,result:s,reset:a=!0,invalidateAll:o=!0})=>{s.type==="success"&&(a&&HTMLFormElement.prototype.reset.call(n),o&&await sb()),(location.origin+location.pathname===i.origin+i.pathname||s.type==="redirect"||s.type==="error")&&await Hc(s)};async function r(i){var p,v,y,_,S;if(((p=i.submitter)!=null&&p.hasAttribute("formmethod")?i.submitter.formMethod:Nh(n).method)!=="post")return;i.preventDefault();const a=new URL((v=i.submitter)!=null&&v.hasAttribute("formaction")?i.submitter.formAction:Nh(n).action),o=(y=i.submitter)!=null&&y.hasAttribute("formenctype")?i.submitter.formEnctype:Nh(n).enctype,l=new FormData(n),c=(_=i.submitter)==null?void 0:_.getAttribute("name");c&&l.append(c,((S=i.submitter)==null?void 0:S.getAttribute("value"))??"");const u=new AbortController;let d=!1;const f=await e({action:a,cancel:()=>d=!0,controller:u,formData:l,formElement:n,submitter:i.submitter})??t;if(d)return;let m;try{const T=new Headers({accept:"application/json","x-sveltekit-action":"true"});o!=="multipart/form-data"&&T.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(o)?o:"application/x-www-form-urlencoded");const k=o==="multipart/form-data"?l:new URLSearchParams(l),O=await fetch(a,{method:"POST",headers:T,cache:"no-store",body:k,signal:u.signal});m=Cg(await O.text()),m.type==="error"&&(m.status=O.status)}catch(T){if((T==null?void 0:T.name)==="AbortError")return;m={type:"error",error:T}}await f({action:a,formData:l,formElement:n,update:T=>t({action:a,result:m,reset:T==null?void 0:T.reset,invalidateAll:T==null?void 0:T.invalidateAll}),result:m})}return HTMLFormElement.prototype.addEventListener.call(n,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(n,"submit",r)}}}const i0="noCustomValidity";async function Jp(n,e){"setCustomValidity"in n&&n.setCustomValidity(""),!(i0 in n.dataset)&&s0(n,e)}function l2(n,e){for(const t of n.querySelectorAll("input,select,textarea,button")){if("dataset"in t&&i0 in t.dataset||!t.name)continue;const r=Zn(e,Jr(t.name)),i=r&&typeof r.value=="object"&&"_errors"in r.value?r.value._errors:r==null?void 0:r.value;if(s0(t,i),i)return}}function s0(n,e){if(!("setCustomValidity"in n))return;const t=e&&e.length?e.join(`
`):"";n.setCustomValidity(t),t&&n.reportValidity()}const c2=(n,e=0)=>{const t=n.getBoundingClientRect();return t.top>=e&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},u2=(n,e=1.125,t="smooth")=>{const s=n.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*e);window.scrollTo({left:0,top:s,behavior:t})},d2=["checkbox","radio","range","file"];function Qp(n){const e=!!n&&(n instanceof HTMLSelectElement||n instanceof HTMLInputElement&&d2.includes(n.type)),t=!!n&&n instanceof HTMLSelectElement&&n.multiple,r=!!n&&n instanceof HTMLInputElement&&n.type=="file";return{immediate:e,multiple:t,file:r}}var qt;(function(n){n[n.Idle=0]="Idle",n[n.Submitting=1]="Submitting",n[n.Delayed=2]="Delayed",n[n.Timeout=3]="Timeout"})(qt||(qt={}));const f2=new Set;function h2(n,e,t){let r=qt.Idle,i,s;const a=f2;function o(){l(),u(r!=qt.Delayed?qt.Submitting:qt.Delayed),i=window.setTimeout(()=>{i&&r==qt.Submitting&&u(qt.Delayed)},t.delayMs),s=window.setTimeout(()=>{s&&r==qt.Delayed&&u(qt.Timeout)},t.timeoutMs),a.add(l)}function l(){clearTimeout(i),clearTimeout(s),i=s=0,a.delete(l),u(qt.Idle)}function c(){a.forEach(v=>v()),a.clear()}function u(v){r=v,e.submitting.set(r>=qt.Submitting),e.delayed.set(r>=qt.Delayed),e.timeout.set(r>=qt.Timeout)}const d=n;function h(v){const y=v.target;t.selectErrorText&&y.select()}function f(){t.selectErrorText&&d.querySelectorAll("input").forEach(v=>{v.addEventListener("invalid",h)})}function m(){t.selectErrorText&&d.querySelectorAll("input").forEach(v=>v.removeEventListener("invalid",h))}const p=n;{f();const v=y=>{y.clearAll?c():l(),y.cancelled||setTimeout(()=>Dg(p,t),1)};return wa(()=>{m(),v({cancelled:!0})}),{submitting(){o()},completed:v,scrollToFirstError(){setTimeout(()=>Dg(p,t),1)},isSubmitting:()=>r===qt.Submitting||r===qt.Delayed}}}const Dg=async(n,e)=>{if(e.scrollToError=="off")return;const t=e.errorSelector;if(!t)return;await lu();let r;if(r=n.querySelector(t),!r)return;r=r.querySelector(t)??r;const i=e.stickyNavbar?document.querySelector(e.stickyNavbar):null;typeof e.scrollToError!="string"?r.scrollIntoView(e.scrollToError):c2(r,(i==null?void 0:i.offsetHeight)??0)||u2(r,void 0,e.scrollToError);function s(o){return typeof e.autoFocusOnError=="boolean"?e.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(o)}if(!s(navigator.userAgent))return;let a;if(a=r,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(a.tagName)||(a=a.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),a)try{a.focus({preventScroll:!0}),e.selectErrorText&&a.tagName=="INPUT"&&a.select()}catch{}};function Su(n,e,t){const r=Zn(n,e,({parent:i,key:s,value:a})=>(a===void 0&&(i[s]=/\D/.test(s)?{}:[]),i[s]));if(r){const i=t(r.value);r.parent[r.key]=i}return n}function g2(n,e,t){const r=n.form,i=Jr(e),s=tm(r,a=>{const o=Zn(a,i);return o==null?void 0:o.value});return{subscribe(...a){const o=s.subscribe(...a);return()=>o()},update(a,o){r.update(l=>Su(l,i,a),o??t)},set(a,o){r.update(l=>Su(l,i,()=>a),o??t)}}}function m2(n,e){const t="form"in n;if(!t&&(e==null?void 0:e.taint)!==void 0)throw new Rt("If options.taint is set, the whole superForm object must be used as a proxy.");return t}function Tc(n,e,t){const r=Jr(e);if(m2(n,t))return g2(n,e,t);const i=tm(n,s=>{const a=Zn(s,r);return a==null?void 0:a.value});return{subscribe(...s){const a=i.subscribe(...s);return()=>a()},update(s){n.update(a=>Su(a,r,s))},set(s){n.update(a=>Su(a,r,()=>s))}}}function p2(n,e=[]){const t=Eg(n,e);if(!t)throw new Gt("No shape could be created for schema.",e);return t}function Eg(n,e){Zi(n,e);const t=tn(n,!1,e);if(t.array||t.union){const r=t.array||[],i=t.union||[];return r.concat(i).reduce((s,a)=>{const o=Eg(a,e);return o&&(s={...s??{},...o}),s},r.length?{}:void 0)}if(t.properties){const r={};for(const[i,s]of Object.entries(t.properties)){const a=Eg(s,[...e,i]);a&&(r[i]=a)}return r}return t.types.includes("array")||t.types.includes("object")?{}:void 0}function Ig(n){let e={};const t=Array.isArray(n);for(const[r,i]of Object.entries(n))!i||typeof i!="object"||(t?e={...e,...Ig(i)}:e[r]=Ig(i));return e}const kc=new WeakMap,es=new WeakMap,a0=n=>{throw n.result.error},v2={applyAction:!0,invalidateAll:!0,resetForm:!0,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:!1,onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:a0,dataType:"form",validators:void 0,customValidity:!1,clearOnSubmit:"message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",SPA:void 0,validationMethod:"auto"};function y2(n){return`Duplicate form id's found: "${n}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set the warnings.duplicateId option to false in superForm to disable this warning. More information: https://superforms.rocks/concepts/multiple-forms`}let o0=!1;try{SUPERFORMS_LEGACY&&(o0=!0)}catch{}let os=!1;try{globalThis.STORIES&&(os=!0)}catch{}function l0(n,e){var gr;let t,r=e??{},i;{if((r.legacy??o0)&&(r.resetForm===void 0&&(r.resetForm=!1),r.taintedMessage===void 0&&(r.taintedMessage=!0)),os&&r.applyAction===void 0&&(r.applyAction=!1),typeof r.SPA=="string"&&(r.invalidateAll===void 0&&(r.invalidateAll=!1),r.applyAction===void 0&&(r.applyAction=!1)),i=r.validators,r={...v2,...r},(r.SPA===!0||typeof r.SPA=="object")&&r.validators===void 0&&console.warn("No validators set for superForm in SPA mode. Add a validation adapter to the validators option, or set it to false to disable this warning."),!n)throw new Rt("No form data sent to superForm. Make sure the output from superValidate is used (usually data.form) and that it's not null or undefined. Alternatively, an object with default values for the form can also be used, but then constraints won't be available.");c(n)===!1&&(n={id:r.id??Math.random().toString(36).slice(2,10),valid:!1,posted:!1,errors:{},data:n,shape:Ig(n)}),n=n;const A=n.id=r.id??n.id,q=is(ra)??(os?{}:void 0);if(((gr=r.warnings)==null?void 0:gr.duplicateId)!==!1)if(!kc.has(q))kc.set(q,new Set([A]));else{const oe=kc.get(q);oe!=null&&oe.has(A)?console.warn(y2(A)):oe==null||oe.add(A)}if(es.has(n)||es.set(n,n),t=es.get(n),n=on(t),wa(()=>{var oe;Ve(),U(),Tt();for(const pe of Object.values(Ye))pe.length=0;(oe=kc.get(q))==null||oe.delete(A)}),r.dataType!=="json"){const oe=(pe,Ce)=>{if(!(!Ce||typeof Ce!="object")){if(Array.isArray(Ce))Ce.length>0&&oe(pe,Ce[0]);else if(!(Ce instanceof Date)&&!(Ce instanceof File)&&!(Ce instanceof FileList))throw new Rt(`Object found in form field "${pe}". Set the dataType option to "json" and add use:enhance to use nested data structures. More information: https://superforms.rocks/concepts/nested-data`)}};for(const[pe,Ce]of Object.entries(n.data))oe(pe,Ce)}}const s={formId:n.id,form:on(n.data),constraints:n.constraints??{},posted:n.posted,errors:on(n.errors),message:on(n.message),tainted:void 0,valid:n.valid,submitting:!1,shape:n.shape},a=s,o=bn(r.id??n.id);function l(A){return Object.values(A).filter(oe=>c(oe)!==!1)}function c(A){return!A||typeof A!="object"||!("valid"in A&&"errors"in A&&typeof A.valid=="boolean")?!1:"id"in A&&typeof A.id=="string"?A.id:!1}const u=bn(n.data),d={subscribe:u.subscribe,set:(A,q={})=>{const oe=on(A);return xe(oe,q.taint??!0),u.set(oe)},update:(A,q={})=>u.update(oe=>{const pe=A(oe);return xe(pe,q.taint??!0),pe})};function h(){return r.SPA===!0||typeof r.SPA=="object"}function f(A){var q;return A>400?A:(typeof r.SPA=="boolean"||typeof r.SPA=="string"||(q=r.SPA)==null?void 0:q.failStatus)||A}async function m(A={}){const q=A.formData??a.form;let oe={},pe;const Ce=A.adapter??r.validators;if(typeof Ce=="object"){if(Ce!=i&&!("jsonSchema"in Ce))throw new Rt('Client validation adapter found in options.validators. A full adapter must be used when changing validators dynamically, for example "zod" instead of "zodClient".');if(pe=await Ce.validate(q),!pe.success)oe=n0(pe.issues,Ce.shape??a.shape??{});else if(A.recheckValidData!==!1)return m({...A,recheckValidData:!1})}else pe={success:!0,data:{}};const Ke={...a.form,...q,...pe.success?pe.data:{}};return{valid:pe.success,posted:!1,errors:oe,data:Ke,constraints:a.constraints,message:void 0,id:a.formId,shape:a.shape}}function p(A){if(!r.onChange||!A.paths.length||A.type=="blur")return;let q;const oe=A.paths.map(ga);A.type&&A.paths.length==1&&A.formElement&&A.target instanceof Element?q={path:oe[0],paths:oe,formElement:A.formElement,target:A.target,set(pe,Ce,Ke){Tc({form:d},pe,Ke).set(Ce)},get(pe){return is(Tc(d,pe))}}:q={paths:oe,target:void 0,set(pe,Ce,Ke){Tc({form:d},pe,Ke).set(Ce)},get(pe){return is(Tc(d,pe))}},r.onChange(q)}async function v(A,q=!1,oe){A&&(r.validators=="clear"&&G.update(Ke=>(_n(Ke,A.paths,void 0),Ke)),setTimeout(()=>p(A)));let pe=!1;if(q||(r.validationMethod=="onsubmit"||r.validationMethod=="submit-only"||r.validationMethod=="onblur"&&(A==null?void 0:A.type)=="input"||r.validationMethod=="oninput"&&(A==null?void 0:A.type)=="blur")&&(pe=!0),pe||!A||!r.validators||r.validators=="clear"){if(A!=null&&A.paths){const Ke=(A==null?void 0:A.formElement)??je();Ke&&y(Ke)}return}const Ce=await m({adapter:oe});return Ce.valid&&(A.immediate||A.type!="input")&&d.set(Ce.data,{taint:"ignore"}),await lu(),_(Ce.errors,A,q),Ce}function y(A){const q=new Map;if(r.customValidity&&A)for(const oe of A.querySelectorAll("[name]")){if(typeof oe.name!="string"||!oe.name.length)continue;const pe="validationMessage"in oe?String(oe.validationMessage):"";q.set(oe.name,{el:oe,message:pe}),Jp(oe,void 0)}return q}async function _(A,q,oe){const{type:pe,immediate:Ce,multiple:Ke,paths:dn}=q,Rr=a.errors,xi={};let Yt=new Map;const Vt=q.formElement??je();Vt&&(Yt=y(Vt)),er(A,Dt=>{if(!Array.isArray(Dt.value))return;const Wt=[...Dt.path];Wt[Wt.length-1]=="_errors"&&Wt.pop();const Qi=Wt.join(".");function fn(){if(_n(xi,[Dt.path],Dt.value),r.customValidity&&wi&&Yt.has(Qi)){const{el:sn,message:Si}=Yt.get(Qi);Si!=Dt.value&&(setTimeout(()=>Jp(sn,Dt.value)),Yt.clear())}}if(oe)return fn();const vc=Dt.path[Dt.path.length-1]=="_errors",wi=Dt.value&&dn.some(sn=>vc?Wt&&sn&&Wt.length>0&&Wt[0]==sn[0]:Qi==sn.join("."));if(wi&&r.validationMethod=="oninput"||Ce&&!Ke&&wi)return fn();if(Ke){const sn=qn(is(G),Dt.path.slice(0,-1));if(sn!=null&&sn.value&&typeof(sn==null?void 0:sn.value)=="object"){for(const Si of Object.values(sn.value))if(Array.isArray(Si))return fn()}}const mr=qn(Rr,Dt.path);if(mr&&mr.key in mr.parent)return fn();if(vc){if(r.validationMethod=="oninput"||pe=="blur"&&te(ga(Dt.path.slice(0,-1))))return fn()}else if(pe=="blur"&&wi)return fn()}),G.set(xi)}function S(A,q={}){return q.keepFiles&&er(a.form,oe=>{if(!(oe.parent instanceof FileList)&&(oe.value instanceof File||oe.value instanceof FileList)){const pe=qn(A,oe.path);(!pe||!(pe.key in pe.parent))&&_n(A,[oe.path],oe.value)}}),d.set(A,q)}function T(A,q){return A&&q&&r.resetForm&&(r.resetForm===!0||r.resetForm())}function k(A=!0){let q=a.form,oe=a.tainted;if(A){const pe=Kt(a.form);q=pe.data;const Ce=pe.paths;Ce.length&&(oe=on(oe)??{},_n(oe,Ce,!1))}return{valid:a.valid,posted:a.posted,errors:a.errors,data:q,constraints:a.constraints,message:a.message,id:a.formId,tainted:oe,shape:a.shape}}async function O(A,q){A.valid&&q&&T(A.valid,q)?D({message:A.message,posted:!0}):Et({form:A,untaint:q,keepFiles:!0,skipFormData:r.invalidateAll=="force"}),Ye.onUpdated.length&&await lu();for(const oe of Ye.onUpdated)oe({form:A})}function D(A={}){A.newState&&(t.data={...t.data,...A.newState});const q=on(t);q.data={...q.data,...A.data},A.id!==void 0&&(q.id=A.id),Et({form:q,untaint:!0,message:A.message,keepFiles:!1,posted:A.posted,resetted:!0})}async function j(A){if(A.type=="error")throw new Rt(`ActionResult of type "${A.type}" cannot be passed to update function.`);if(A.type=="redirect"){T(!0,!0)&&D({posted:!0});return}if(typeof A.data!="object")throw new Rt("Non-object validation data returned from ActionResult.");const q=l(A.data);if(!q.length)throw new Rt("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const oe of q)oe.id===a.formId&&await O(oe,A.status>=200&&A.status<300)}const V=bn(s.message),Z=bn(s.constraints),L=bn(s.posted),z=bn(s.shape),J=bn(n.errors),G={subscribe:J.subscribe,set(A,q){return J.set(Kp(A,a.errors,q==null?void 0:q.force))},update(A,q){return J.update(oe=>Kp(A(oe),a.errors,q==null?void 0:q.force))},clear:()=>G.set({})};let E=null;function F(A){var q;E&&A&&Object.keys(A).length==1&&((q=A.paths)!=null&&q.length)&&E.target&&E.target instanceof HTMLInputElement&&E.target.type.toLowerCase()=="file"?E.paths=A.paths:E=A,setTimeout(()=>{v(E)},0)}function W(A,q,oe,pe,Ce){E===null&&(E={paths:[]}),E.type=A,E.immediate=q,E.multiple=oe,E.formElement=pe,E.target=Ce}function N(){return(E==null?void 0:E.paths)??[]}function U(){E=null}const K={defaultMessage:"Leave page? Changes that you made may not be saved.",state:bn(),message:r.taintedMessage,clean:on(n.data),forceRedirection:!1};function ce(){return r.taintedMessage&&!a.submitting&&!K.forceRedirection&&ae()}function se(A){if(!ce())return;A.preventDefault(),A.returnValue="";const{taintedMessage:q}=r,pe=typeof q=="function"||q===!0?K.defaultMessage:q;return(A||window.event).returnValue=pe||K.defaultMessage,pe}async function he(A){if(!ce())return;const{taintedMessage:q}=r,oe=typeof q=="function";if(oe&&A.cancel(),A.type==="leave")return;const pe=oe||q===!0?K.defaultMessage:q;let Ce;try{Ce=oe?await q():window.confirm(pe||K.defaultMessage)}catch{Ce=!1}if(Ce&&A.to)try{K.forceRedirection=!0,await Da(A.to.url,{...A.to.params});return}finally{K.forceRedirection=!1}else!Ce&&!oe&&A.cancel()}function be(){r.taintedMessage=K.message}function Te(){return K.state}function te(A){if(!a.tainted)return!1;if(!A)return!!a.tainted;const q=qn(a.tainted,Jr(A));return!!q&&q.key in q.parent}function ae(A){if(!arguments.length)return ge(a.tainted);if(typeof A=="boolean")return A;if(typeof A=="object")return ge(A);if(!a.tainted||A===void 0)return!1;const q=qn(a.tainted,Jr(A));return ge(q==null?void 0:q.value)}function ge(A){if(!A)return!1;if(typeof A=="object"){for(const q of Object.values(A))if(ge(q))return!0}return A===!0}function xe(A,q){if(q=="ignore")return;const oe=$p(A,a.form),pe=$p(A,K.clean).map(Ce=>Ce.join());oe.length&&(q=="untaint-all"||q=="untaint-form"?K.state.set(void 0):K.state.update(Ce=>(Ce||(Ce={}),_n(Ce,oe,(Ke,dn)=>{if(!pe.includes(Ke.join()))return;const Rr=Zn(A,Ke),xi=Zn(K.clean,Ke);return Rr&&xi&&Rr.value===xi.value?void 0:q===!0?!0:q==="untaint"?void 0:dn.value}),Ce)),F({paths:oe}))}function ue(A,q){K.state.set(A),q&&(K.clean=q)}const ke=bn(!1),Ee=bn(!1),we=bn(!1),Re=[K.state.subscribe(A=>s.tainted=on(A)),d.subscribe(A=>s.form=on(A)),G.subscribe(A=>s.errors=on(A)),o.subscribe(A=>s.formId=A),Z.subscribe(A=>s.constraints=A),L.subscribe(A=>s.posted=A),V.subscribe(A=>s.message=A),ke.subscribe(A=>s.submitting=A),z.subscribe(A=>s.shape=A)];function Ne(A){Re.push(A)}function Ve(){Re.forEach(A=>A())}let De;function je(){return De}function tt(A){De=document.createElement("form"),De.method="POST",De.action=A,zt(De),document.body.appendChild(De)}function ht(A){De&&(De.action=A)}function Tt(){De!=null&&De.parentElement&&De.remove(),De=void 0}const gt=tm(G,A=>A?s2(A):[]);r.taintedMessage=void 0;function Et(A){const q=A.form,oe=A.message??q.message;if((A.untaint||A.resetted)&&ue(typeof A.untaint=="boolean"?void 0:A.untaint,q.data),A.skipFormData!==!0&&S(q.data,{taint:"ignore",keepFiles:A.keepFiles}),V.set(oe),A.resetted?G.update(()=>({}),{force:!0}):G.set(q.errors),o.set(q.id),L.set(A.posted??q.posted),q.constraints&&Z.set(q.constraints),q.shape&&z.set(q.shape),s.valid=q.valid,r.flashMessage&&Og(r)){const pe=r.flashMessage.module.getFlash(ra);oe&&is(pe)===void 0&&pe.set(oe)}}const Ye={onSubmit:r.onSubmit?[r.onSubmit]:[],onResult:r.onResult?[r.onResult]:[],onUpdate:r.onUpdate?[r.onUpdate]:[],onUpdated:r.onUpdated?[r.onUpdated]:[],onError:r.onError?[r.onError]:[]};window.addEventListener("beforeunload",se),wa(()=>{window.removeEventListener("beforeunload",se)}),Vx(he),Ne(ra.subscribe(async A=>{os&&A===void 0&&(A={status:200});const q=A.status>=200&&A.status<300;if(r.applyAction&&A.form&&typeof A.form=="object"){const oe=A.form;if(oe.type==="error")return;for(const pe of l(oe)){const Ce=es.has(pe);pe.id!==a.formId||Ce||(es.set(pe,pe),await O(pe,q))}}else if(A.data&&typeof A.data=="object")for(const oe of l(A.data)){const pe=es.has(oe);if(oe.id!==a.formId||pe)continue;r.invalidateAll==="force"&&(t.data=oe.data);const Ce=T(oe.valid,!0);Et({form:oe,untaint:q,keepFiles:!Ce,resetted:Ce})}})),typeof r.SPA=="string"&&tt(r.SPA);function zt(A,q){if(r.SPA!==void 0&&A.method=="get"&&(A.method="post"),typeof r.SPA=="string"?r.SPA.length&&A.action==document.location.href&&(A.action=r.SPA):De=A,q){if(q.onError){if(r.onError==="apply")throw new Rt('options.onError is set to "apply", cannot add any onError events.');if(q.onError==="apply")throw new Rt('Cannot add "apply" as onError event in use:enhance.');Ye.onError.push(q.onError)}q.onResult&&Ye.onResult.push(q.onResult),q.onSubmit&&Ye.onSubmit.push(q.onSubmit),q.onUpdate&&Ye.onUpdate.push(q.onUpdate),q.onUpdated&&Ye.onUpdated.push(q.onUpdated)}be();let oe;async function pe(Yt){const Vt=Qp(Yt.target);Vt.immediate&&!Vt.file&&await new Promise(Dt=>setTimeout(Dt,0)),oe=N(),W("input",Vt.immediate,Vt.multiple,A,Yt.target??void 0)}async function Ce(Yt){if(a.submitting||!oe||N()!=oe)return;const Vt=Qp(Yt.target);Vt.immediate&&!Vt.file&&await new Promise(Dt=>setTimeout(Dt,0)),v({paths:oe,immediate:Vt.multiple,multiple:Vt.multiple,type:"blur",formElement:A,target:Yt.target??void 0}),oe=void 0}A.addEventListener("focusout",Ce),A.addEventListener("input",pe),wa(()=>{A.removeEventListener("focusout",Ce),A.removeEventListener("input",pe)});const Ke=h2(A,{submitting:ke,delayed:Ee,timeout:we},r);let dn,Rr;const xi=o2(A,async Yt=>{let Vt,Dt=r.validators;const Wt={...Yt,jsonData(qe){if(r.dataType!=="json")throw new Rt("options.dataType must be set to 'json' to use jsonData.");Vt=qe},validators(qe){Dt=qe},customRequest(qe){Rr=qe}},Qi=Wt.cancel;let fn=!1;function hh(qe){const Ge={...qe,posted:!0},it=Ge.valid?200:f(400),Ut={form:Ge},It=Ge.valid?{type:"success",status:it,data:Ut}:{type:"failure",status:it,data:Ut};setTimeout(()=>Si({result:It}),0)}function vc(){switch(r.clearOnSubmit){case"errors-and-message":G.clear(),V.set(void 0);break;case"errors":G.clear();break;case"message":V.set(void 0);break}}async function wi(qe,Ge){var it;if(qe.status=Ge,r.onError!=="apply"){const Ut={result:qe,message:V,form:n};for(const It of Ye.onError)It!=="apply"&&(It!=a0||!((it=r.flashMessage)!=null&&it.onError))&&await It(Ut)}r.flashMessage&&r.flashMessage.onError&&await r.flashMessage.onError({result:qe,flashMessage:r.flashMessage.module.getFlash(ra)}),r.applyAction&&(r.onError=="apply"?await Hc(qe):await Hc({type:"failure",status:f(qe.status),data:qe}))}function mr(qe={resetTimers:!0}){return fn=!0,qe.resetTimers&&Ke.isSubmitting()&&Ke.completed({cancelled:fn}),Qi()}if(Wt.cancel=mr,Ke.isSubmitting()&&r.multipleSubmits=="prevent")mr({resetTimers:!1});else{Ke.isSubmitting()&&r.multipleSubmits=="abort"&&dn&&dn.abort(),Ke.submitting(),dn=Wt.controller;for(const qe of Ye.onSubmit)try{await qe(Wt)}catch(Ge){mr(),wi({type:"error",error:Ge},500)}}if(fn&&r.flashMessage&&Xp(r),!fn){const qe=!h()&&(A.noValidate||(Wt.submitter instanceof HTMLButtonElement||Wt.submitter instanceof HTMLInputElement)&&Wt.submitter.formNoValidate);let Ge;const it=async()=>await m({adapter:Dt});if(vc(),qe||(Ge=await it(),Ge.valid||(mr({resetTimers:!1}),hh(Ge))),!fn){r.flashMessage&&(r.clearOnSubmit=="errors-and-message"||r.clearOnSubmit=="message")&&Og(r)&&r.flashMessage.module.getFlash(ra).set(void 0);const Ut="formData"in Wt?Wt.formData:Wt.data;if(oe=void 0,h())Ge||(Ge=await it()),mr({resetTimers:!1}),hh(Ge);else if(r.dataType==="json"){Ge||(Ge=await it());const It=on(Vt??Ge.data);er(It,st=>{if(st.value instanceof File){const Nt="__superform_file_"+ga(st.path);return Ut.append(Nt,st.value),st.set(void 0)}else if(Array.isArray(st.value)&&st.value.length&&st.value.every(Nt=>Nt instanceof File)){const Nt="__superform_files_"+ga(st.path);for(const yn of st.value)Ut.append(Nt,yn);return st.set(void 0)}}),Object.keys(It).forEach(st=>{typeof Ut.get(st)=="string"&&Ut.delete(st)});const Ti=r.transport?Object.fromEntries(Object.entries(r.transport).map(([st,Nt])=>[st,Nt.encode])):void 0,yc=sn(c1(It,Ti),r.jsonChunkSize??5e5);for(const st of yc)Ut.append("__superform_json",st)}if(!Ut.has("__superform_id")){const It=a.formId;It!==void 0&&Ut.set("__superform_id",It)}typeof r.SPA=="string"&&ht(r.SPA)}}function sn(qe,Ge){const it=Math.ceil(qe.length/Ge),Ut=new Array(it);for(let It=0,Ti=0;It<it;++It,Ti+=Ge)Ut[It]=qe.substring(Ti,Ti+Ge);return Ut}async function Si(qe){let Ge=!1;dn=null;let it="type"in qe.result&&"status"in qe.result?qe.result:{type:"error",status:f(parseInt(String(qe.result.status))||500),error:qe.result.error instanceof Error?qe.result.error:qe.result};const Ut=()=>Ge=!0,It={result:it,formEl:A,formElement:A,cancel:Ut},Ti=os||!h()?()=>{}:Yp.subscribe(st=>{var Nt,yn;!st||((Nt=st.from)==null?void 0:Nt.route.id)===((yn=st.to)==null?void 0:yn.route.id)||Ut()});function yc(st,Nt,yn){Nt.result={type:"error",error:st,status:f(yn)}}for(const st of Ye.onResult)try{await st(It)}catch(Nt){yc(Nt,It,Math.max(it.status??500,400))}if(it=It.result,!Ge){if((it.type==="success"||it.type==="failure")&&it.data){const st=l(it.data);if(!st.length)throw new Rt("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const Nt of st){if(Nt.id!==a.formId)continue;const yn={form:Nt,formEl:A,formElement:A,cancel:()=>Ge=!0,result:it};for(const gh of Ye.onUpdate)try{await gh(yn)}catch(Cx){yc(Cx,yn,Math.max(it.status??500,400))}it=yn.result,Ge||(r.customValidity&&l2(A,yn.form.errors),T(yn.form.valid,it.type=="success")&&yn.formElement.querySelectorAll('input[type="file"]').forEach(gh=>gh.value=""))}}Ge||(it.type!=="error"?(it.type==="success"&&r.invalidateAll&&await sb(),r.applyAction?await Hc(it):await j(it)):await wi(it,Math.max(it.status??500,400)))}if(Ge&&r.flashMessage&&Xp(r),Ge||it.type!="redirect")Ke.completed({cancelled:Ge});else if(os)Ke.completed({cancelled:Ge,clearAll:!0});else{const st=Yp.subscribe(Nt=>{Nt||(setTimeout(()=>{try{st&&st()}catch{}}),Ke.isSubmitting()&&Ke.completed({cancelled:Ge,clearAll:!0}))})}Ti()}if(!fn&&Rr){Qi();const qe=await Rr(Yt);let Ge;qe instanceof Response?Ge=Cg(await qe.text()):qe instanceof XMLHttpRequest?Ge=Cg(qe.responseText):Ge=qe,Ge.type==="error"&&(Ge.status=qe.status),Si({result:Ge})}return Si});return{destroy:()=>{for(const[Yt,Vt]of Object.entries(Ye))Ye[Yt]=Vt.filter(Dt=>Dt===r[Yt]);xi.destroy()}}}function Kt(A){const q=[];if(er(A,pe=>{if(pe.value instanceof File)return q.push(pe.path),"skip";if(Array.isArray(pe.value)&&pe.value.length&&pe.value.every(Ce=>Ce instanceof File))return q.push(pe.path),"skip"}),!q.length)return{data:A,paths:q};const oe=on(A);return _n(oe,q,pe=>{var Ce;return(Ce=qn(t.data,pe))==null?void 0:Ce.value}),{data:oe,paths:q}}return{form:d,formId:o,errors:G,message:V,constraints:Z,tainted:Te(),submitting:ph(ke),delayed:ph(Ee),timeout:ph(we),options:r,capture:k,restore:A=>{Et({form:A,untaint:A.tainted??!0})},async validate(A,q={}){if(!r.validators)throw new Rt("options.validators must be set to use the validate method.");q.update===void 0&&(q.update=!0),q.taint===void 0&&(q.taint=!1),typeof q.errors=="string"&&(q.errors=[q.errors]);let oe;const pe=Jr(A);"value"in q?q.update===!0||q.update==="value"?(d.update(dn=>(_n(dn,[pe],q.value),dn),{taint:q.taint}),oe=a.form):(oe=on(a.form),_n(oe,[pe],q.value)):oe=a.form;const Ce=await m({formData:oe}),Ke=qn(Ce.errors,pe);return Ke&&Ke.value&&q.errors&&(Ke.value=q.errors),(q.update===!0||q.update=="errors")&&G.update(dn=>(_n(dn,[pe],Ke==null?void 0:Ke.value),dn)),Ke==null?void 0:Ke.value},async validateForm(A={}){if(!r.validators&&!A.schema)throw new Rt("options.validators or the schema option must be set to use the validateForm method.");const q=A.update?await v({paths:[]},!0,A.schema):m({adapter:A.schema}),oe=je();return A.update&&oe&&setTimeout(()=>{oe&&Dg(oe,{...r,scrollToError:A.focusOnError===!1?"off":r.scrollToError})},1),q||m({adapter:A.schema})},allErrors:gt,posted:L,reset(A){return D({message:A!=null&&A.keepMessage?a.message:void 0,data:A==null?void 0:A.data,id:A==null?void 0:A.id,newState:A==null?void 0:A.newState})},submit(A){const q=je()?je():A&&A instanceof HTMLElement?A.closest("form"):void 0;if(!q)throw new Rt("use:enhance must be added to the form to use submit, or pass a HTMLElement inside the form (or the form itself) as an argument.");if(!q.requestSubmit)return q.submit();const oe=A&&(A instanceof HTMLButtonElement&&A.type=="submit"||A instanceof HTMLInputElement&&["submit","image"].includes(A.type));q.requestSubmit(oe?A:void 0)},isTainted:ae,enhance:zt}}new TextEncoder;function b2(n){return Qc(tn(n,!1,[]),[])}function Fh(...n){const e=n.filter(t=>!!t);if(e.length)return e.length==1?e[0]:Tn(...e)}function Qc(n,e){var r;if(!n)return;let t;if(n.union&&n.union.length){const i=n.union.map(a=>tn(a,n.isOptional,e)),s=i.map(a=>Qc(a,e));t=Fh(t,...s),t&&(n.isNullable||n.isOptional||i.some(a=>(a==null?void 0:a.isNullable)||(a==null?void 0:a.isOptional)))&&delete t.required}if(n.array&&(t=Fh(t,...n.array.map(i=>Qc(tn(i,n.isOptional,e),e)))),n.properties){const i={};for(const[s,a]of Object.entries(n.properties)){const o=tn(a,!((r=n.required)!=null&&r.includes(s))||a.default!==void 0,[s]),l=Qc(o,[...e,s]);typeof l=="object"&&Object.values(l).length>0&&(i[s]=l)}t=Fh(t,i)}return t??_2(n)}function _2(n){const e={},t=n.schema,r=t.type,i=t.format;if(r=="integer"&&i=="unix-time"){const s=t;s.minimum!==void 0&&(e.min=new Date(s.minimum).toISOString()),s.maximum!==void 0&&(e.max=new Date(s.maximum).toISOString())}else if(r=="string"){const s=t,a=[s.pattern,...s.allOf?s.allOf.map(o=>typeof o=="boolean"?void 0:o.pattern):[]].filter(o=>o!==void 0);a.length>0&&(e.pattern=a[0]),s.minLength!==void 0&&(e.minlength=s.minLength),s.maxLength!==void 0&&(e.maxlength=s.maxLength)}else if(r=="number"||r=="integer"){const s=t;s.minimum!==void 0?e.min=s.minimum:s.exclusiveMinimum!==void 0&&(e.min=s.exclusiveMinimum+(r=="integer"?1:Number.MIN_VALUE)),s.maximum!==void 0?e.max=s.maximum:s.exclusiveMaximum!==void 0&&(e.max=s.exclusiveMaximum-(r=="integer"?1:Number.MIN_VALUE)),s.multipleOf!==void 0&&(e.step=s.multipleOf)}else if(r=="array"){const s=t;s.minItems!==void 0&&(e.min=s.minItems),s.maxItems!==void 0&&(e.max=s.maxItems)}return!n.isNullable&&!n.isOptional&&(e.required=!0),Object.keys(e).length>0?e:void 0}function x2(n){return w2(Rg(tn(n,!1,[]),0,[]))}function Rg(n,e,t){var a;if(!n)return"";function r(){return"  ".repeat(e)}function i(o){return o.map(l=>Rg(tn(l,(n==null?void 0:n.isOptional)??!1,t),e+1,t)).filter(l=>l).join("|")}function s(){const o=[];return n!=null&&n.isNullable&&o.push("null"),n!=null&&n.isOptional&&o.push("undefined"),o.length?"|"+o.join("|"):""}if(n.union)return`Union {
  `+r()+i(n.union)+`
`+r()+"}"+s();if(n.properties){const o=[];for(const[l,c]of Object.entries(n.properties)){const u=tn(c,!((a=n.required)!=null&&a.includes(l))||c.default!==void 0,[l]);o.push(l+": "+Rg(u,e+1,t))}return`Object {
  `+r()+o.join(`,
  `)+`
`+r()+"}"+s()}return n.array?"Array["+i(n.array)+"]"+s():n.types.join("|")+s()}function w2(n){let e=0;for(let t=0,r=n.length;t<r;t++){const i=n.charCodeAt(t);e=(e<<5)-e+i,e|=0}return e<0&&(e=e>>>0),e.toString(36)}function S2(n,e){if(!n||!("superFormValidationLibrary"in n))throw new Rt('Superforms v2 requires a validation adapter for the schema. Import one of your choice from "sveltekit-superforms/adapters" and wrap the schema with it.');return e||(e=n.jsonSchema),{...n,constraints:n.constraints??b2(e),defaults:n.defaults??e0(e),shape:p2(e),id:x2(e)}}let c0=!1;try{SUPERFORMS_LEGACY&&(c0=!0)}catch{}const ev='FormData parsing failed: Unions are only supported when the dataType option for superForm is set to "json".';async function T2(n,e,t){let r;return n instanceof FormData?r=jm(n,e,t):n instanceof URL||n instanceof URLSearchParams?r=k2(n,e,t):n instanceof Request?r=await tv(n,e,t):n&&typeof n=="object"&&"request"in n&&n.request instanceof Request?r=await tv(n.request,e,t):r={id:void 0,data:n,posted:!1},r}async function tv(n,e,t){let r;try{r=await n.formData()}catch(i){if(i instanceof TypeError&&i.message.includes("already been consumed"))throw i;return{id:void 0,data:void 0,posted:!1}}return jm(r,e,t)}function k2(n,e,t){n instanceof URL&&(n=n.searchParams);const r=new FormData;for(const[s,a]of n.entries())r.append(s,a);const i=jm(r,e,t);return i.posted=!1,i}function jm(n,e,t){var a;function r(){if(n.has("__superform_json"))try{const o=t&&t.transport?Object.fromEntries(Object.entries(t.transport).map(([c,u])=>[c,u.decode])):void 0,l=ib(n.getAll("__superform_json").join("")??"",o);if(typeof l=="object"){const c=Array.from(n.keys());for(const u of c.filter(d=>d.startsWith("__superform_file_"))){const d=Jr(u.substring(17));_n(l,[d],n.get(u))}for(const u of c.filter(d=>d.startsWith("__superform_files_"))){const d=Jr(u.substring(18)),h=n.getAll(u);_n(l,[d],Array.from(h))}return l}}catch{}return null}const i=r(),s=(a=n.get("__superform_id"))==null?void 0:a.toString();return i?{id:s,data:i,posted:!0}:{id:s,data:P2(n,e,t),posted:!0}}function P2(n,e,t){var o,l,c,u;const r={};let i;if(t!=null&&t.strict)i=new Set([...n.keys()].filter(d=>!d.startsWith("__superform_")));else{let d=[];if(e.anyOf){const h=tn(e,!1,[]);if((o=h.union)!=null&&o.some(f=>f.type!=="object"))throw new Gt("All form types must be an object if schema is a union.");d=((l=h.union)==null?void 0:l.flatMap(f=>Object.keys(f.properties??{})))??[]}i=new Set([...d,...Object.keys(e.properties??{}),...e.additionalProperties?n.keys():[]].filter(h=>!h.startsWith("__superform_")))}function s(d,h,f){if(t!=null&&t.preprocessed&&t.preprocessed.includes(d))return h;if(h&&typeof h!="string")return(c0?(t==null?void 0:t.allowFiles)===!0:(t==null?void 0:t.allowFiles)!==!1)?h.size?h:f.isNullable?null:void 0:void 0;if(f.types.length>1)throw new Gt(ev,d);const[m]=f.types;return A2(d,h,m??"any",f)}const a=typeof e.additionalProperties=="object"?e.additionalProperties:{type:"string"};for(const d of i){const h=e.properties?e.properties[d]:a;Zi(h,d);const f=tn(h??a,!((c=e.required)!=null&&c.includes(d)),[d]);if(!f||!f.types.includes("boolean")&&!e.additionalProperties&&!n.has(d))continue;const m=n.getAll(d);if(f.union&&f.union.length>1)throw new Gt(ev,d);if(f.types.includes("array")||f.types.includes("set")){const p=h.items??(((u=f.union)==null?void 0:u.length)==1?f.union[0]:void 0);if(!p||typeof p=="boolean"||Array.isArray(p)&&p.length!=1)throw new Gt('Arrays must have a single "items" property that defines its type.',d);const v=Array.isArray(p)?p[0]:p;Zi(v,d);const y=tn(v,f.isOptional,[d]);if(!y)continue;const _=m.length&&m.some(T=>T&&typeof T!="string"),S=m.map(T=>s(d,T,y));_&&S.every(T=>!T)&&(S.length=0),r[d]=f.types.includes("set")?new Set(S):S}else r[d]=s(d,m[m.length-1],f)}return r}function A2(n,e,t,r){if(!e){if(t=="boolean"&&r.isOptional&&r.schema.default===!0)return!1;const s=e0(r.schema,r.isOptional,[n]);if(r.schema.enum&&s!==null&&s!==void 0)return e;if(s!==void 0)return s;if(r.isNullable)return null;if(r.isOptional)return}function i(){throw new Gt(t[0].toUpperCase()+t.slice(1)+' type found. Set the dataType option to "json" and add use:enhance on the client to use nested data structures. More information: https://superforms.rocks/concepts/nested-data',n)}switch(t){case"string":case"any":return e;case"integer":return parseInt(e??"",10);case"number":return parseFloat(e??"");case"boolean":return(!!(e!="false"&&e)).valueOf();case"unix-time":{const s=new Date(e??"");return isNaN(s)?void 0:s}case"int64":case"bigint":return BigInt(e??".");case"symbol":return Symbol(String(e));case"set":case"array":case"object":return i();default:throw new Rt("Unsupported schema type for FormData: "+t)}}async function nv(n,e,t){n&&"superFormValidationLibrary"in n&&(t=e,e=n,n=void 0);const r=e,i=(t==null?void 0:t.defaults)??r.defaults,s=r.jsonSchema,a=await T2(n,s,t),o=(t==null?void 0:t.errors)??(t!=null&&t.strict?!0:!!a.data),l=t!=null&&t.strict?a.data??{}:qp(a.data,i);let c;a.data||o?c=await r.validate(l):c={success:!1,issues:[]};const u=c.success,d=u||!o?{}:n0(c.issues,r.shape),h=u?c.data:a2(t!=null&&t.strict?qp(l,i):l,i,s,c.issues,t==null?void 0:t.preprocessed);let f;if(s.additionalProperties===!1){f={};for(const p of Object.keys(s.properties??{}))p in h&&(f[p]=h[p])}else f=h;const m={id:a.id??(t==null?void 0:t.id)??r.id,valid:u,posted:a.posted,errors:d,data:f};return a.posted||(m.constraints=r.constraints,Object.keys(r.shape).length&&(m.shape=r.shape)),m}function th(n){return typeof n!="object"&&typeof n!="function"||n===null}function gi(){this.childBranches=new WeakMap,this.primitiveKeys=new Map,this.hasValue=!1,this.value=void 0}gi.prototype.has=function(e){var t=th(e)?this.primitiveKeys.get(e):e;return t?this.childBranches.has(t):!1};gi.prototype.get=function(e){var t=th(e)?this.primitiveKeys.get(e):e;return t?this.childBranches.get(t):void 0};gi.prototype.resolveBranch=function(e){if(this.has(e))return this.get(e);var t=new gi,r=this.createKey(e);return this.childBranches.set(r,t),t};gi.prototype.setValue=function(e){return this.hasValue=!0,this.value=e};gi.prototype.createKey=function(e){if(th(e)){var t={};return this.primitiveKeys.set(e,t),t}return e};gi.prototype.clear=function(){if(arguments.length===0)this.childBranches=new WeakMap,this.primitiveKeys.clear(),this.hasValue=!1,this.value=void 0;else if(arguments.length===1){var e=arguments[0];if(th(e)){var t=this.primitiveKeys.get(e);t&&(this.childBranches.delete(t),this.primitiveKeys.delete(e))}else this.childBranches.delete(e)}else{var r=arguments[0];if(this.has(r)){var i=this.get(r);i.clear.apply(i,Array.prototype.slice.call(arguments,1))}}};var M2=function(e){var t=new gi;function r(){var i=Array.prototype.slice.call(arguments),s=i.reduce(function(l,c){return l.resolveBranch(c)},t);if(s.hasValue)return s.value;var a=e.apply(null,i);return s.setValue(a)}return r.clear=t.clear.bind(t),r},O2=M2;const C2=im(O2),u0=C2,D2=Symbol("Let zodToJsonSchema decide on which parser to use"),rv={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},E2=n=>typeof n=="string"?{...rv,name:n}:{...rv,...n},I2=n=>{const e=E2(n),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function d0(n,e,t,r){r!=null&&r.errorMessages&&t&&(n.errorMessage={...n.errorMessage,[e]:t})}function ft(n,e,t,r,i){n[e]=t,d0(n,e,r,i)}function R2(){return{}}function N2(n,e){var r,i,s;const t={type:"array"};return(r=n.type)!=null&&r._def&&((s=(i=n.type)==null?void 0:i._def)==null?void 0:s.typeName)!==me.ZodAny&&(t.items=at(n.type._def,{...e,currentPath:[...e.currentPath,"items"]})),n.minLength&&ft(t,"minItems",n.minLength.value,n.minLength.message,e),n.maxLength&&ft(t,"maxItems",n.maxLength.value,n.maxLength.message,e),n.exactLength&&(ft(t,"minItems",n.exactLength.value,n.exactLength.message,e),ft(t,"maxItems",n.exactLength.value,n.exactLength.message,e)),t}function F2(n,e){const t={type:"integer",format:"int64"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?ft(t,"minimum",r.value,r.message,e):ft(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),ft(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ft(t,"maximum",r.value,r.message,e):ft(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),ft(t,"maximum",r.value,r.message,e));break;case"multipleOf":ft(t,"multipleOf",r.value,r.message,e);break}return t}function L2(){return{type:"boolean"}}function f0(n,e){return at(n.type._def,e)}const j2=(n,e)=>at(n.innerType._def,e);function h0(n,e,t){const r=t??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,s)=>h0(n,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return B2(n,e)}}const B2=(n,e)=>{const t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(const r of n.checks)switch(r.kind){case"min":ft(t,"minimum",r.value,r.message,e);break;case"max":ft(t,"maximum",r.value,r.message,e);break}return t};function z2(n,e){return{...at(n.innerType._def,e),default:n.defaultValue()}}function V2(n,e){return e.effectStrategy==="input"?at(n.schema._def,e):{}}function W2(n){return{type:"string",enum:Array.from(n.values)}}const U2=n=>"type"in n&&n.type==="string"?!1:"allOf"in n;function H2(n,e){const t=[at(n.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),at(n.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(s=>!!s);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return t.forEach(s=>{if(U2(s))i.push(...s.allOf),s.unevaluatedProperties===void 0&&(r=void 0);else{let a=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:o,...l}=s;a=l}else r=void 0;i.push(a)}}),i.length?{allOf:i,...r}:void 0}function Z2(n,e){const t=typeof n.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(n.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[n.value]}:{type:t==="bigint"?"integer":t,const:n.value}}let Lh;const Rn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Lh===void 0&&(Lh=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Lh),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function g0(n,e){const t={type:"string"};if(n.checks)for(const r of n.checks)switch(r.kind){case"min":ft(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,r.value):r.value,r.message,e);break;case"max":ft(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Nn(t,"email",r.message,e);break;case"format:idn-email":Nn(t,"idn-email",r.message,e);break;case"pattern:zod":an(t,Rn.email,r.message,e);break}break;case"url":Nn(t,"uri",r.message,e);break;case"uuid":Nn(t,"uuid",r.message,e);break;case"regex":an(t,r.regex,r.message,e);break;case"cuid":an(t,Rn.cuid,r.message,e);break;case"cuid2":an(t,Rn.cuid2,r.message,e);break;case"startsWith":an(t,RegExp(`^${jh(r.value,e)}`),r.message,e);break;case"endsWith":an(t,RegExp(`${jh(r.value,e)}$`),r.message,e);break;case"datetime":Nn(t,"date-time",r.message,e);break;case"date":Nn(t,"date",r.message,e);break;case"time":Nn(t,"time",r.message,e);break;case"duration":Nn(t,"duration",r.message,e);break;case"length":ft(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,r.value):r.value,r.message,e),ft(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,r.value):r.value,r.message,e);break;case"includes":{an(t,RegExp(jh(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&Nn(t,"ipv4",r.message,e),r.version!=="v4"&&Nn(t,"ipv6",r.message,e);break}case"base64url":an(t,Rn.base64url,r.message,e);break;case"jwt":an(t,Rn.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&an(t,Rn.ipv4Cidr,r.message,e),r.version!=="v4"&&an(t,Rn.ipv6Cidr,r.message,e);break}case"emoji":an(t,Rn.emoji(),r.message,e);break;case"ulid":{an(t,Rn.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Nn(t,"binary",r.message,e);break}case"contentEncoding:base64":{ft(t,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{an(t,Rn.base64,r.message,e);break}}break}case"nanoid":an(t,Rn.nanoid,r.message,e)}return t}function jh(n,e){return e.patternStrategy==="escape"?$2(n):n}const Y2=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function $2(n){let e="";for(let t=0;t<n.length;t++)Y2.has(n[t])||(e+="\\"),e+=n[t];return e}function Nn(n,e,t,r){var i;n.format||(i=n.anyOf)!=null&&i.some(s=>s.format)?(n.anyOf||(n.anyOf=[]),n.format&&(n.anyOf.push({format:n.format,...n.errorMessage&&r.errorMessages&&{errorMessage:{format:n.errorMessage.format}}}),delete n.format,n.errorMessage&&(delete n.errorMessage.format,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.anyOf.push({format:e,...t&&r.errorMessages&&{errorMessage:{format:t}}})):ft(n,"format",e,t,r)}function an(n,e,t,r){var i;n.pattern||(i=n.allOf)!=null&&i.some(s=>s.pattern)?(n.allOf||(n.allOf=[]),n.pattern&&(n.allOf.push({pattern:n.pattern,...n.errorMessage&&r.errorMessages&&{errorMessage:{pattern:n.errorMessage.pattern}}}),delete n.pattern,n.errorMessage&&(delete n.errorMessage.pattern,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.allOf.push({pattern:iv(e,r),...t&&r.errorMessages&&{errorMessage:{pattern:t}}})):ft(n,"pattern",iv(e,r),t,r)}function iv(n,e){var l;if(!e.applyRegexFlags||!n.flags)return n.source;const t={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},r=t.i?n.source.toLowerCase():n.source;let i="",s=!1,a=!1,o=!1;for(let c=0;c<r.length;c++){if(s){i+=r[c],s=!1;continue}if(t.i){if(a){if(r[c].match(/[a-z]/)){o?(i+=r[c],i+=`${r[c-2]}-${r[c]}`.toUpperCase(),o=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(i+=r[c],o=!0):i+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){i+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(t.m){if(r[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(t.s&&r[c]==="."){i+=a?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}i+=r[c],r[c]==="\\"?s=!0:a&&r[c]==="]"?a=!1:!a&&r[c]==="["&&(a=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return i}function m0(n,e){var r,i,s,a,o,l;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=n.keyType)==null?void 0:r._def.typeName)===me.ZodEnum)return{type:"object",required:n.keyType._def.values,properties:n.keyType._def.values.reduce((c,u)=>({...c,[u]:at(n.valueType._def,{...e,currentPath:[...e.currentPath,"properties",u]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};const t={type:"object",additionalProperties:at(n.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return t;if(((i=n.keyType)==null?void 0:i._def.typeName)===me.ZodString&&((s=n.keyType._def.checks)!=null&&s.length)){const{type:c,...u}=g0(n.keyType._def,e);return{...t,propertyNames:u}}else{if(((a=n.keyType)==null?void 0:a._def.typeName)===me.ZodEnum)return{...t,propertyNames:{enum:n.keyType._def.values}};if(((o=n.keyType)==null?void 0:o._def.typeName)===me.ZodBranded&&n.keyType._def.type._def.typeName===me.ZodString&&((l=n.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...u}=f0(n.keyType._def,e);return{...t,propertyNames:u}}}return t}function G2(n,e){if(e.mapStrategy==="record")return m0(n,e);const t=at(n.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=at(n.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[t,r],minItems:2,maxItems:2}}}function K2(n){const e=n.values,r=Object.keys(n.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),i=Array.from(new Set(r.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function q2(){return{not:{}}}function X2(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Tu={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function J2(n,e){if(e.target==="openApi3")return sv(n,e);const t=n.options instanceof Map?Array.from(n.options.values()):n.options;if(t.every(r=>r._def.typeName in Tu&&(!r._def.checks||!r._def.checks.length))){const r=t.reduce((i,s)=>{const a=Tu[s._def.typeName];return a&&!i.includes(a)?[...i,a]:i},[]);return{type:r.length>1?r:r[0]}}else if(t.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=t.reduce((i,s)=>{const a=typeof s._def.value;switch(a){case"string":case"number":case"boolean":return[...i,a];case"bigint":return[...i,"integer"];case"object":if(s._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===t.length){const i=r.filter((s,a,o)=>o.indexOf(s)===a);return{type:i.length>1?i:i[0],enum:t.reduce((s,a)=>s.includes(a._def.value)?s:[...s,a._def.value],[])}}}else if(t.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((r,i)=>[...r,...i._def.values.filter(s=>!r.includes(s))],[])};return sv(n,e)}const sv=(n,e)=>{const t=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((r,i)=>at(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return t.length?{anyOf:t}:void 0};function Q2(n,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return e.target==="openApi3"?{type:Tu[n.innerType._def.typeName],nullable:!0}:{type:[Tu[n.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=at(n.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const t=at(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}function eC(n,e){const t={type:"number"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"int":t.type="integer",d0(t,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?ft(t,"minimum",r.value,r.message,e):ft(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),ft(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ft(t,"maximum",r.value,r.message,e):ft(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),ft(t,"maximum",r.value,r.message,e));break;case"multipleOf":ft(t,"multipleOf",r.value,r.message,e);break}return t}function tC(n,e){const t=e.target==="openAi",r={type:"object",properties:{}},i=[],s=n.shape();for(const o in s){let l=s[o];if(l===void 0||l._def===void 0)continue;let c=rC(l);c&&t&&(l instanceof Vn&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const u=at(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});u!==void 0&&(r.properties[o]=u,c||i.push(o))}i.length&&(r.required=i);const a=nC(n,e);return a!==void 0&&(r.additionalProperties=a),r}function nC(n,e){if(n.catchall._def.typeName!=="ZodNever")return at(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(n.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function rC(n){try{return n.isOptional()}catch{return!0}}const iC=(n,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return at(n.innerType._def,e);const t=at(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:{}},t]}:{}},sC=(n,e)=>{if(e.pipeStrategy==="input")return at(n.in._def,e);if(e.pipeStrategy==="output")return at(n.out._def,e);const t=at(n.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=at(n.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,r].filter(i=>i!==void 0)}};function aC(n,e){return at(n.type._def,e)}function oC(n,e){const r={type:"array",uniqueItems:!0,items:at(n.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return n.minSize&&ft(r,"minItems",n.minSize.value,n.minSize.message,e),n.maxSize&&ft(r,"maxItems",n.maxSize.value,n.maxSize.message,e),r}function lC(n,e){return n.rest?{type:"array",minItems:n.items.length,items:n.items.map((t,r)=>at(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[]),additionalItems:at(n.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:n.items.length,maxItems:n.items.length,items:n.items.map((t,r)=>at(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[])}}function cC(){return{not:{}}}function uC(){return{}}const dC=(n,e)=>at(n.innerType._def,e),fC=(n,e,t)=>{switch(e){case me.ZodString:return g0(n,t);case me.ZodNumber:return eC(n,t);case me.ZodObject:return tC(n,t);case me.ZodBigInt:return F2(n,t);case me.ZodBoolean:return L2();case me.ZodDate:return h0(n,t);case me.ZodUndefined:return cC();case me.ZodNull:return X2(t);case me.ZodArray:return N2(n,t);case me.ZodUnion:case me.ZodDiscriminatedUnion:return J2(n,t);case me.ZodIntersection:return H2(n,t);case me.ZodTuple:return lC(n,t);case me.ZodRecord:return m0(n,t);case me.ZodLiteral:return Z2(n,t);case me.ZodEnum:return W2(n);case me.ZodNativeEnum:return K2(n);case me.ZodNullable:return Q2(n,t);case me.ZodOptional:return iC(n,t);case me.ZodMap:return G2(n,t);case me.ZodSet:return oC(n,t);case me.ZodLazy:return()=>n.getter()._def;case me.ZodPromise:return aC(n,t);case me.ZodNaN:case me.ZodNever:return q2();case me.ZodEffects:return V2(n,t);case me.ZodAny:return R2();case me.ZodUnknown:return uC();case me.ZodDefault:return z2(n,t);case me.ZodBranded:return f0(n,t);case me.ZodReadonly:return dC(n,t);case me.ZodCatch:return j2(n,t);case me.ZodPipeline:return sC(n,t);case me.ZodFunction:case me.ZodVoid:case me.ZodSymbol:return;default:return(r=>{})()}};function at(n,e,t=!1){var o;const r=e.seen.get(n);if(e.override){const l=(o=e.override)==null?void 0:o.call(e,n,e,r,t);if(l!==D2)return l}if(r&&!t){const l=hC(r,e);if(l!==void 0)return l}const i={def:n,path:e.currentPath,jsonSchema:void 0};e.seen.set(n,i);const s=fC(n,n.typeName,e),a=typeof s=="function"?at(s(),e):s;if(a&&mC(n,e,a),e.postProcess){const l=e.postProcess(a,n,e);return i.jsonSchema=a,l}return i.jsonSchema=a,a}const hC=(n,e)=>{switch(e.$refStrategy){case"root":return{$ref:n.path.join("/")};case"relative":return{$ref:gC(e.currentPath,n.path)};case"none":case"seen":return n.path.length<e.currentPath.length&&n.path.every((t,r)=>e.currentPath[r]===t)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},gC=(n,e)=>{let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];t++);return[(n.length-t).toString(),...e.slice(t)].join("/")},mC=(n,e,t)=>(n.description&&(t.description=n.description,e.markdownDescription&&(t.markdownDescription=n.description)),t),pC=(n,e)=>{const t=I2(e),r=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[c,u])=>({...l,[c]:at(u._def,{...t,currentPath:[...t.basePath,t.definitionPath,c]},!0)??{}}),{}):void 0,i=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,s=at(n._def,i===void 0?t:{...t,currentPath:[...t.basePath,t.definitionPath,i]},!1)??{},a=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;a!==void 0&&(s.title=a);const o=i===void 0?r?{...s,[t.definitionPath]:r}:s:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,i].join("/"),[t.definitionPath]:{...r,[i]:s}};return t.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(t.target==="jsonSchema2019-09"||t.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),t.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o},av={dateStrategy:"integer",pipeStrategy:"output",$refStrategy:"none"},vC=(...n)=>(n[1]=typeof n[1]=="object"?{...av,...n[1]}:av,pC(...n));async function p0(n,e,t){const r=await n.safeParseAsync(e,{errorMap:t});return r.success?{data:r.data,success:!0}:{issues:r.error.issues.map(({message:i,path:s})=>({message:i,path:s})),success:!1}}function yC(n,e){return S2({superFormValidationLibrary:"zod",validate:async t=>p0(n,t,e==null?void 0:e.errorMap),jsonSchema:(e==null?void 0:e.jsonSchema)??vC(n,e==null?void 0:e.config),defaults:e==null?void 0:e.defaults})}function bC(n,e){return{superFormValidationLibrary:"zod",validate:async t=>p0(n,t,e==null?void 0:e.errorMap)}}const ov=u0(yC),v0=u0(bC),_C=async()=>({taskform:await nv(ov(q_)),pollform:await nv(ov(X_))}),Hj=Object.freeze(Object.defineProperty({__proto__:null,load:_C},Symbol.toStringTag,{value:"Module"}));function qi(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e.class));Y(s,()=>fM,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function xC(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e.class));Y(s,()=>gM,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function ki(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e.class));Y(s,()=>pM,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}const wC=uM;var el,tl;class SC{constructor(){M(this,el,ee(0));M(this,tl,ee(0))}get x(){return g(x(this,el))}set x(e){H(x(this,el),e,!0)}get y(){return g(x(this,tl))}set y(e){H(x(this,tl),e,!0)}}el=new WeakMap,tl=new WeakMap;let mi=new SC;document.addEventListener("mousemove",n=>{mi.x=n.pageX,mi.y=n.pageY});document.addEventListener("dragover",n=>{mi.x=n.pageX,mi.y=n.pageY});var nl,rl,il;class TC{constructor(){M(this,nl,ee("X"));M(this,rl,ee(ct(["A","B","C"])));M(this,il,ee(ct({x:"x",y:"y",z:"z"})))}get bruh(){return g(x(this,nl))}set bruh(e){H(x(this,nl),e,!0)}get list(){return g(x(this,rl))}set list(e){H(x(this,rl),e,!0)}get values(){return g(x(this,il))}set values(e){H(x(this,il),e,!0)}}nl=new WeakMap,rl=new WeakMap,il=new WeakMap;async function kC(n){return new Promise((e,t)=>{let r=new WebSocket(bp+uu+"/ws"),i=new BC(r),s=!1,a=function(u){let d=u.data;if(typeof d!="string"){console.log("Server sent a non-string!",d,typeof d);return}if(console.log(d),d.startsWith("FAIL:")){s?(console.error(d),i.error=d.slice(5),i.showError=!0):t(d);return}if(d=="UNAUTHORIZED"){this.close(),Da(Ea+"/login?project="+n);return}if(d=="PROJECT ID DNE"){this.close(),Da(Ea+"/home");return}let h=JSON.parse(d);PC(h,i),console.log(Rs(i)),s||(s=!0,e(i))},o=()=>{console.log("Connect"),r.send(n)},l=u=>{u.onmessage=a,u.onopen=o,u.onclose=c},c=()=>{console.log("Close"),setTimeout(()=>{window.location.pathname=="/project"&&(console.log("Trying to rejoin"),r=new WebSocket(bp+uu+"/ws"),i.socket=r,l(r))},500)};l(r)})}function PC(n,e){for(console.log(n),OC(n.Project,e);e.users.length>n.Users.length;)e.users.pop();for(;e.users.length<n.Users.length;)e.users.push(new NC);for(let t=0;t<e.users.length;t++)AC(n.Users[t],e.users[t])}function AC(n,e){for(e.id=n.Id,e.leftProject=n.LeftProject,e.firstName=n.FirstName,e.lastName=n.LastName,e.email=n.Email;e.availability.length>n.Availability.length;)e.availability.pop();for(;e.availability.length<n.Availability.length;)e.availability.push(new RC);for(let t=0;t<e.availability.length;t++)MC(n.Availability[t],e.availability[t])}function MC(n,e){e.dayOfWeek=n.DayOfWeek,e.startOffset=n.StartOffset,e.endOffset=n.EndOffset}function OC(n,e){for(e.id=n.Id,e.title=n.Title,e.description=n.Description,e.created=n.Created,e.demoButtonState=n.DemoButtonState;e.tasks.length>n.Tasks.length;)e.tasks.pop();for(;e.tasks.length<n.Tasks.length;)e.tasks.push(new y0);for(let t=0;t<e.tasks.length;t++)CC(n.Tasks[t],e.tasks[t]);for(;e.polls.length>n.Polls.length;)e.polls.pop();for(;e.polls.length<n.Polls.length;)e.polls.push(new jC);for(let t=0;t<e.polls.length;t++)EC(n.Polls[t],e.polls[t])}function CC(n,e){var t,r;for(e.id=n.Id,e.title=n.Title,e.description=n.Description,e.dueDate=n.DueDate,e.kanbanColumn=n.KanbanColumn,e.timeEstimate=n.TimeEstimate,e.completed=n.completed;e.sessions.length>(((t=n.Sessions)==null?void 0:t.length)??0);)e.sessions.pop();for(;e.sessions.length<(((r=n.Sessions)==null?void 0:r.length)??0);)e.sessions.push(new FC);for(let i=0;i<e.sessions.length;i++)DC(n.Sessions[i],e.sessions[i]);e.assignees=n.Assignees}function DC(n,e){e.id=n.Id,e.startTime=n.StartTime,e.endTime=n.EndTime,e.user=n.User}function EC(n,e){for(e.id=n.Id,e.title=n.Title,e.description=n.Description,e.dueDate=n.DueDate;e.options.length>n.Options.length;)e.options.pop();for(;e.options.length<n.Options.length;)e.options.push(new LC);for(let t=0;t<e.options.length;t++)IC(n.Options[t],e.options[t])}function IC(n,e){e.id=n.Id,e.title=n.Title,e.likedUsers=n.LikedUsers,e.neutralUsers=n.NeutralUsers,e.dislikedUsers=n.DislikedUsers}var sl,al,ol,tb;let RC=(tb=class{constructor(){M(this,sl,ee(0));M(this,al,ee(0));M(this,ol,ee(0))}get dayOfWeek(){return g(x(this,sl))}set dayOfWeek(e){H(x(this,sl),e,!0)}get startOffset(){return g(x(this,al))}set startOffset(e){H(x(this,al),e,!0)}get endOffset(){return g(x(this,ol))}set endOffset(e){H(x(this,ol),e,!0)}},sl=new WeakMap,al=new WeakMap,ol=new WeakMap,tb);var ll,cl,ul,dl,fl,hl;class NC{constructor(){M(this,ll,ee(""));M(this,cl,ee(!1));M(this,ul,ee(""));M(this,dl,ee(""));M(this,fl,ee(""));M(this,hl,ee(ct([])))}get id(){return g(x(this,ll))}set id(e){H(x(this,ll),e,!0)}get leftProject(){return g(x(this,cl))}set leftProject(e){H(x(this,cl),e,!0)}get firstName(){return g(x(this,ul))}set firstName(e){H(x(this,ul),e,!0)}get lastName(){return g(x(this,dl))}set lastName(e){H(x(this,dl),e,!0)}get email(){return g(x(this,fl))}set email(e){H(x(this,fl),e,!0)}get availability(){return g(x(this,hl))}set availability(e){H(x(this,hl),e,!0)}}ll=new WeakMap,cl=new WeakMap,ul=new WeakMap,dl=new WeakMap,fl=new WeakMap,hl=new WeakMap;var gl,ml,pl,vl;class FC{constructor(){M(this,gl,ee(""));M(this,ml,ee(0));M(this,pl,ee(0));M(this,vl,ee(""))}get id(){return g(x(this,gl))}set id(e){H(x(this,gl),e,!0)}get startTime(){return g(x(this,ml))}set startTime(e){H(x(this,ml),e,!0)}get endTime(){return g(x(this,pl))}set endTime(e){H(x(this,pl),e,!0)}get user(){return g(x(this,vl))}set user(e){H(x(this,vl),e,!0)}}gl=new WeakMap,ml=new WeakMap,pl=new WeakMap,vl=new WeakMap;var yl,bl,_l,xl,wl,Sl,Tl,kl,Pl;class y0{constructor(){M(this,yl,ee(""));M(this,bl,ee(""));M(this,_l,ee(""));M(this,xl,ee(0));M(this,wl,ee(""));M(this,Sl,ee(0));M(this,Tl,ee(!1));M(this,kl,ee(ct([])));M(this,Pl,ee(ct([])))}get id(){return g(x(this,yl))}set id(e){H(x(this,yl),e,!0)}get title(){return g(x(this,bl))}set title(e){H(x(this,bl),e,!0)}get description(){return g(x(this,_l))}set description(e){H(x(this,_l),e,!0)}get dueDate(){return g(x(this,xl))}set dueDate(e){H(x(this,xl),e,!0)}get kanbanColumn(){return g(x(this,wl))}set kanbanColumn(e){H(x(this,wl),e,!0)}get timeEstimate(){return g(x(this,Sl))}set timeEstimate(e){H(x(this,Sl),e,!0)}get completed(){return g(x(this,Tl))}set completed(e){H(x(this,Tl),e,!0)}get sessions(){return g(x(this,kl))}set sessions(e){H(x(this,kl),e,!0)}get assignees(){return g(x(this,Pl))}set assignees(e){H(x(this,Pl),e,!0)}}yl=new WeakMap,bl=new WeakMap,_l=new WeakMap,xl=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Tl=new WeakMap,kl=new WeakMap,Pl=new WeakMap;var Al,Ml,Ol,Cl,Dl;class LC{constructor(){M(this,Al,ee(""));M(this,Ml,ee(""));M(this,Ol,ee(ct([])));M(this,Cl,ee(ct([])));M(this,Dl,ee(ct([])))}get id(){return g(x(this,Al))}set id(e){H(x(this,Al),e,!0)}get title(){return g(x(this,Ml))}set title(e){H(x(this,Ml),e,!0)}get likedUsers(){return g(x(this,Ol))}set likedUsers(e){H(x(this,Ol),e,!0)}get neutralUsers(){return g(x(this,Cl))}set neutralUsers(e){H(x(this,Cl),e,!0)}get dislikedUsers(){return g(x(this,Dl))}set dislikedUsers(e){H(x(this,Dl),e,!0)}}Al=new WeakMap,Ml=new WeakMap,Ol=new WeakMap,Cl=new WeakMap,Dl=new WeakMap;var El,Il,Rl,Nl,Fl;class jC{constructor(){M(this,El,ee(""));M(this,Il,ee(""));M(this,Rl,ee(""));M(this,Nl,ee(ct([])));M(this,Fl,ee(""))}get id(){return g(x(this,El))}set id(e){H(x(this,El),e,!0)}get title(){return g(x(this,Il))}set title(e){H(x(this,Il),e,!0)}get description(){return g(x(this,Rl))}set description(e){H(x(this,Rl),e,!0)}get options(){return g(x(this,Nl))}set options(e){H(x(this,Nl),e,!0)}get dueDate(){return g(x(this,Fl))}set dueDate(e){H(x(this,Fl),e,!0)}}El=new WeakMap,Il=new WeakMap,Rl=new WeakMap,Nl=new WeakMap,Fl=new WeakMap;var Ll,jl,Bl,zl,Vl,Wl,Ul,Hl,Zl,Yl,$l;class BC{constructor(e){M(this,Ll,ee(""));M(this,jl,ee(ct(new TC)));M(this,Bl,ee(""));M(this,zl,ee(""));M(this,Vl,ee(""));M(this,Wl,ee(0));M(this,Ul,ee(ct([])));M(this,Hl,ee(ct([])));M(this,Zl,ee(ct([])));M(this,Yl,ee(""));M(this,$l,ee(!1));R(this,"socket");this.socket=e}get demoButtonState(){return g(x(this,Ll))}set demoButtonState(e){H(x(this,Ll),e,!0)}get reactive_testing(){return g(x(this,jl))}set reactive_testing(e){H(x(this,jl),e,!0)}get id(){return g(x(this,Bl))}set id(e){H(x(this,Bl),e,!0)}get title(){return g(x(this,zl))}set title(e){H(x(this,zl),e,!0)}get description(){return g(x(this,Vl))}set description(e){H(x(this,Vl),e,!0)}get created(){return g(x(this,Wl))}set created(e){H(x(this,Wl),e,!0)}get users(){return g(x(this,Ul))}set users(e){H(x(this,Ul),e,!0)}get tasks(){return g(x(this,Hl))}set tasks(e){H(x(this,Hl),e,!0)}get polls(){return g(x(this,Zl))}set polls(e){H(x(this,Zl),e,!0)}get error(){return g(x(this,Yl))}set error(e){H(x(this,Yl),e,!0)}get showError(){return g(x(this,$l))}set showError(e){H(x(this,$l),e,!0)}select(e){this.socket.send(JSON.stringify({Name:"demoButtonState",Args:e}))}leave(){this.socket.send(JSON.stringify({Name:"leave",Args:{}})),Da(Ea+"/home")}delete(){this.socket.send(JSON.stringify({Name:"delete",Args:{}})),Da(Ea+"/home")}appendInProject(e,t){let r=JSON.stringify({Name:"append",Args:{Selector:e,NewValue:t}});console.log(t,r),this.socket.send(r)}updateInProject(e,t){let r=JSON.stringify({Name:"update",Args:{Selector:e,NewValue:t}});console.log(r),this.socket.send(r)}deleteInProject(e){let t=JSON.stringify({Name:"remove",Args:{Selector:e}});console.log(t),this.socket.send(t)}}Ll=new WeakMap,jl=new WeakMap,Bl=new WeakMap,zl=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,Ul=new WeakMap,Hl=new WeakMap,Zl=new WeakMap,Yl=new WeakMap,$l=new WeakMap;const b0=1,zC=b0/60,lr=zC/1e3,eo=60*b0,jn=24*eo,_r=15;function VC(n,e=!1){let t=Math.floor(n/eo);const r=n%eo,i=t>=12;return t=e?t:i?t%13+1:t,t===0&&!e&&(t=12),`${t}:${String(r).padStart(2,"0")}`+(e?"":i?" PM":" AM")}function ia(n){return n.toISOString().substring(0,10)}function WC(n,e){return e*=_r,n.some(([t,r])=>(console.assert(r>t),t%=jn,r%=jn,r<t?e<=r||e>=t:e>=t&&e<=r))}function lv(n,e){return e instanceof Date&&(e=e.getTime()*lr),n.some(([t,r])=>e<r&&e>=t)}function cv(n){return n.flat().reduce((e,t)=>(t=Math.floor(t/jn)*jn,e.includes(t)||e.push(t),e),[]).map(e=>new Date(e/lr))}function Bh(n,e){const[t,r]=n,i=t*lr+r*_r+e,s=jn/lr;return[Math.floor(i/jn)*s,i%jn*s]}function ka(n,e){typeof n=="number"&&(n/=lr);const t=new Date(n);return new Date(t.getTime()+e/lr)}function uv(n,e){return n.map(t=>t.map(r=>ka(r,e).getTime()*lr))}function UC(n="UTC",e=new Date){const t=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:n})).getTime()-t.getTime())*lr}const HC=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,ZC=()=>Intl.supportedValuesOf("timeZone"),YC=(n=new Date().getTimezoneOffset())=>[new Date("2017-02-27T00:00:00.000Z"),new Date("2017-02-28T00:00:00.000Z"),new Date("2017-03-01T00:00:00.000Z"),new Date("2017-03-02T00:00:00.000Z"),new Date("2017-03-03T00:00:00.000Z"),new Date("2017-03-04T00:00:00.000Z"),new Date("2017-03-05T00:00:00.000Z")].map(e=>ka(e,n)),$C=(n=new Date().getTimezoneOffset())=>YC(n).map(e=>[e.getTime()*lr+7*eo,e.getTime()*lr+22*eo]);var GC=$("<li> </li>"),KC=$("<li> </li>"),qC=$('<div> <div><h3 class="svelte-11kii48">Available</h3> <ul></ul></div> <div><h3 class="svelte-11kii48">Unavailable</h3> <ul></ul></div></div>');function XC(n,e){re(e,!1);let t=w(e,"everyone",8),r=w(e,"available",8);ac();var i=qC(),s=ne(i),a=X(s),o=X(ne(a),2);xt(o,5,r,wt,(u,d)=>{var h=GC(),f=ne(h,!0);Q(h),fe(()=>Xe(f,g(d))),b(u,h)}),Q(o),Q(a);var l=X(a,2),c=X(ne(l),2);xt(c,5,t,wt,(u,d)=>{var h=I(),f=P(h);{var m=p=>{var v=KC(),y=ne(v,!0);Q(v),fe(()=>Xe(y,g(d))),b(p,v)};ve(f,p=>{r().includes(g(d))||p(m)})}b(u,h)}),Q(c),Q(l),Q(i),fe(()=>Xe(s,`${r().length??""}/${t().length??""} Available `)),b(n,i),ie()}function dv(n,e,t=1){return[...Array(Math.ceil((e-n)/t)).keys()].map(r=>r*t+n)}function JC(n){return _0({availability:n,username:"me"})}function _0(...n){const e={};for(const t of n)for(const r in t.availability){r in e||(e[r]=[]);for(const i of t.availability[r])e[r][i]==null&&(e[r][i]=[]),e[r][i].push(t.username)}return e}function fv(n){const e={},t={};for(const r in n)e[r]=n[r].map((i,s)=>i.length?s:null).filter(i=>i!=null),t[new Date(r).getDay()]=e[r];return[e,t]}function QC(n,e,t="me"){for(const r in n)for(const i in e)for(const s of e[i]){const a=n[r][s];!(a!=null&&a.includes(t))&&(new Date(i).getDay()===new Date(r).getDay()||i===r)&&(a?a.push(t):n[r][s]=[t])}return n}function hv(n){return console.log(gv({},n)),gv({},n)}function gv(n,e){for(const t of e)t in n||(n[t]=[]);return n}const eD={gray:"bg-gray-50 dark:bg-gray-800",red:"bg-red-50 dark:bg-gray-800",yellow:"bg-yellow-50 dark:bg-gray-800 ",green:"bg-green-50 dark:bg-gray-800 ",indigo:"bg-indigo-50 dark:bg-gray-800 ",purple:"bg-purple-50 dark:bg-gray-800 ",pink:"bg-pink-50 dark:bg-gray-800 ",blue:"bg-blue-50 dark:bg-gray-800 ",light:"bg-gray-50 dark:bg-gray-700",dark:"bg-gray-50 dark:bg-gray-800",default:"bg-white dark:bg-gray-800",dropdown:"bg-white dark:bg-gray-700",navbar:"bg-white dark:bg-gray-900",navbarUl:"bg-gray-50 dark:bg-gray-800",form:"bg-gray-50 dark:bg-gray-700",primary:"bg-primary-50 dark:bg-gray-800 ",orange:"bg-orange-50 dark:bg-orange-800",none:""};function tD(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]),r=nn(t,["tag","color","rounded","border","shadow","node","use","options","role","transition","params","open"]);re(e,!1);const i=()=>{};Ia("background",!0);let s=w(e,"tag",24,()=>r.href?"a":"div"),a=w(e,"color",12,"default"),o=w(e,"rounded",8,!1),l=w(e,"border",8,!1),c=w(e,"shadow",8,!1),u=w(e,"node",28,()=>{}),d=w(e,"use",8,i),h=w(e,"options",24,()=>({})),f=w(e,"role",24,()=>{}),m=w(e,"transition",24,()=>{}),p=w(e,"params",24,()=>({})),v=w(e,"open",8,!0);const y=nm(),_={gray:"text-gray-800 dark:text-gray-300",red:"text-red-800 dark:text-red-400",yellow:"text-yellow-800 dark:text-yellow-300",green:"text-green-800 dark:text-green-400",indigo:"text-indigo-800 dark:text-indigo-400",purple:"text-purple-800 dark:text-purple-400",pink:"text-pink-800 dark:text-pink-400",blue:"text-blue-800 dark:text-blue-400",light:"text-gray-700 dark:text-gray-300",dark:"text-gray-700 dark:text-gray-300",default:"text-gray-500 dark:text-gray-400",dropdown:"text-gray-700 dark:text-gray-200",navbar:"text-gray-700 dark:text-gray-200",navbarUl:"text-gray-700 dark:text-gray-400",form:"text-gray-900 dark:text-white",primary:"text-primary-800 dark:text-primary-400",orange:"text-orange-800 dark:text-orange-400",none:""},S={gray:"border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800",red:"border-red-300 dark:border-red-800 divide-red-300 dark:divide-red-800",yellow:"border-yellow-300 dark:border-yellow-800 divide-yellow-300 dark:divide-yellow-800",green:"border-green-300 dark:border-green-800 divide-green-300 dark:divide-green-800",indigo:"border-indigo-300 dark:border-indigo-800 divide-indigo-300 dark:divide-indigo-800",purple:"border-purple-300 dark:border-purple-800 divide-purple-300 dark:divide-purple-800",pink:"border-pink-300 dark:border-pink-800 divide-pink-300 dark:divide-pink-800",blue:"border-blue-300 dark:border-blue-800 divide-blue-300 dark:divide-blue-800",light:"border-gray-500 divide-gray-500",dark:"border-gray-500 divide-gray-500",default:"border-gray-200 dark:border-gray-700 divide-gray-200 dark:divide-gray-700",dropdown:"border-gray-100 dark:border-gray-600 divide-gray-100 dark:divide-gray-600",navbar:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",navbarUl:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",form:"border-gray-300 dark:border-gray-700 divide-gray-300 dark:divide-gray-700",primary:"border-primary-500 dark:border-primary-200  divide-primary-500 dark:divide-primary-200 ",orange:"border-orange-300 dark:border-orange-800 divide-orange-300 dark:divide-orange-800",none:""};let T=Ht();Lt(()=>ot(v()),()=>{y(v()?"open":"close")}),Lt(()=>ot(v()),()=>{y("show",v())}),Lt(()=>ot(a()),()=>{a(a()??"default")}),Lt(()=>ot(a()),()=>{Ia("color",a())}),Lt(()=>(ot(a()),ot(o()),ot(l()),ot(c()),ot(t)),()=>{H(T,vb(eD[a()],_[a()],o()&&"rounded-lg",l()&&"border",S[a()],c()&&"shadow-md",t.class))}),Hf(),ac();var k=I(),O=P(k);{var D=V=>{var Z=I(),L=P(Z);cu(L,s,!1,(z,J)=>{sg(z,(W,N)=>{var U;return(U=d())==null?void 0:U(W,N)},h),ir(z,W=>u(W),()=>u());let G;fe(()=>G=Oe(z,G,{role:f(),...r,class:g(T)})),t1(3,z,m,p),Jt("click",z,function(W){Fn.call(this,e,W)}),Jt("mouseenter",z,function(W){Fn.call(this,e,W)}),Jt("mouseleave",z,function(W){Fn.call(this,e,W)}),Jt("focusin",z,function(W){Fn.call(this,e,W)}),Jt("focusout",z,function(W){Fn.call(this,e,W)});var E=I(),F=P(E);pn(F,e,"default",{},null),b(J,E)}),b(V,Z)},j=(V,Z)=>{{var L=z=>{var J=I(),G=P(J);cu(G,s,!1,(E,F)=>{sg(E,(K,ce)=>{var se;return(se=d())==null?void 0:se(K,ce)},h),ir(E,K=>u(K),()=>u());let W;fe(()=>W=Oe(E,W,{role:f(),...r,class:g(T)})),Jt("click",E,function(K){Fn.call(this,e,K)}),Jt("mouseenter",E,function(K){Fn.call(this,e,K)}),Jt("mouseleave",E,function(K){Fn.call(this,e,K)}),Jt("focusin",E,function(K){Fn.call(this,e,K)}),Jt("focusout",E,function(K){Fn.call(this,e,K)});var N=I(),U=P(N);pn(U,e,"default",{},null),b(F,N)}),b(z,J)};ve(V,z=>{v()&&z(L)},Z)}};ve(O,V=>{m()&&v()?V(D):V(j,!1)})}b(n,k),ie()}var nD=$("<div></div>"),rD=$("<div></div>"),iD=$("<!> <!>",1),sD=$("<!> <!>",1);function aD(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]),r=nn(t,["activeContent","arrow","offset","placement","trigger","triggeredBy","reference","strategy","open","yOnly","middlewares"]);re(e,!1);const i=Ht();let s=w(e,"activeContent",8,!1),a=w(e,"arrow",8,!0),o=w(e,"offset",8,8),l=w(e,"placement",8,"top"),c=w(e,"trigger",8,"hover"),u=w(e,"triggeredBy",24,()=>{}),d=w(e,"reference",24,()=>{}),h=w(e,"strategy",8,"absolute"),f=w(e,"open",12,!1),m=w(e,"yOnly",8,!1),p=w(e,"middlewares",24,()=>[u_(),c_()]);const v=nm();let y=Ht(),_=Ht(),S=Ht(),T=Ht(),k,O=Ht(),D=Ht(),j=[];const V=te=>{g(T)===void 0&&console.error("trigger undefined"),!(!d()&&j.includes(te.target)&&g(T)!==te.target&&(H(T,te.target),f()))&&f(te.type==="click"?!f():!0)},Z=te=>te.matches(":hover"),L=te=>te?`${te}px`:"",z=te=>{if(s()&&g(S)){const ae=[g(T),k,...j].filter(Boolean);setTimeout(()=>{te.type==="mouseleave"&&!ae.some(Z)&&f(!1)},100)}else f(!1)};let J=Ht();const G={left:"right",right:"left",bottom:"top",top:"bottom"};function E(){f_(g(T),k,{placement:l(),strategy:h(),middleware:g(i)}).then(({x:te,y:ae,middlewareData:ge,placement:xe,strategy:ue})=>{k.style.position=ue,k.style.left=m()?"0":L(te),k.style.top=L(ae),ge.arrow&&g(O)instanceof HTMLDivElement&&(vh(O,g(O).style.left=L(ge.arrow.x)),vh(O,g(O).style.top=L(ge.arrow.y)),H(J,G[xe.split("-")[0]]),vh(O,g(O).style[g(J)]=L(-g(O).offsetWidth/2-(t.border?1:0))))})}function F(te,ae){k=te;let ge=hg(ae,k,E);return{update(xe){ge(),ge=hg(xe,k,E)},destroy(){ge()}}}Zs(()=>{const te=[["focusin",V,g(y)],["focusout",z,g(y)],["click",V,g(_)],["mouseenter",V,g(S)],["mouseleave",z,g(S)]];return u()?j=[...document.querySelectorAll(u())]:j=g(D).previousElementSibling?[g(D).previousElementSibling]:[],j.length||console.error("No triggers found."),j.forEach(ae=>{ae.tabIndex<0&&(ae.tabIndex=0);for(const[ge,xe,ue]of te)ue&&ae.addEventListener(ge,xe)}),d()?(H(T,document.querySelector(d())??document.body),g(T)===document.body?console.error(`Popup reference not found: '${d()}'`):(g(y)&&g(T).addEventListener("focusout",z),g(S)&&g(T).addEventListener("mouseleave",z))):H(T,j[0]),g(_)&&document.addEventListener("click",W),()=>{j.forEach(ae=>{if(ae)for(const[ge,xe]of te)ae.removeEventListener(ge,xe)}),g(T)&&(g(T).removeEventListener("focusout",z),g(T).removeEventListener("mouseleave",z)),document.removeEventListener("click",W)}});function W(te){f()&&!te.composedPath().includes(k)&&!j.some(ae=>te.composedPath().includes(ae))&&z(te)}function N(te,ae){return te?ae:()=>{}}let U=Ht();function K(te){return H(O,te),{destroy(){H(O,null)}}}Lt(()=>ot(c()),()=>{H(y,c()==="focus")}),Lt(()=>ot(c()),()=>{H(_,c()==="click")}),Lt(()=>ot(c()),()=>{H(S,c()==="hover")}),Lt(()=>ot(f()),()=>{v("show",f())}),Lt(()=>(ot(l()),g(T)),()=>{l()&&H(T,g(T))}),Lt(()=>(ot(p()),ot(o()),g(O)),()=>{H(i,[...p(),l_(+o()),g(O)&&d_({element:g(O),padding:10})])}),Lt(()=>(ot(t),g(J)),()=>{H(U,hw("absolute pointer-events-none block w-[10px] h-[10px] rotate-45 bg-inherit border-inherit",t.border&&g(J)==="bottom"&&"border-b border-e",t.border&&g(J)==="top"&&"border-t border-s ",t.border&&g(J)==="right"&&"border-t border-e ",t.border&&g(J)==="left"&&"border-b border-s "))}),Hf(),ac();var ce=sD(),se=P(ce);{var he=te=>{var ae=nD();ir(ae,ge=>H(D,ge),()=>g(D)),b(te,ae)};ve(se,te=>{g(T)||te(he)})}var be=X(se,2);{var Te=te=>{const ae=yt(()=>s()?-1:void 0);var ge=C(()=>N(s()&&g(y),V)),xe=C(()=>N(s()&&g(y),z)),ue=C(()=>N(s()&&g(S),V)),ke=C(()=>N(s()&&g(S),z));tD(te,Pe({use:F,get options(){return g(T)},role:"tooltip",get tabindex(){return g(ae)}},()=>r,{get open(){return f()},set open(Ee){f(Ee)},$$events:{focusin(...Ee){var we;(we=g(ge))==null||we.apply(this,Ee)},focusout(...Ee){var we;(we=g(xe))==null||we.apply(this,Ee)},mouseenter(...Ee){var we;(we=g(ue))==null||we.apply(this,Ee)},mouseleave(...Ee){var we;(we=g(ke))==null||we.apply(this,Ee)}},children:(Ee,we)=>{var Re=iD(),Ne=P(Re);pn(Ne,e,"default",{},null);var Ve=X(Ne,2);{var De=je=>{var tt=rD();sg(tt,ht=>K==null?void 0:K(ht)),fe(()=>pb(tt,1,fw(g(U)))),b(je,tt)};ve(Ve,je=>{a()&&je(De)})}b(Ee,Re)},$$slots:{default:!0},$$legacy:!0}))};ve(be,te=>{g(T)&&te(Te)})}b(n,ce),ie()}function oD(n,e){const t=nn(e,["children","$$slots","$$events","$$legacy"]),r=nn(t,["type","defaultClass"]);re(e,!1);let i=w(e,"type",12,"dark"),s=w(e,"defaultClass",8,"py-2 px-3 text-sm font-medium");const a={dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border-gray-200 bg-white text-gray-900",auto:" bg-white text-gray-900 dark:bg-gray-700 dark:text-white border-gray-200 dark:border-gray-700",custom:""};let o=Ht();Lt(()=>(ot(r),ot(i()),ot(s()),ot(t)),()=>{r.color?i("custom"):r.color="none",["light","auto"].includes(i())&&(r.border=!0),H(o,vb("tooltip",s(),a[i()],t.class))}),Hf(),ac(),aD(n,Pe({rounded:!0,shadow:!0},()=>r,{get class(){return g(o)},$$events:{show(l){Fn.call(this,e,l)}},children:(l,c)=>{var u=I(),d=P(u);pn(d,e,"default",{},null),b(l,u)},$$slots:{default:!0}})),ie()}var lD=$('<br> <span class="text-sm"> </span>',1),cD=$('<div class="flex-grow text-center svelte-1vi9c9i" role="columnheader"> <!></div>'),uD=$('<div class="sticky top-0 flex"><div class="w-20"></div> <!></div>'),dD=$('<div class="flex-1"></div>'),fD=$('<div role="cell" tabindex="0"><!></div> <!>',1),hD=$('<div class="h-[16px] flex-grow"></div>'),gD=$('<div class="flex items-center"><div class="relative bottom-2 w-20 pr-1 text-right leading-4"> </div> <!></div>'),mD=$('<div class="flex select-none flex-col items-stretch"><!> <!></div>');function mv(n,e){re(e,!1);let t=w(e,"ranges",8),r=Ht(cv(t()));const i=g(r);let s=w(e,"isDisabled",8,!1),a=w(e,"tzOffset",8),o=w(e,"shouldUseWeekdays",8),l=w(e,"importedEvents",24,()=>rw({})),c=w(e,"workingAvailability",24,()=>bn({}));const u=nm(),d=()=>u("save",fv(f())[0]),h=()=>{const N=hv(i.map(ia));f(N),d(),c().set(N)};let f=w(e,"availability",28,()=>hv(i.map(ia))),m=Ht({}),p=Ht({});l().subscribe(N=>{QC(f(),N),f({...f()})});let v=w(e,"availablePeople",8,void 0),y=Ht([]),_=w(e,"allParticipants",24,()=>[]),S=w(e,"useMulticolor",8,!1);function T(){for(const N in f())for(const U of dv(0,jn/_r))J([new Date(N).getTime(),U],g(k),g(O))&&lv(t(),ka(N,U*_r))&&f(f()[N][U]=g(D)?["me"]:[],!0)}let k=Ht(),O=Ht(),D=Ht();const j=(N,U)=>{var K;g(D)==null&&H(D,!(((K=f()[N][U])==null?void 0:K.length)??0)),H(O,[new Date(N).getTime(),U])};function V(N){if(N.touches.length>1)z();else{N.preventDefault();const U=document.elementFromPoint(N.touches[0].clientX,N.touches[0].clientY);if(!U||!U.classList.contains("availability-cell"))return[void 0,void 0];const K=Number.parseInt(U.dataset.idx),ce=Number.parseInt(U.dataset.date);return!g(k)&&!v()&&!s()&&H(k,H(O,[ce,K])),[ia(new Date(ce)),K]}return[void 0,void 0]}const Z=(N,U)=>{v()||s()||(H(k,H(O,[new Date(N).getTime(),U])),j(N,U))},L=(N,U)=>{U==null||N==null||(g(k)&&j(N,U),v()&&v().set(f()[N][U]??[]))},z=()=>{g(k)&&(v()||(T(),d()),H(k,H(O,H(D,void 0))))};function J(N,U,K){if(!U||!K)return!1;U=Bh(U,-a()),K=Bh(K,-a());const[ce,se]=Bh(N,-a()),[he,be,Te,te]=[Math.min(U[0],K[0]),Math.min(U[1],K[1]),Math.max(U[0],K[0]),Math.max(U[1],K[1])];return ce>=he&&ce<=Te&&se>=be&&se<=te}Lt(()=>(ot(t()),ot(a())),()=>{H(r,cv(uv(t(),-a())))}),Lt(()=>(g(m),g(p),ot(f())),()=>{(N=>(H(m,N[0]),H(p,N[1])))(fv(f()))}),Lt(()=>(ot(v()),ot(c()),g(m)),()=>{v()||c().set(g(m))}),Lt(()=>ot(f()),()=>{console.log("availability",f())}),Lt(()=>g(m),()=>{console.log("formattedAvailability",g(m))}),Lt(()=>(ot(t()),ot(a())),()=>{H(y,dv(0,jn/_r).filter(N=>WC(uv(t(),-a()),N)))}),Hf(),ac();var G=mD();Jt("pointerup",iw,z);var E=ne(G);{var F=N=>{var U=uD(),K=X(ne(U),2);xt(K,1,()=>g(r),wt,(ce,se)=>{var he=cD(),be=ne(he),Te=X(be);{var te=ae=>{var ge=lD(),xe=X(P(ge),2),ue=ne(xe,!0);Q(xe),fe(ke=>Xe(ue,ke),[()=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",timeZone:"UTC"}).format(g(se))],yt),b(ae,ge)};ve(Te,ae=>{o()||ae(te)})}Q(he),fe(ae=>Xe(be,`${ae??""} `),[()=>new Intl.DateTimeFormat(void 0,{weekday:"short",timeZone:"UTC"}).format(g(se))],yt),b(ce,he)}),Q(U),b(N,U)};ve(E,N=>{g(r).length>0&&N(F)})}var W=X(E,2);return xt(W,1,()=>g(y),wt,(N,U)=>{var K=gD(),ce=ne(K),se=ne(ce,!0);Q(ce);var he=X(ce,2);xt(he,1,()=>g(r),wt,(be,Te)=>{var te=I();const ae=yt(()=>g(U)*_r+a()),ge=yt(()=>new Date(ia(ka(g(Te),g(ae))))),xe=yt(()=>ia(g(ge))),ue=yt(()=>f()[g(xe)]),ke=yt(()=>(jn+g(ae))%jn/_r);var Ee=P(te);{var we=Ne=>{var Ve=fD(),De=P(Ve);let je,tt;var ht=ne(De);{var Tt=Ye=>{var zt=I(),Kt=P(zt);xt(Kt,1,()=>g(ue)[g(ke)]??[],wt,(gr,A)=>{var q=dD();const oe=yt(()=>(_().indexOf(g(A))+1)/_().length*365);let pe;fe(()=>pe=Sa(q,"",pe,{"background-color":`hsl(${g(oe)}, 65%, 79%)`})),b(gr,q)}),b(Ye,zt)};ve(ht,Ye=>{_().length&&S()&&Ye(Tt)})}Q(De);var gt=X(De,2);{var Et=Ye=>{oD(Ye,{class:"pointer-events-none z-[1000] bg-white",children:(zt,Kt)=>{XC(zt,{get everyone(){return _()},get available(){return g(ue)[g(ke)]}})},$$slots:{default:!0}})};ve(gt,Ye=>{_().length&&g(ue)[g(ke)]&&Ye(Et)})}fe((Ye,zt)=>{var Kt;je=pb(De,1,"availability-cell flex flex-grow svelte-1vi9c9i",null,je,Ye),ni(De,"data-idx",g(ke)),ni(De,"data-date",zt),tt=Sa(De,"",tt,{"--lightness":_().length&&!S()?(1-(((Kt=g(ue)[g(ke)])==null?void 0:Kt.length)??_().length)/_().length)*70+30+"%":"30%"})},[()=>{var Ye;return{"cursor-pointer":!v()&&!s(),"cursor-not-allowed":s(),available:J([g(ge).getTime(),g(ke)],g(k),g(O))?g(D):(Ye=g(ue)[g(ke)])==null?void 0:Ye.length}},()=>g(ge).getTime()],yt),Jt("mousedown",De,()=>Z(g(xe),g(ke))),Jt("mouseenter",De,()=>L(g(xe),g(ke))),Jt("touchmove",De,Ye=>L(...V(Ye))),b(Ne,Ve)},Re=Ne=>{var Ve=hD();b(Ne,Ve)};ve(Ee,Ne=>{lv(t(),ka(g(ge),g(ke)*_r))?Ne(we):Ne(Re,!1)})}b(be,te)}),Q(K),fe(be=>Xe(se,be),[()=>g(U)%2===0?VC(g(U)*_r).replace(" "," "):" "],yt),b(N,K)}),Q(G),b(n,G),n1(e,"clear",h),ie({clear:h})}function pD(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"value",15,""),i=ye(e,["$$slots","$$events","$$legacy","ref","value","class"]);var s=I(),a=P(s);const o=C(()=>et("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e.class));Y(a,()=>wP,(l,c)=>{c(l,Pe({get class(){return g(o)}},()=>i,{get value(){return r()},set value(u){r(u)},get ref(){return t()},set ref(u){t(u)}}))}),b(n,s),ie()}function vD(n,e){re(e,!0),w(e,"ref",11,null);let t=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var r=I(),i=P(r);const s=C(()=>et("py-6 text-center text-sm",e.class));Y(i,()=>TP,(a,o)=>{o(a,Pe({get class(){return g(s)}},()=>t))}),b(n,r),ie()}var yD=$("<!> <!>",1);function bD(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","children","heading"]);var i=I(),s=P(i);const a=C(()=>et("overflow-hidden p-1 text-foreground",e.class));Y(s,()=>PP,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)},children:(c,u)=>{var d=yD(),h=P(d);{var f=p=>{var v=I(),y=P(v);Y(y,()=>MP,(_,S)=>{S(_,{class:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:(T,k)=>{Ie();var O=Le();fe(()=>Xe(O,e.heading)),b(T,O)},$$slots:{default:!0}})}),b(p,v)};ve(h,p=>{e.heading&&p(f)})}var m=X(h,2);Y(m,()=>DP,(p,v)=>{v(p,{get children(){return e.children}})}),b(c,d)},$$slots:{default:!0}}))}),b(n,i),ie()}function _D(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e.class));Y(s,()=>FP,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}var xD=$('<div class="flex items-center border-b px-2" data-command-input-wrapper=""><!> <!></div>');function wD(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"value",15,""),i=ye(e,["$$slots","$$events","$$legacy","ref","class","value"]);var s=xD(),a=ne(s);NM(a,{class:"mr-2 size-4 shrink-0 opacity-50"});var o=X(a,2);const l=C(()=>et("flex h-11 w-full rounded-md bg-transparent py-3 text-base outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class));Y(o,()=>IP,(c,u)=>{u(c,Pe({get class(){return g(l)}},()=>i,{get ref(){return t()},set ref(d){t(d)},get value(){return r()},set value(d){r(d)}}))}),Q(s),b(n,s),ie()}function Bm(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"sideOffset",3,4),i=w(e,"align",3,"center"),s=ye(e,["$$slots","$$events","$$legacy","ref","class","sideOffset","align","portalProps"]);var a=I(),o=P(a);Y(o,()=>um,(l,c)=>{c(l,Pe(()=>e.portalProps,{children:(u,d)=>{var h=I(),f=P(h);const m=C(()=>et("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class));Y(f,()=>IA,(p,v)=>{v(p,Pe({get sideOffset(){return r()},get align(){return i()},get class(){return g(m)}},()=>s,{get ref(){return t()},set ref(y){t(y)}}))}),b(u,h)},$$slots:{default:!0}}))}),b(n,a),ie()}const zm=XA,Vm=NA;var SD=$(" <!>",1),TD=$("<!> ",1),kD=$("<!> <!> <!>",1),PD=$("<!> <!>",1);function AD(n,e){re(e,!0);const t=ZC().map(u=>({value:UC(u),label:u}));let r=ee(!1),i=ee(ct(HC())),s=w(e,"selectedValue",15),a=ee(null);function o(){H(r,!1),lu().then(()=>{var u;(u=g(a))==null||u.focus()})}var l=I(),c=P(l);Y(c,()=>zm,(u,d)=>{d(u,{get open(){return g(r)},set open(h){H(r,h,!0)},children:(h,f)=>{var m=PD(),p=P(m);Y(p,()=>Vm,(y,_)=>{_(y,{get ref(){return g(a)},set ref(S){H(a,S,!0)},children:(S,T)=>{gn(S,{variant:"outline",role:"combobox",get"aria-expanded"(){return g(r)},class:"w-[200px] justify-between",children:(k,O)=>{Ie();var D=SD(),j=P(D),V=X(j);EM(V,{class:"ml-2 h-4 w-4 shrink-0 opacity-50"}),fe(()=>Xe(j,`${g(i)??""} `)),b(k,D)},$$slots:{default:!0}})},$$slots:{default:!0}})});var v=X(p,2);Y(v,()=>Bm,(y,_)=>{_(y,{class:"h-[500px] w-[200px] p-0",children:(S,T)=>{var k=I(),O=P(k);Y(O,()=>pD,(D,j)=>{j(D,{children:(V,Z)=>{var L=kD(),z=P(L);Y(z,()=>wD,(E,F)=>{F(E,{placeholder:"Search timezones..."})});var J=X(z,2);Y(J,()=>vD,(E,F)=>{F(E,{children:(W,N)=>{Ie();var U=Le("No timezones found.");b(W,U)},$$slots:{default:!0}})});var G=X(J,2);Y(G,()=>bD,(E,F)=>{F(E,{class:"overflow-y-auto",children:(W,N)=>{var U=I(),K=P(U);xt(K,17,()=>t,wt,(ce,se)=>{var he=I(),be=P(he);Y(be,()=>_D,(Te,te)=>{te(Te,{get value(){return g(se).label},onSelect:()=>{var ae;H(i,g(se).label,!0),s(((ae=t.find(ge=>ge.label===g(se).label))==null?void 0:ae.value)??0),o()},children:(ae,ge)=>{var xe=TD(),ue=P(xe);const ke=C(()=>et("mr-2 h-4 w-4",g(i)!==g(se).label&&"text-transparent"));OM(ue,{get class(){return g(ke)}});var Ee=X(ue);fe(()=>Xe(Ee,` ${g(se).label??""}`)),b(ae,xe)},$$slots:{default:!0}})}),b(ce,he)}),b(W,U)},$$slots:{default:!0}})}),b(V,L)},$$slots:{default:!0}})}),b(S,k)},$$slots:{default:!0}})}),b(h,m)},$$slots:{default:!0}})}),b(n,l),ie()}const MD=n=>new Date(n).getDay(),pv=(n,e,t)=>{const r={},i=new Date(e);for(let s=0;s<t;s++){const a=new Date(i);a.setDate(i.getDate()+s);const o=a.toISOString().split("T")[0],l=a.getDay(),c=n.filter(({dayOfWeek:u})=>u===l).flatMap(({startOffset:u,endOffset:d})=>Array.from({length:d-u+1},(h,f)=>u+f));r[o]=c}return r},OD=n=>{const e=[];return Object.entries(n).forEach(([t,r])=>{if(r.length>0){const i=MD(t);let s=r[0],a=r[0];for(let o=1;o<r.length;o++)r[o]===a+1||(e.push({dayOfWeek:i,startOffset:s,endOffset:a}),s=r[o]),a=r[o];e.push({dayOfWeek:i,startOffset:s,endOffset:a})}}),e};var CD=$('<!> <div class="flex justify-around"><!> <!></div>',1);function DD(n,e){re(e,!0);let t=ee(0);const r=$C(),i=C(()=>{var c;return pv(((c=e.project.users.find(u=>u.id===localStorage.myId))==null?void 0:c.availability)??[],"2017-02-27T00:00:00.000Z",8)});async function s(c){const u=OD(c.detail);console.log("db availability",u),await fetch(yb+uu+"/availability",{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify(u)})}let a=C(()=>e.project.users.map(c=>({availability:pv(c.availability,"2017-02-27T00:00:00.000Z",8),username:c.firstName+" "+c.lastName})));Qe(()=>{console.log("group avail",Rs(g(a)))}),Qe(()=>{console.log("my avail",Rs(g(i)))});var o=I(),l=P(o);Y(l,()=>qi,(c,u)=>{u(c,{value:"availability",children:(d,h)=>{var f=CD(),m=P(f);AD(m,{get selectedValue(){return g(t)},set selectedValue(j){H(t,j,!0)}});var p=X(m,2),v=ne(p);const y=C(()=>-g(t)),_=C(()=>JC(g(i)));mv(v,{ranges:r,get tzOffset(){return g(y)},shouldUseWeekdays:!0,get availability(){return g(_)},$$events:{save:s}});var S=X(v,2);const T=C(()=>-g(t)),k=C(()=>bn([])),O=C(()=>g(a).map(j=>j.username)),D=C(()=>_0(...g(a)));mv(S,{ranges:r,get tzOffset(){return g(T)},shouldUseWeekdays:!0,get availablePeople(){return g(k)},get allParticipants(){return g(O)},get availability(){return g(D)}}),Q(p),b(d,f)},$$slots:{default:!0}})}),b(n,o),ie()}function ED(n,e){const t=n.target;H(e,parseInt(t.value)||new Date().getFullYear(),!0)}function ID(n,e){const t=n.target;H(e,parseInt(t.value)||new Date().getMonth()+1,!0)}var RD=$('<div class="inputs"><label>Year: <input type="number"></label> <label>Month: <input type="number" min="1" max="12"></label></div> <!>',1);function ND(n,e){re(e,!0);let t=ee(ct(new Date().getFullYear())),r=ee(new Date().getMonth()+1);var i=I(),s=P(i);Y(s,()=>qi,(a,o)=>{o(a,{value:"calendar",children:(l,c)=>{var u=RD(),d=P(u),h=ne(d),f=X(ne(h));Ra(f),f.__input=[ED,t],Q(h);var m=X(h,2),p=X(ne(m));Ra(p),p.__input=[ID,r],Q(m),Q(d);var v=X(d,2);WM(v,{get month(){return g(r)},get year(){return g(t)},get tasks(){return e.project.tasks}}),fe(()=>{vp(f,g(t)),vp(p,g(r))}),b(l,u)},$$slots:{default:!0}})}),b(n,i),ie()}em(["input"]);function FD(n){return typeof n=="function"}function LD(n){return n!==null&&typeof n=="object"}const jD=["string","number","bigint","boolean"];function Ng(n){return n==null||jD.includes(typeof n)?!0:Array.isArray(n)?n.every(e=>Ng(e)):typeof n=="object"?Object.getPrototypeOf(n)===Object.prototype:!1}const to=Symbol("box"),Wm=Symbol("is-writable");function BD(n){return LD(n)&&to in n}function zD(n){return At.isBox(n)&&Wm in n}function At(n){let e=ee(ct(n));return{[to]:!0,[Wm]:!0,get current(){return g(e)},set current(t){H(e,t,!0)}}}function VD(n,e){const t=C(n);return e?{[to]:!0,[Wm]:!0,get current(){return g(t)},set current(r){e(r)}}:{[to]:!0,get current(){return n()}}}function WD(n){return At.isBox(n)?n:FD(n)?At.with(n):At(n)}function UD(n){return Object.entries(n).reduce((e,[t,r])=>At.isBox(r)?(At.isWritableBox(r)?Object.defineProperty(e,t,{get(){return r.current},set(i){r.current=i}}):Object.defineProperty(e,t,{get(){return r.current}}),e):Object.assign(e,{[t]:r}),{})}function HD(n){return At.isWritableBox(n)?{[to]:!0,get current(){return n.current}}:n}At.from=WD;At.with=VD;At.flatten=UD;At.readonly=HD;At.isBox=BD;At.isWritableBox=zD;function ZD(...n){return function(e){var t;for(const r of n)if(r){if(e.defaultPrevented)return;typeof r=="function"?r.call(this,e):(t=r.current)==null||t.call(this,e)}}}const YD=/\d/,$D=["-","_","/","."];function GD(n=""){if(!YD.test(n))return n!==n.toLowerCase()}function KD(n){const e=[];let t="",r,i;for(const s of n){const a=$D.includes(s);if(a===!0){e.push(t),t="",r=void 0;continue}const o=GD(s);if(i===!1){if(r===!1&&o===!0){e.push(t),t=s,r=o;continue}if(r===!0&&o===!1&&t.length>1){const l=t.at(-1);e.push(t.slice(0,Math.max(0,t.length-1))),t=l+s,r=o;continue}}t+=s,r=o,i=a}return e.push(t),e}function x0(n){return n?KD(n).map(e=>XD(e)).join(""):""}function qD(n){return JD(x0(n||""))}function XD(n){return n?n[0].toUpperCase()+n.slice(1):""}function JD(n){return n?n[0].toLowerCase()+n.slice(1):""}function Pc(n){if(!n)return{};const e={};function t(r,i){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){e[x0(r)]=i;return}if(r.startsWith("--")){e[r]=i;return}e[qD(r)]=i}return uw(n,t),e}function QD(...n){return(...e)=>{for(const t of n)typeof t=="function"&&t(...e)}}function eE(n,e){const t=RegExp(n,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(t)?r.replace(t,e):r}}const tE=eE(/[A-Z]/,n=>`-${n.toLowerCase()}`);function nE(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError(`expected an argument of type object, but got ${typeof n}`);return Object.keys(n).map(e=>`${tE(e)}: ${n[e]};`).join(`
`)}function w0(n={}){return nE(n).replace(`
`," ")}const rE={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};w0(rE);function iE(n){var e;return n.length>2&&n.startsWith("on")&&n[2]===((e=n[2])==null?void 0:e.toLowerCase())}function Um(...n){const e={...n[0]};for(let t=1;t<n.length;t++){const r=n[t];for(const i in r){const s=e[i],a=r[i],o=typeof s=="function",l=typeof a=="function";if(o&&iE(i)){const c=s,u=a;e[i]=ZD(c,u)}else if(o&&l)e[i]=QD(s,a);else if(i==="class"){const c=Ng(s),u=Ng(a);c&&u?e[i]=yh(s,a):c?e[i]=yh(s):u&&(e[i]=yh(a))}else if(i==="style"){const c=typeof s=="object",u=typeof a=="object",d=typeof s=="string",h=typeof a=="string";if(c&&u)e[i]={...s,...a};else if(c&&h){const f=Pc(a);e[i]={...s,...f}}else if(d&&u){const f=Pc(s);e[i]={...f,...a}}else if(d&&h){const f=Pc(s),m=Pc(a);e[i]={...f,...m}}else c?e[i]=s:u?e[i]=a:d?e[i]=s:h&&(e[i]=a)}else e[i]=a!==void 0?a:s}}return typeof e.style=="object"&&(e.style=w0(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}function Hm({id:n,ref:e,deps:t=()=>!0,onRefChange:r=()=>{},getRootNode:i=()=>typeof document<"u"?document:void 0}){const s=C(()=>t()),a=C(()=>i());Qe(()=>(n.current,g(s),g(a),_t(()=>{var l;const o=(l=g(a))==null?void 0:l.getElementById(n.current);o?e.current=o:e.current=null,r(e.current)}))),Qe(()=>()=>{e.current=null,r(null)})}function sE(n,e){const t=C(n);Qe(()=>{g(t),_t(()=>e(g(t)))})}function aE(n){return Array.isArray(n)?[...n]:typeof n=="object"&&"_errors"in n&&n._errors!==void 0?[...n._errors]:[]}function zh(n,e){const t=n.split(/[[\].]/).filter(Boolean);let r=e;for(const i of t){if(typeof r!="object"||r===null)return;r=r[i]}return r}function oE({fieldErrorsId:n=void 0,descriptionId:e=void 0,errors:t}){let r="";return e&&(r+=`${e} `),t.length&&n&&(r+=n),r?r.trim():void 0}function lE(n){if("required"in n)return n.required?"true":void 0}function cE(n){return n&&n.length?"true":void 0}function ku(n){return n&&n.length?"":void 0}let vv=0;function Vs(n="formsnap"){return vv++,`${n}-${vv}`}var Xn,Gl,Ps,As,Kl,If,Rf,Nf,Ff,ql,Xl,Jl,Ql,Lf;class uE{constructor(e){M(this,Xn);M(this,Gl);M(this,Ps);M(this,As);M(this,Kl);R(this,"form");M(this,If,C(()=>x(this,Xn).current));M(this,Rf,C(()=>aE(zh(x(this,Xn).current,structuredClone(x(this,Gl).current)))));M(this,Nf,C(()=>zh(x(this,Xn).current,structuredClone(x(this,Ps).current))??{}));M(this,Ff,C(()=>x(this,As).current?zh(x(this,Xn).current,structuredClone(x(this,As).current))===!0:!1));M(this,ql,ee(null));M(this,Xl,ee(null));M(this,Jl,ee());M(this,Ql,ee());M(this,Lf,C(()=>({value:x(this,Kl).current[x(this,Xn).current],errors:this.errors,tainted:this.tainted,constraints:x(this,Ps).current[x(this,Xn).current]??{}})));mt(this,Xn,e.name),this.form=e.form.current,mt(this,Gl,_c(e.form.current.errors)),mt(this,Ps,_c(e.form.current.constraints)),mt(this,As,_c(e.form.current.tainted)),mt(this,Kl,_c(e.form.current.form)),Qe(()=>{this.errorNode&&this.errorNode.id&&(this.errorId=this.errorNode.id)}),Qe(()=>{this.descriptionNode&&this.descriptionNode.id&&(this.descriptionId=this.descriptionNode.id)})}get name(){return g(x(this,If))}get errors(){return g(x(this,Rf))}get constraints(){return g(x(this,Nf))}get tainted(){return g(x(this,Ff))}get errorNode(){return g(x(this,ql))}set errorNode(e){H(x(this,ql),e,!0)}get descriptionNode(){return g(x(this,Xl))}set descriptionNode(e){H(x(this,Xl),e,!0)}get errorId(){return g(x(this,Jl))}set errorId(e){H(x(this,Jl),e,!0)}get descriptionId(){return g(x(this,Ql))}set descriptionId(e){H(x(this,Ql),e,!0)}get snippetProps(){return g(x(this,Lf))}}Xn=new WeakMap,Gl=new WeakMap,Ps=new WeakMap,As=new WeakMap,Kl=new WeakMap,If=new WeakMap,Rf=new WeakMap,Nf=new WeakMap,Ff=new WeakMap,ql=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,Lf=new WeakMap;var ec,Ms,tc,jf,Bf,zf;class dE{constructor(e,t){M(this,ec);M(this,Ms);R(this,"field");M(this,tc,C(()=>ku(this.field.errors)));M(this,jf,C(()=>({errors:this.field.errors,errorProps:this.errorProps})));M(this,Bf,C(()=>({id:x(this,Ms).current,"data-fs-error":g(x(this,tc)),"data-fs-field-errors":"","aria-live":"assertive"})));M(this,zf,C(()=>({"data-fs-field-error":"","data-fs-error":g(x(this,tc))})));mt(this,ec,e.ref),mt(this,Ms,e.id),this.field=t,Hm({id:x(this,Ms),ref:x(this,ec),onRefChange:r=>{this.field.errorNode=r}})}get snippetProps(){return g(x(this,jf))}get fieldErrorsProps(){return g(x(this,Bf))}get errorProps(){return g(x(this,zf))}}ec=new WeakMap,Ms=new WeakMap,tc=new WeakMap,jf=new WeakMap,Bf=new WeakMap,zf=new WeakMap;var nc,Os,Vf;class fE{constructor(e,t){M(this,nc);M(this,Os);R(this,"field");M(this,Vf,C(()=>({id:x(this,Os).current,"data-fs-error":ku(this.field.errors),"data-fs-description":""})));mt(this,nc,e.ref),mt(this,Os,e.id),this.field=t,Hm({id:x(this,Os),ref:x(this,nc),onRefChange:r=>{this.field.descriptionNode=r}})}get props(){return g(x(this,Vf))}}nc=new WeakMap,Os=new WeakMap,Vf=new WeakMap;var rc,ic,Wf,Uf;class hE{constructor(e,t){M(this,rc);R(this,"field");R(this,"labelId",At(Vs()));M(this,ic,ee(ct(Vs())));M(this,Wf,C(()=>({id:this.id,name:this.field.name,"data-fs-error":ku(this.field.errors),"aria-describedby":oE({fieldErrorsId:this.field.errorId,descriptionId:this.field.descriptionId,errors:this.field.errors}),"aria-invalid":cE(this.field.errors),"aria-required":lE(this.field.constraints),"data-fs-control":""})));M(this,Uf,C(()=>({id:this.labelId.current,"data-fs-label":"","data-fs-error":ku(this.field.errors),for:this.id})));mt(this,rc,e.id),this.field=t,sE(()=>x(this,rc).current,r=>{this.id=r})}get id(){return g(x(this,ic))}set id(e){H(x(this,ic),e,!0)}get props(){return g(x(this,Wf))}get labelProps(){return g(x(this,Uf))}}rc=new WeakMap,ic=new WeakMap,Wf=new WeakMap,Uf=new WeakMap;var sc,Cs;class gE{constructor(e,t){M(this,sc);M(this,Cs);R(this,"control");mt(this,sc,e.ref),mt(this,Cs,e.id),this.control=t,this.control.labelId=x(this,Cs),Hm({id:x(this,Cs),ref:x(this,sc)})}get props(){return this.control.labelProps}}sc=new WeakMap,Cs=new WeakMap;const S0=Symbol.for("formsnap.form-field"),T0=Symbol.for("formsnap.form-control");function mE(n){return Ia(S0,new uE(n))}function Zm(){return rm(S0)}function pE(n){return new dE(n,Zm())}function vE(n){return new fE(n,Zm())}function yE(n){return Ia(T0,new hE(n,Zm()))}function bE(){return rm(T0)}function _E(n){return new gE(n,bE())}var xE=$("<div><!></div>");function wE(n,e){re(e,!0);let t=w(e,"id",19,Vs),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=vE({id:At.with(()=>t()),ref:At.with(()=>r(),d=>r(d))}),a=C(()=>Um(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=xE();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}function SE(n,e){re(e,!0);const t=mE({form:At.with(()=>e.form),name:At.with(()=>e.name)});var r=I(),i=P(r);le(i,()=>e.children??Ae,()=>t.snippetProps),b(n,r),ie()}function TE(n,e){re(e,!0);let t=w(e,"id",19,Vs);const r=yE({id:At.with(()=>t())});var i=I(),s=P(i);le(s,()=>e.children??Ae,()=>({props:r.props})),b(n,i),ie()}var kE=$("<label><!></label>");function PE(n,e){re(e,!0);let t=w(e,"id",19,Vs),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=_E({id:At.with(()=>t()),ref:At.with(()=>r(),d=>r(d))}),a=C(()=>Um(i,s.props));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h);le(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=kE();let f;var m=ne(h);le(m,()=>e.children??Ae),Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}var AE=$("<div> </div>"),ME=$("<div><!></div>");function OE(n,e){re(e,!0);let t=w(e,"id",19,Vs),r=w(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=pE({id:At.with(()=>t()),ref:At.with(()=>r(),d=>r(d))}),a=C(()=>Um(i,s.fieldErrorsProps));var o=I(),l=P(o);{var c=d=>{var h=I(),f=P(h),m=yt(()=>({props:g(a),...s.snippetProps}));le(f,()=>e.child,()=>g(m)),b(d,h)},u=d=>{var h=ME();let f;var m=ne(h);{var p=y=>{var _=I(),S=P(_);le(S,()=>e.children,()=>s.snippetProps),b(y,_)},v=y=>{var _=I(),S=P(_);xt(S,17,()=>s.field.errors,wt,(T,k)=>{var O=AE();let D;var j=ne(O,!0);Q(O),fe(()=>{D=Oe(O,D,{...s.errorProps}),Xe(j,g(k))}),b(T,O)}),b(y,_)};ve(m,y=>{e.children?y(p):y(v,!1)})}Q(h),fe(()=>f=Oe(h,f,{...g(a)})),b(d,h)};ve(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ie()}function Fg(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("text-sm text-muted-foreground",e.class));Y(s,()=>wE,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function Zr(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","children","class"]);var i=I(),s=P(i);Y(s,()=>PE,(a,o)=>{o(a,Pe(()=>r,{get ref(){return t()},set ref(c){t(c)},child:(c,u)=>{let d=()=>u==null?void 0:u().props;const h=C(()=>et("data-[fs-error]:text-destructive",e.class));Ab(c,Pe(d,{get class(){return g(h)},children:(f,m)=>{var p=I(),v=P(p);le(v,()=>e.children??Ae),b(f,p)},$$slots:{default:!0}}))},$$slots:{child:!0}}))}),b(n,i),ie()}var CE=$("<div> </div>");function Yr(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","errorClasses","children"]);var i=I(),s=P(i);const a=C(()=>et("text-sm font-medium text-destructive",e.class));Y(s,()=>OE,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(u){t(u)},children:(u,d)=>{let h=()=>d==null?void 0:d().errors,f=()=>d==null?void 0:d().errorProps;var m=I(),p=P(m);{var v=_=>{var S=I(),T=P(S);le(T,()=>e.children,()=>({errors:h(),errorProps:f()})),b(_,S)},y=_=>{var S=I(),T=P(S);xt(T,17,h,wt,(k,O)=>{var D=CE();let j;var V=ne(D,!0);Q(D),fe(Z=>{j=Oe(D,j,{...f(),class:Z}),Xe(V,g(O))},[()=>et(e.errorClasses)]),b(k,D)}),b(_,S)};ve(p,_=>{e.children?_(v):_(y,!1)})}b(u,m)},$$slots:{default:!0}}))}),b(n,i),ie()}var DE=$("<div><!></div>");function $r(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","form","name","children"]);var i=I(),s=P(i);Y(s,()=>SE,(a,o)=>{o(a,{get form(){return e.form},get name(){return e.name},children:(c,u)=>{let d=()=>u==null?void 0:u().constraints,h=()=>u==null?void 0:u().errors,f=()=>u==null?void 0:u().tainted,m=()=>u==null?void 0:u().value;var p=DE();let v;var y=ne(p);le(y,()=>e.children??Ae,()=>({constraints:d(),errors:h(),tainted:f(),value:m()})),Q(p),ir(p,_=>t(_),()=>t()),fe(_=>v=Oe(p,v,{class:_,...r}),[()=>et("space-y-2",e.class)]),b(c,p)},$$slots:{default:!0}})}),b(n,i),ie()}function k0(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref"]);var i=I(),s=P(i);Y(s,()=>gn,(a,o)=>{o(a,Pe({type:"submit"},()=>r,{get ref(){return t()},set ref(l){t(l)}}))}),b(n,i),ie()}const Gr=TE;var EE=$("<!> <!>",1),IE=$("<!> <!>",1),RE=$("<!> <!>",1),NE=$("<!> <!> <!>",1),FE=$("<!> <!>",1),LE=$("<!> <!>",1),jE=$("<!> <!>",1),BE=$("<!> <!>",1),zE=$("<!> <!> <form><!> <!> <!> <!> <!></form>",1),VE=$("<!> <!>",1);function WE(n,e){re(e,!0);const[t,r]=hb(),i=()=>gb(o,"$formData",t);let s=ee(!1);const a=l0(e.data.pollform,{validators:v0(X_)}),{form:o}=a;async function l(d){console.log("creating poll"),console.log(i()),d.preventDefault();const h=await a.validateForm({update:!0});h.valid&&(console.log("validation dueDate"),console.log(h.data.dueDate),e.project.appendInProject("Polls",{id:crypto.randomUUID(),title:h.data.title,description:h.data.description??"",dueDate:h.data.dueDate,options:h.data.options.split(",").map(f=>({id:crypto.randomUUID(),title:f,likedUsers:[],neutralUsers:[],dislikedUsers:[]}))}),H(s,!1),a.reset())}var c=I(),u=P(c);Y(u,()=>Ds,(d,h)=>{h(d,{get open(){return g(s)},set open(f){H(s,f,!0)},children:(f,m)=>{var p=VE(),v=P(p);const y=C(()=>Ys({variant:"outline"}));Y(v,()=>Fa,(S,T)=>{T(S,{get class(){return g(y)},children:(k,O)=>{Ie();var D=Le("Create a new Poll");b(k,D)},$$slots:{default:!0}})});var _=X(v,2);Y(_,()=>Es,(S,T)=>{T(S,{children:(k,O)=>{var D=I(),j=P(D);Y(j,()=>Is,(V,Z)=>{Z(V,{children:(L,z)=>{var J=zE(),G=P(J);Y(G,()=>dm,(se,he)=>{he(se,{children:(be,Te)=>{Ie();var te=Le("Create new poll");b(be,te)},$$slots:{default:!0}})});var E=X(G,2);Y(E,()=>fm,(se,he)=>{he(se,{children:(be,Te)=>{Ie();var te=Le("Enter poll question and options");b(be,te)},$$slots:{default:!0}})});var F=X(E,2),W=ne(F);Y(W,()=>$r,(se,he)=>{he(se,{form:a,name:"title",children:(be,Te)=>{var te=IE(),ae=P(te);Y(ae,()=>Gr,(xe,ue)=>{ue(xe,{children:(Ee,we)=>{let Re=()=>we==null?void 0:we().props;var Ne=EE(),Ve=P(Ne);Y(Ve,()=>Zr,(je,tt)=>{tt(je,{children:(ht,Tt)=>{Ie();var gt=Le("Title");b(ht,gt)},$$slots:{default:!0}})});var De=X(Ve,2);Pr(De,Pe(Re,{get value(){return i().title},set value(je){Hr(o,_t(i).title=je,_t(i))}})),b(Ee,Ne)},$$slots:{default:!0}})});var ge=X(ae,2);Y(ge,()=>Yr,(xe,ue)=>{ue(xe,{})}),b(be,te)},$$slots:{default:!0}})});var N=X(W,2);Y(N,()=>$r,(se,he)=>{he(se,{form:a,name:"description",children:(be,Te)=>{var te=NE(),ae=P(te);Y(ae,()=>Gr,(ue,ke)=>{ke(ue,{children:(we,Re)=>{let Ne=()=>Re==null?void 0:Re().props;var Ve=RE(),De=P(Ve);Y(De,()=>Zr,(tt,ht)=>{ht(tt,{children:(Tt,gt)=>{Ie();var Et=Le("Description");b(Tt,Et)},$$slots:{default:!0}})});var je=X(De,2);Pr(je,Pe(Ne,{get value(){return i().description},set value(tt){Hr(o,_t(i).description=tt,_t(i))}})),b(we,Ve)},$$slots:{default:!0}})});var ge=X(ae,2);Y(ge,()=>Fg,(ue,ke)=>{ke(ue,{})});var xe=X(ge,2);Y(xe,()=>Yr,(ue,ke)=>{ke(ue,{})}),b(be,te)},$$slots:{default:!0}})});var U=X(N,2);Y(U,()=>$r,(se,he)=>{he(se,{form:a,name:"dueDate",children:(be,Te)=>{var te=LE(),ae=P(te);Y(ae,()=>Gr,(xe,ue)=>{ue(xe,{children:(Ee,we)=>{let Re=()=>we==null?void 0:we().props;var Ne=FE(),Ve=P(Ne);Y(Ve,()=>Zr,(je,tt)=>{tt(je,{children:(ht,Tt)=>{Ie();var gt=Le("Due date");b(ht,gt)},$$slots:{default:!0}})});var De=X(Ve,2);Pr(De,Pe(Re,{type:"date",get value(){return i().dueDate},set value(je){Hr(o,_t(i).dueDate=je,_t(i))}})),b(Ee,Ne)},$$slots:{default:!0}})});var ge=X(ae,2);Y(ge,()=>Yr,(xe,ue)=>{ue(xe,{})}),b(be,te)},$$slots:{default:!0}})});var K=X(U,2);Y(K,()=>$r,(se,he)=>{he(se,{form:a,name:"options",children:(be,Te)=>{var te=BE(),ae=P(te);Y(ae,()=>Gr,(xe,ue)=>{ue(xe,{children:(Ee,we)=>{let Re=()=>we==null?void 0:we().props;var Ne=jE(),Ve=P(Ne);Y(Ve,()=>Zr,(je,tt)=>{tt(je,{children:(ht,Tt)=>{Ie();var gt=Le("Options (comma-separated)");b(ht,gt)},$$slots:{default:!0}})});var De=X(Ve,2);Pr(De,Pe(Re,{get value(){return i().options},set value(je){Hr(o,_t(i).options=je,_t(i))}})),b(Ee,Ne)},$$slots:{default:!0}})});var ge=X(ae,2);Y(ge,()=>Yr,(xe,ue)=>{ue(xe,{})}),b(be,te)},$$slots:{default:!0}})});var ce=X(K,2);Y(ce,()=>hm,(se,he)=>{he(se,{children:(be,Te)=>{var te=I(),ae=P(te);Y(ae,()=>k0,(ge,xe)=>{xe(ge,{children:(ue,ke)=>{Ie();var Ee=Le("Create");b(ue,Ee)},$$slots:{default:!0}})}),b(be,te)},$$slots:{default:!0}})}),Q(F),Jt("submit",F,l),b(L,J)},$$slots:{default:!0}})}),b(k,D)},$$slots:{default:!0}})}),b(f,p)},$$slots:{default:!0}})}),b(n,c),ie(),r()}const UE=bb({base:"focus:ring-ring inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/80 border-transparent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border-transparent",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80 border-transparent",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function P0(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"variant",3,"default"),i=ye(e,["$$slots","$$events","$$legacy","ref","href","class","variant","children"]);var s=I(),a=P(s);cu(a,()=>e.href?"a":"span",!1,(o,l)=>{ir(o,h=>t(h),()=>t());let c;fe(h=>c=Oe(o,c,{href:e.href,class:h,...i}),[()=>et(UE({variant:r()}),e.class)]);var u=I(),d=P(u);le(d,()=>e.children??Ae),b(l,u)}),b(n,s),ie()}var HE=$("<!> <!> <!>",1),ZE=$("<!> <!>",1),YE=$("<!> <!>",1);function $E(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"value",15),i=w(e,"placeholder",15),s=w(e,"weekdayFormat",3,"short"),a=ye(e,["$$slots","$$events","$$legacy","ref","value","placeholder","class","weekdayFormat"]);var o=I(),l=P(o);const c=C(()=>et("p-3",e.class));Y(l,()=>PT,(u,d)=>{d(u,Pe({get weekdayFormat(){return s()},get class(){return g(c)}},()=>a,{get value(){return r()},set value(f){r(f)},get ref(){return t()},set ref(f){t(f)},get placeholder(){return i()},set placeholder(f){i(f)},children:(f,m)=>{let p=()=>m==null?void 0:m().months,v=()=>m==null?void 0:m().weekdays;var y=YE(),_=P(y);Y(_,()=>XE,(T,k)=>{k(T,{children:(O,D)=>{var j=HE(),V=P(j);Y(V,()=>oI,(z,J)=>{J(z,{})});var Z=X(V,2);Y(Z,()=>eI,(z,J)=>{J(z,{})});var L=X(Z,2);Y(L,()=>sI,(z,J)=>{J(z,{})}),b(O,j)},$$slots:{default:!0}})});var S=X(_,2);Y(S,()=>QE,(T,k)=>{k(T,{children:(O,D)=>{var j=I(),V=P(j);xt(V,17,p,wt,(Z,L)=>{var z=I(),J=P(z);Y(J,()=>qE,(G,E)=>{E(G,{children:(F,W)=>{var N=ZE(),U=P(N);Y(U,()=>nI,(ce,se)=>{se(ce,{children:(he,be)=>{var Te=I(),te=P(Te);Y(te,()=>yv,(ae,ge)=>{ge(ae,{class:"flex",children:(xe,ue)=>{var ke=I(),Ee=P(ke);xt(Ee,17,v,wt,(we,Re)=>{var Ne=I(),Ve=P(Ne);Y(Ve,()=>rI,(De,je)=>{je(De,{children:(tt,ht)=>{Ie();var Tt=Le();fe(gt=>Xe(Tt,gt),[()=>g(Re).slice(0,2)]),b(tt,Tt)},$$slots:{default:!0}})}),b(we,Ne)}),b(xe,ke)},$$slots:{default:!0}})}),b(he,Te)},$$slots:{default:!0}})});var K=X(U,2);Y(K,()=>tI,(ce,se)=>{se(ce,{children:(he,be)=>{var Te=I(),te=P(Te);xt(te,17,()=>g(L).weeks,wt,(ae,ge)=>{var xe=I(),ue=P(xe);Y(ue,()=>yv,(ke,Ee)=>{Ee(ke,{class:"mt-2 w-full",children:(we,Re)=>{var Ne=I(),Ve=P(Ne);xt(Ve,17,()=>g(ge),wt,(De,je)=>{var tt=I(),ht=P(tt);Y(ht,()=>GE,(Tt,gt)=>{gt(Tt,{get date(){return g(je)},get month(){return g(L).value},children:(Et,Ye)=>{var zt=I(),Kt=P(zt);Y(Kt,()=>KE,(gr,A)=>{A(gr,{})}),b(Et,zt)},$$slots:{default:!0}})}),b(De,tt)}),b(we,Ne)},$$slots:{default:!0}})}),b(ae,xe)}),b(he,Te)},$$slots:{default:!0}})}),b(F,N)},$$slots:{default:!0}})}),b(Z,z)}),b(O,j)},$$slots:{default:!0}})}),b(f,y)},$$slots:{default:!0}}))}),b(n,o),ie()}function GE(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("relative size-9 p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent [&:has([data-selected][data-outside-month])]:bg-accent/50",e.class));Y(s,()=>RT,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function KE(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et(Ys({variant:"ghost"}),"size-9 p-0 font-normal","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-month]:pointer-events-none data-[outside-month]:text-muted-foreground data-[outside-month]:opacity-50 [&[data-outside-month][data-selected]]:bg-accent/50 [&[data-outside-month][data-selected]]:text-muted-foreground [&[data-outside-month][data-selected]]:opacity-30",e.class));Y(s,()=>MT,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function qE(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("w-full border-collapse space-y-1",e.class));Y(s,()=>CT,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function XE(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("relative flex w-full items-center justify-between pt-1",e.class));Y(s,()=>WT,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}var JE=$("<div><!></div>");function QE(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=JE();let s;var a=ne(i);le(a,()=>e.children??Ae),Q(i),ir(i,o=>t(o),()=>t()),fe(o=>s=Oe(i,s,{class:o,...r}),[()=>et("mt-4 flex flex-col space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0",e.class)]),b(n,i),ie()}function yv(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("flex",e.class));Y(s,()=>zT,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function eI(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("text-sm font-medium",e.class));Y(s,()=>HT,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function tI(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et(e.class));Y(s,()=>ET,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function nI(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et(e.class));Y(s,()=>FT,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function rI(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=P(i);const a=C(()=>et("w-9 rounded-md text-[0.8rem] font-normal text-muted-foreground",e.class));Y(s,()=>jT,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}const iI=n=>{DM(n,{class:"size-4"})};function sI(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=I(),s=P(i);const a=C(()=>et(Ys({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)),o=C(()=>e.children||iI);Y(s,()=>YT,(l,c)=>{c(l,Pe({get class(){return g(a)},get children(){return g(o)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))}),b(n,i),ie()}const aI=n=>{CM(n,{class:"size-4"})};function oI(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=I(),s=P(i);const a=C(()=>et(Ys({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)),o=C(()=>e.children||aI);Y(s,()=>GT,(l,c)=>{c(l,Pe({get class(){return g(a)},get children(){return g(o)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))}),b(n,i),ie()}var lI=$(" <div> </div>",1),cI=$("<div><!></div>"),uI=$("<p>No polls available.</p>"),dI=$("<!> <div><!></div>",1);function fI(n,e){re(e,!0),console.log("data in PollsTab: "+e.data);let t=e.project.polls;function r(a){console.log("Poll clicked:",a.title," ",a.dueDate)}var i=I(),s=P(i);Y(s,()=>qi,(a,o)=>{o(a,{value:"polls",children:(l,c)=>{var u=dI(),d=P(u);WE(d,{get project(){return e.project},get data(){return e.data}});var h=X(d,2),f=ne(h);{var m=v=>{var y=I(),_=P(y);xt(_,17,()=>t,wt,(S,T)=>{var k=cI(),O=ne(k);gn(O,{onclick:()=>r(g(T)),children:(D,j)=>{Ie();var V=lI(),Z=P(V),L=X(Z),z=ne(L);Q(L),fe(()=>{Xe(Z,`${g(T).title??""} `),Xe(z,`Due: ${g(T).dueDate??""}`)}),b(D,V)},$$slots:{default:!0}}),Q(k),b(S,k)}),b(v,y)},p=v=>{var y=uI();b(v,y)};ve(f,v=>{t.length>0?v(m):v(p,!1)})}Q(h),b(l,u)},$$slots:{default:!0}})}),b(n,i),ie()}var hI=$("<!> <!>",1),gI=$("<!> loading...",1),mI=$('<div class="grid-columns-1 grid grid-rows-1"><!> <img alt="loading..." class="z-50 col-start-1 row-start-1 mx-auto h-[150px] w-[150px] columns-1"></div> <a target="_blank"> </a>',1),pI=$("<!> <!> <!>",1),vI=$("<!> <!>",1);function yI(n,e){re(e,!0);let t=ee(void 0),r=ee(!1);async function i(){let l=await fetch(yb+uu+"/invite"+location.search,{mode:"cors",credentials:"include"}),c=await l.text();return l.status!==200&&(mb(JSON.parse(c).error),H(r,!1)),location.origin+Ea+"/join?id="+c}async function s(){H(t,void 0),H(t,await i(),!0)}var a=I(),o=P(a);Y(o,()=>Ds,(l,c)=>{c(l,{get open(){return g(r)},set open(u){H(r,u,!0)},children:(u,d)=>{var h=vI(),f=P(h);const m=C(()=>Ys({variant:"outline"}));Y(f,()=>Fa,(v,y)=>{y(v,{get class(){return g(m)},onclick:s,children:(_,S)=>{Ie();var T=Le("Invite");b(_,T)},$$slots:{default:!0}})});var p=X(f,2);Y(p,()=>Es,(v,y)=>{y(v,{class:"sm:max-w-[425px]",children:(_,S)=>{var T=pI(),k=P(T);Y(k,()=>Is,(Z,L)=>{L(Z,{children:(z,J)=>{var G=hI(),E=P(G);Y(E,()=>dm,(W,N)=>{N(W,{children:(U,K)=>{Ie();var ce=Le("Invite Teammates");b(U,ce)},$$slots:{default:!0}})});var F=X(E,2);Y(F,()=>fm,(W,N)=>{N(W,{children:(U,K)=>{Ie();var ce=Le("Have everyone scan or visit this link, which expires in a week.");b(U,ce)},$$slots:{default:!0}})}),b(z,G)},$$slots:{default:!0}})});var O=X(k,2);{var D=Z=>{var L=gI(),z=P(L);wp(z,{class:"mx-auto h-[150px] w-[150px] columns-1"}),Ie(),b(Z,L)},j=Z=>{var L=mI(),z=P(L),J=ne(z);wp(J,{class:"col-start-1 row-start-1 mx-auto h-[150px] w-[150px] columns-1"});var G=X(J,2);Q(z);var E=X(z,2),F=ne(E,!0);Q(E),fe(()=>{ni(G,"src","https://quickchart.io/qr?text="+g(t)),ni(E,"href",g(t)),Xe(F,g(t))}),b(Z,L)};ve(O,Z=>{g(t)===void 0?Z(D):Z(j,!1)})}var V=X(O,2);Y(V,()=>hm,(Z,L)=>{L(Z,{})}),b(_,T)},$$slots:{default:!0}})}),b(u,h)},$$slots:{default:!0}})}),b(n,a),ie()}var bI=$('<div class="flex items-center justify-between space-x-4"><div class="flex items-center space-x-4"><!> <div><p class="text-sm font-medium leading-none"> </p> <p class="text-sm text-blue-500"><a>Contact</a></p></div></div></div>');function _I(n,e){re(e,!0),Qe(()=>console.log("DETAILS",e.details));var t=bI(),r=ne(t),i=ne(r);sm(i,{get project(){return e.project},get userID(){return e.details.id}});var s=X(i,2),a=ne(s),o=ne(a);Q(a);var l=X(a,2),c=ne(l);Q(l),Q(s),Q(r),Q(t),fe(()=>{Xe(o,`${e.details.firstName??""} ${e.details.lastName??""}`),ni(c,"href",`mailto:${e.details.email??""}`)}),b(n,t),ie()}var xI=$("<!> <!>",1),wI=$("<!> <!>",1);function SI(n,e){re(e,!0);var t=I(),r=P(t);Y(r,()=>Yw,(i,s)=>{s(i,{class:"mt-2 w-fit",children:(a,o)=>{var l=wI(),c=P(l);Y(c,()=>$w,(d,h)=>{h(d,{children:(f,m)=>{var p=xI(),v=P(p);Y(v,()=>Gw,(_,S)=>{S(_,{children:(T,k)=>{Ie();var O=Le("Team Members");b(T,O)},$$slots:{default:!0}})});var y=X(v,2);Y(y,()=>Kw,(_,S)=>{S(_,{children:(T,k)=>{Ie();var O=Le("Invite your team members to collaborate");b(T,O)},$$slots:{default:!0}})}),b(f,p)},$$slots:{default:!0}})});var u=X(c,2);Y(u,()=>HM,(d,h)=>{h(d,{class:"grid gap-6",children:(f,m)=>{var p=I(),v=P(p);xt(v,17,()=>e.project.users,wt,(y,_)=>{_I(y,{get details(){return g(_)},get project(){return e.project}})}),b(f,p)},$$slots:{default:!0}})}),b(a,l)},$$slots:{default:!0}})}),b(n,t),ie()}var TI=$("<!> <div><!> <!></div>",1),kI=$("<!> <!>",1),PI=$("<!> <div><!> <!></div>",1),AI=$("<!> <!>",1),MI=$("<!> <!> <!> <!>",1);function OI(n,e){re(e,!0);let t=ee(!1),r=ee(!1);var i=I(),s=P(i);Y(s,()=>qi,(a,o)=>{o(a,{value:"settings",children:(l,c)=>{var u=MI(),d=P(u);yI(d,{});var h=X(d,2);Y(h,()=>Ds,(p,v)=>{v(p,{get open(){return g(t)},set open(y){H(t,y,!0)},children:(y,_)=>{var S=kI(),T=P(S);Y(T,()=>Fa,(O,D)=>{D(O,{children:(j,V)=>{gn(j,{variant:"destructive",children:(Z,L)=>{Ie();var z=Le("Leave Project");b(Z,z)},$$slots:{default:!0}})},$$slots:{default:!0}})});var k=X(T,2);Y(k,()=>Es,(O,D)=>{D(O,{children:(j,V)=>{var Z=TI(),L=P(Z);Y(L,()=>Is,(E,F)=>{F(E,{children:(W,N)=>{Ie();var U=Le("Are you sure you want to leave the project?");b(W,U)},$$slots:{default:!0}})});var z=X(L,2),J=ne(z);gn(J,{onclick:()=>{e.project.leave()},children:(E,F)=>{Ie();var W=Le("Confirm");b(E,W)},$$slots:{default:!0}});var G=X(J,2);gn(G,{onclick:()=>{H(t,!1)},children:(E,F)=>{Ie();var W=Le("Cancel");b(E,W)},$$slots:{default:!0}}),Q(z),b(j,Z)},$$slots:{default:!0}})}),b(y,S)},$$slots:{default:!0}})});var f=X(h,2);Y(f,()=>Ds,(p,v)=>{v(p,{get open(){return g(r)},set open(y){H(r,y,!0)},children:(y,_)=>{var S=AI(),T=P(S);Y(T,()=>Fa,(O,D)=>{D(O,{children:(j,V)=>{gn(j,{variant:"destructive",children:(Z,L)=>{Ie();var z=Le("Delete Project");b(Z,z)},$$slots:{default:!0}})},$$slots:{default:!0}})});var k=X(T,2);Y(k,()=>Es,(O,D)=>{D(O,{children:(j,V)=>{var Z=PI(),L=P(Z);Y(L,()=>Is,(E,F)=>{F(E,{children:(W,N)=>{Ie();var U=Le("Are you sure you want to delete the project?");b(W,U)},$$slots:{default:!0}})});var z=X(L,2),J=ne(z);gn(J,{onclick:()=>{e.project.delete()},children:(E,F)=>{Ie();var W=Le("Confirm");b(E,W)},$$slots:{default:!0}});var G=X(J,2);gn(G,{onclick:()=>{H(r,!1)},children:(E,F)=>{Ie();var W=Le("Cancel");b(E,W)},$$slots:{default:!0}}),Q(z),b(j,Z)},$$slots:{default:!0}})}),b(y,S)},$$slots:{default:!0}})});var m=X(f,2);SI(m,{get project(){return e.project}}),b(l,u)},$$slots:{default:!0}})}),b(n,i),ie()}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gc(n){return n+.5|0}const Kr=(n,e,t)=>Math.max(Math.min(n,t),e);function va(n){return Kr(gc(n*2.55),0,255)}function Qr(n){return Kr(gc(n*255),0,255)}function wr(n){return Kr(gc(n/2.55)/100,0,1)}function bv(n){return Kr(gc(n*100),0,100)}const An={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Lg=[..."0123456789ABCDEF"],CI=n=>Lg[n&15],DI=n=>Lg[(n&240)>>4]+Lg[n&15],Ac=n=>(n&240)>>4===(n&15),EI=n=>Ac(n.r)&&Ac(n.g)&&Ac(n.b)&&Ac(n.a);function II(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&An[n[1]]*17,g:255&An[n[2]]*17,b:255&An[n[3]]*17,a:e===5?An[n[4]]*17:255}:(e===7||e===9)&&(t={r:An[n[1]]<<4|An[n[2]],g:An[n[3]]<<4|An[n[4]],b:An[n[5]]<<4|An[n[6]],a:e===9?An[n[7]]<<4|An[n[8]]:255})),t}const RI=(n,e)=>n<255?e(n):"";function NI(n){var e=EI(n)?CI:DI;return n?"#"+e(n.r)+e(n.g)+e(n.b)+RI(n.a,e):void 0}const FI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A0(n,e,t){const r=e*Math.min(t,1-t),i=(s,a=(s+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function LI(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function jI(n,e,t){const r=A0(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function BI(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Ym(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=BI(t,r,i,u,s),l=l*60+.5),[l|0,c||0,o]}function $m(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Qr)}function Gm(n,e,t){return $m(A0,n,e,t)}function zI(n,e,t){return $m(jI,n,e,t)}function VI(n,e,t){return $m(LI,n,e,t)}function M0(n){return(n%360+360)%360}function WI(n){const e=FI.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?va(+e[5]):Qr(+e[5]));const i=M0(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=zI(i,s,a):e[1]==="hsv"?r=VI(i,s,a):r=Gm(i,s,a),{r:r[0],g:r[1],b:r[2],a:t}}function UI(n,e){var t=Ym(n);t[0]=M0(t[0]+e),t=Gm(t),n.r=t[0],n.g=t[1],n.b=t[2]}function HI(n){if(!n)return;const e=Ym(n),t=e[0],r=bv(e[1]),i=bv(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${wr(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const _v={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZI(){const n={},e=Object.keys(xv),t=Object.keys(_v);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<t.length;i++)s=t[i],o=o.replace(s,_v[s]);s=parseInt(xv[a],16),n[o]=[s>>16&255,s>>8&255,s&255]}return n}let Mc;function YI(n){Mc||(Mc=ZI(),Mc.transparent=[0,0,0,0]);const e=Mc[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const $I=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GI(n){const e=$I.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?va(a):Kr(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?va(r):Kr(r,0,255)),i=255&(e[4]?va(i):Kr(i,0,255)),s=255&(e[6]?va(s):Kr(s,0,255)),{r,g:i,b:s,a:t}}}function KI(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${wr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Vh=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ts=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function qI(n,e,t){const r=ts(wr(n.r)),i=ts(wr(n.g)),s=ts(wr(n.b));return{r:Qr(Vh(r+t*(ts(wr(e.r))-r))),g:Qr(Vh(i+t*(ts(wr(e.g))-i))),b:Qr(Vh(s+t*(ts(wr(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Oc(n,e,t){if(n){let r=Ym(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Gm(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function O0(n,e){return n&&Object.assign(e||{},n)}function wv(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Qr(n[3]))):(e=O0(n,{r:0,g:0,b:0,a:1}),e.a=Qr(e.a)),e}function XI(n){return n.charAt(0)==="r"?GI(n):WI(n)}class no{constructor(e){if(e instanceof no)return e;const t=typeof e;let r;t==="object"?r=wv(e):t==="string"&&(r=II(e)||YI(e)||XI(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=O0(this._rgb);return e&&(e.a=wr(e.a)),e}set rgb(e){this._rgb=wv(e)}rgbString(){return this._valid?KI(this._rgb):void 0}hexString(){return this._valid?NI(this._rgb):void 0}hslString(){return this._valid?HI(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,o=2*a-1,l=r.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=qI(this._rgb,e._rgb,t)),this}clone(){return new no(this.rgb)}alpha(e){return this._rgb.a=Qr(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=gc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Oc(this._rgb,2,e),this}darken(e){return Oc(this._rgb,2,-e),this}saturate(e){return Oc(this._rgb,1,e),this}desaturate(e){return Oc(this._rgb,1,-e),this}rotate(e){return UI(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function pr(){}const JI=(()=>{let n=0;return()=>n++})();function lt(n){return n==null}function jt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function rt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function En(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function $n(n,e){return En(n)?n:e}function Je(n,e){return typeof n>"u"?e:n}const QI=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,C0=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function pt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function dt(n,e,t,r){let i,s,a;if(jt(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(rt(n))for(a=Object.keys(n),s=a.length,i=0;i<s;i++)e.call(t,n[a[i]],a[i])}function Pu(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Au(n){if(jt(n))return n.map(Au);if(rt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Au(n[t[i]]);return e}return n}function D0(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function eR(n,e,t,r){if(!D0(n))return;const i=e[n],s=t[n];rt(i)&&rt(s)?ro(i,s,r):e[n]=Au(s)}function ro(n,e,t){const r=jt(e)?e:[e],i=r.length;if(!rt(n))return n;t=t||{};const s=t.merger||eR;let a;for(let o=0;o<i;++o){if(a=r[o],!rt(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],n,a,t)}return n}function Pa(n,e){return ro(n,e,{merger:tR})}function tR(n,e,t){if(!D0(n))return;const r=e[n],i=t[n];rt(r)&&rt(i)?Pa(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Au(i))}const Sv={"":n=>n,x:n=>n.x,y:n=>n.y};function nR(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function rR(n){const e=nR(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function pi(n,e){return(Sv[e]||(Sv[e]=rR(e)))(n)}function Km(n){return n.charAt(0).toUpperCase()+n.slice(1)}const io=n=>typeof n<"u",vi=n=>typeof n=="function",Tv=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function iR(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Mt=Math.PI,Ot=2*Mt,sR=Ot+Mt,Mu=Number.POSITIVE_INFINITY,aR=Mt/180,Bt=Mt/2,Pi=Mt/4,kv=Mt*2/3,E0=Math.log10,rr=Math.sign;function Aa(n,e,t){return Math.abs(n-e)<t}function Pv(n){const e=Math.round(n);n=Aa(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(E0(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function oR(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function lR(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function so(n){return!lR(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function cR(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function uR(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function tr(n){return n*(Mt/180)}function dR(n){return n*(180/Mt)}function Av(n){if(!En(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function I0(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Mt&&(s+=Ot),{angle:s,distance:i}}function jg(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function fR(n,e){return(n-e+sR)%Ot-Mt}function Br(n){return(n%Ot+Ot)%Ot}function ao(n,e,t,r){const i=Br(n),s=Br(e),a=Br(t),o=Br(s-i),l=Br(a-i),c=Br(i-s),u=Br(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function Qt(n,e,t){return Math.max(e,Math.min(t,n))}function hR(n){return Qt(n,-32768,32767)}function qr(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function qm(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const Ei=(n,e,t,r)=>qm(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),gR=(n,e,t)=>qm(n,t,r=>n[r][e]>=t);function mR(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const R0=["push","pop","shift","splice","unshift"];function pR(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),R0.forEach(t=>{const r="_onData"+Km(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return n._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function Mv(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(R0.forEach(s=>{delete n[s]}),delete n._chartjs)}function N0(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const F0=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function L0(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,F0.call(window,()=>{r=!1,n.apply(e,t)}))}}function vR(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Xm=n=>n==="start"?"left":n==="end"?"right":"center",Xt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,yR=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function bR(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:a,vScale:o,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=a.axis,{min:d,max:h,minDefined:f,maxDefined:m}=a.getUserBounds();if(f){if(i=Math.min(Ei(l,u,d).lo,t?r:Ei(e,u,a.getPixelForValue(d)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(v=>!lt(v[o.axis]));i-=Math.max(0,p)}i=Qt(i,0,r-1)}if(m){let p=Math.max(Ei(l,a.axis,h,!0).hi+1,t?0:Ei(e,u,a.getPixelForValue(h),!0).hi+1);if(c){const v=l.slice(p-1).findIndex(y=>!lt(y[o.axis]));p+=Math.max(0,v)}s=Qt(p,i,r)-i}else s=r-i}return{start:i,count:s}}function _R(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const Cc=n=>n===0||n===1,Ov=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ot/t)),Cv=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ot/t)+1,Ma={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Bt)+1,easeOutSine:n=>Math.sin(n*Bt),easeInOutSine:n=>-.5*(Math.cos(Mt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cc(n)?n:Ov(n,.075,.3),easeOutElastic:n=>Cc(n)?n:Cv(n,.075,.3),easeInOutElastic(n){return Cc(n)?n:n<.5?.5*Ov(n*2,.1125,.45):.5+.5*Cv(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ma.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ma.easeInBounce(n*2)*.5:Ma.easeOutBounce(n*2-1)*.5+.5};function Jm(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Dv(n){return Jm(n)?n:new no(n)}function Wh(n){return Jm(n)?n:new no(n).saturate(.5).darken(.1).hexString()}const xR=["x","y","borderWidth","radius","tension"],wR=["color","borderColor","backgroundColor"];function SR(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:wR},numbers:{type:"number",properties:xR}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function TR(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ev=new Map;function kR(n,e){e=e||{};const t=n+JSON.stringify(e);let r=Ev.get(t);return r||(r=new Intl.NumberFormat(n,e),Ev.set(t,r)),r}function nh(n,e,t){return kR(e,t).format(n)}const PR={values(n){return jt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=AR(n,t)}const a=E0(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),nh(n,r,l)}};function AR(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var j0={formatters:PR};function MR(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:j0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Yi=Object.create(null),Bg=Object.create(null);function Oa(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function Uh(n,e,t){return typeof e=="string"?ro(Oa(n,e),t):ro(Oa(n,""),e)}class OR{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Wh(i.backgroundColor),this.hoverBorderColor=(r,i)=>Wh(i.borderColor),this.hoverColor=(r,i)=>Wh(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Uh(this,e,t)}get(e){return Oa(this,e)}describe(e,t){return Uh(Bg,e,t)}override(e,t){return Uh(Yi,e,t)}route(e,t,r,i){const s=Oa(this,e),a=Oa(this,r),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[o],c=a[i];return rt(l)?Object.assign({},c,l):Je(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(t=>t(this))}}var Pt=new OR({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[SR,TR,MR]);function CR(n){return!n||lt(n.size)||lt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Iv(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function Ai(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Rv(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function zg(n,e,t,r){B0(n,e,t,r,null)}function B0(n,e,t,r,i){let s,a,o,l,c,u,d,h;const f=e.pointStyle,m=e.rotation,p=e.radius;let v=(m||0)*aR;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(v),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,r,i/2,p,0,0,Ot):n.arc(t,r,p,0,Ot),n.closePath();break;case"triangle":u=i?i/2:p,n.moveTo(t+Math.sin(v)*u,r-Math.cos(v)*p),v+=kv,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*p),v+=kv,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*p),n.closePath();break;case"rectRounded":c=p*.516,l=p-c,a=Math.cos(v+Pi)*l,d=Math.cos(v+Pi)*(i?i/2-c:l),o=Math.sin(v+Pi)*l,h=Math.sin(v+Pi)*(i?i/2-c:l),n.arc(t-d,r-o,c,v-Mt,v-Bt),n.arc(t+h,r-a,c,v-Bt,v),n.arc(t+d,r+o,c,v,v+Bt),n.arc(t-h,r+a,c,v+Bt,v+Mt),n.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,u=i?i/2:l,n.rect(t-u,r-l,2*u,2*l);break}v+=Pi;case"rectRot":d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(t-d,r-o),n.lineTo(t+h,r-a),n.lineTo(t+d,r+o),n.lineTo(t-h,r+a),n.closePath();break;case"crossRot":v+=Pi;case"cross":d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(t-d,r-o),n.lineTo(t+d,r+o),n.moveTo(t+h,r-a),n.lineTo(t-h,r+a);break;case"star":d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(t-d,r-o),n.lineTo(t+d,r+o),n.moveTo(t+h,r-a),n.lineTo(t-h,r+a),v+=Pi,d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(t-d,r-o),n.lineTo(t+d,r+o),n.moveTo(t+h,r-a),n.lineTo(t-h,r+a);break;case"line":a=i?i/2:Math.cos(v)*p,o=Math.sin(v)*p,n.moveTo(t-a,r-o),n.lineTo(t+a,r+o);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(v)*(i?i/2:p),r+Math.sin(v)*p);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function oo(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Qm(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function ep(n){n.restore()}function DR(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function ER(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function IR(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),lt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function RR(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,u),n.lineTo(o,u),n.stroke()}}function NR(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function lo(n,e,t,r,i,s={}){const a=jt(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,IR(n,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&NR(n,s.backdrop),o&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),lt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,r,s.maxWidth)),n.fillText(c,t,r,s.maxWidth),RR(n,t,r,c,s),r+=Number(i.lineHeight);n.restore()}function Ou(n,e){const{x:t,y:r,w:i,h:s,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*Mt,Mt,!0),n.lineTo(t,r+s-a.bottomLeft),n.arc(t+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Mt,Bt,!0),n.lineTo(t+i-a.bottomRight,r+s),n.arc(t+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Bt,0,!0),n.lineTo(t+i,r+a.topRight),n.arc(t+i-a.topRight,r+a.topRight,a.topRight,0,-Bt,!0),n.lineTo(t+a.topLeft,r)}const FR=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,LR=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jR(n,e){const t=(""+n).match(FR);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const BR=n=>+n||0;function tp(n,e){const t={},r=rt(e),i=r?Object.keys(e):e,s=rt(n)?r?a=>Je(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of i)t[a]=BR(s(a));return t}function z0(n){return tp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function gs(n){return tp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function In(n){const e=z0(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function en(n,e){n=n||{},e=e||Pt.font;let t=Je(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Je(n.style,e.style);r&&!(""+r).match(LR)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Je(n.family,e.family),lineHeight:jR(Je(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Je(n.weight,e.weight),string:""};return i.string=CR(i),i}function Dc(n,e,t,r){let i,s,a;for(i=0,s=n.length;i<s;++i)if(a=n[i],a!==void 0&&a!==void 0)return a}function zR(n,e,t){const{min:r,max:i}=n,s=C0(e,(i-r)/2),a=(o,l)=>t&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Xi(n,e){return Object.assign(Object.create(n),e)}function np(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=H0("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>np([o,...n],e,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete n[0][l],!0},get(o,l){return W0(o,l,()=>GR(l,e,n,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,l){return Fv(o).includes(l)},ownKeys(o){return Fv(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function Ws(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:V0(n,r),setContext:s=>Ws(n,s,t,r),override:s=>Ws(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,o){return W0(s,a,()=>WR(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,o){return n[a]=o,delete s[a],!0}})}function V0(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:vi(t)?t:()=>t,isIndexable:vi(r)?r:()=>r}}const VR=(n,e)=>n?n+Km(e):e,rp=(n,e)=>rt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function W0(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function WR(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;let o=r[e];return vi(o)&&a.isScriptable(e)&&(o=UR(e,o,n,t)),jt(o)&&o.length&&(o=HR(e,o,n,a.isIndexable)),rp(e,o)&&(o=Ws(o,i,s&&s[e],a)),o}function UR(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=t;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let l=e(s,a||r);return o.delete(n),rp(n,l)&&(l=ip(i._scopes,i,n,l)),l}function HR(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(rt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=ip(c,i,n,u);e.push(Ws(d,s,a&&a[n],o))}}return e}function U0(n,e,t){return vi(n)?n(e,t):n}const ZR=(n,e)=>n===!0?e:typeof n=="string"?pi(e,n):void 0;function YR(n,e,t,r,i){for(const s of e){const a=ZR(t,s);if(a){n.add(a);const o=U0(a._fallback,t,i);if(typeof o<"u"&&o!==t&&o!==r)return o}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function ip(n,e,t,r){const i=e._rootScopes,s=U0(e._fallback,t,r),a=[...n,...i],o=new Set;o.add(r);let l=Nv(o,a,t,s||t,r);return l===null||typeof s<"u"&&s!==t&&(l=Nv(o,a,s,l,r),l===null)?!1:np(Array.from(o),[""],i,s,()=>$R(e,t,r))}function Nv(n,e,t,r,i){for(;t;)t=YR(n,e,t,r,i);return t}function $R(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return jt(i)&&rt(t)?t:i||{}}function GR(n,e,t,r){let i;for(const s of e)if(i=H0(VR(s,n),t),typeof i<"u")return rp(n,i)?ip(t,r,n,i):i}function H0(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function Fv(n){let e=n._keys;return e||(e=n._keys=KR(n._scopes)),e}function KR(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function qR(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+t,u=e[c],a[o]={r:i.parse(pi(u,s),c)};return a}const XR=Number.EPSILON||1e-14,Us=(n,e)=>e<n.length&&!n[e].skip&&n[e],Z0=n=>n==="x"?"y":"x";function JR(n,e,t,r){const i=n.skip?e:n,s=e,a=t.skip?e:t,o=jg(s,i),l=jg(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function QR(n,e,t){const r=n.length;let i,s,a,o,l,c=Us(n,0);for(let u=0;u<r-1;++u)if(l=c,c=Us(n,u+1),!(!l||!c)){if(Aa(e[u],0,XR)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],s=t[u+1]/e[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),t[u]=i*a*e[u],t[u+1]=s*a*e[u])}}function eN(n,e,t="x"){const r=Z0(t),i=n.length;let s,a,o,l=Us(n,0);for(let c=0;c<i;++c){if(a=o,o=l,l=Us(n,c+1),!o)continue;const u=o[t],d=o[r];a&&(s=(u-a[t])/3,o[`cp1${t}`]=u-s,o[`cp1${r}`]=d-s*e[c]),l&&(s=(l[t]-u)/3,o[`cp2${t}`]=u+s,o[`cp2${r}`]=d+s*e[c])}}function tN(n,e="x"){const t=Z0(e),r=n.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=Us(n,0);for(a=0;a<r;++a)if(o=l,l=c,c=Us(n,a+1),!!l){if(c){const u=c[e]-l[e];i[a]=u!==0?(c[t]-l[t])/u:0}s[a]=o?c?rr(i[a-1])!==rr(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}QR(n,i,s),eN(n,s,e)}function Ec(n,e,t){return Math.max(Math.min(n,t),e)}function nN(n,e){let t,r,i,s,a,o=oo(n[0],e);for(t=0,r=n.length;t<r;++t)a=s,s=o,o=t<r-1&&oo(n[t+1],e),s&&(i=n[t],a&&(i.cp1x=Ec(i.cp1x,e.left,e.right),i.cp1y=Ec(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Ec(i.cp2x,e.left,e.right),i.cp2y=Ec(i.cp2y,e.top,e.bottom)))}function rN(n,e,t,r,i){let s,a,o,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")tN(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)o=n[s],l=JR(c,o,n[Math.min(s+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&nN(n,t)}function sp(){return typeof window<"u"&&typeof document<"u"}function ap(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Cu(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const rh=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function iN(n,e){return rh(n).getPropertyValue(e)}const sN=["top","right","bottom","left"];function Li(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=sN[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const aN=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function oN(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(aN(i,s,n.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Oi(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=rh(t),s=i.boxSizing==="border-box",a=Li(i,"padding"),o=Li(i,"border","width"),{x:l,y:c,box:u}=oN(n,t),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:f,height:m}=e;return s&&(f-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-d)/f*t.width/r),y:Math.round((c-h)/m*t.height/r)}}function lN(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&ap(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),o=rh(s),l=Li(o,"border","width"),c=Li(o,"padding");e=a.width-c.width-l.width,t=a.height-c.height-l.height,r=Cu(o.maxWidth,s,"clientWidth"),i=Cu(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Mu,maxHeight:i||Mu}}const Ic=n=>Math.round(n*10)/10;function cN(n,e,t,r){const i=rh(n),s=Li(i,"margin"),a=Cu(i.maxWidth,n,"clientWidth")||Mu,o=Cu(i.maxHeight,n,"clientHeight")||Mu,l=lN(n,e,t);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Li(i,"border","width"),f=Li(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Ic(Math.min(c,a,l.maxWidth)),u=Ic(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Ic(c/2)),(e!==void 0||t!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Ic(Math.floor(u*r))),{width:c,height:u}}function Lv(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(n.currentDevicePixelRatio=r,a.height=i,a.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const uN=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};sp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function jv(n,e){const t=iN(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ci(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function dN(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function fN(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=Ci(n,i,t),o=Ci(i,s,t),l=Ci(s,e,t),c=Ci(a,o,t),u=Ci(o,l,t);return Ci(c,u,t)}const hN=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},gN=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ms(n,e,t){return n?hN(e,t):gN()}function Y0(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function $0(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function G0(n){return n==="angle"?{between:ao,compare:fR,normalize:Br}:{between:qr,compare:(e,t)=>e-t,normalize:e=>e}}function Bv({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function mN(n,e,t){const{property:r,start:i,end:s}=t,{between:a,normalize:o}=G0(r),l=e.length;let{start:c,end:u,loop:d}=n,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&a(o(e[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}function pN(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,a=e.length,{compare:o,between:l,normalize:c}=G0(r),{start:u,end:d,loop:h,style:f}=mN(n,e,t),m=[];let p=!1,v=null,y,_,S;const T=()=>l(i,S,y)&&o(i,S)!==0,k=()=>o(s,y)===0||l(s,S,y),O=()=>p||T(),D=()=>!p||k();for(let j=u,V=u;j<=d;++j)_=e[j%a],!_.skip&&(y=c(_[r]),y!==S&&(p=l(y,i,s),v===null&&O()&&(v=o(y,i)===0?j:V),v!==null&&D()&&(m.push(Bv({start:v,end:j,loop:h,count:a,style:f})),v=null),V=j,S=y));return v!==null&&m.push(Bv({start:v,end:d,loop:h,count:a,style:f})),m}function vN(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=pN(r[i],n.points,e);s.length&&t.push(...s)}return t}function yN(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function bN(n,e,t,r){const i=n.length,s=[];let a=e,o=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?o.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function _N(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:a,end:o}=yN(t,i,s,r);if(r===!0)return zv(n,[{start:a,end:o,loop:s}],t,e);const l=o<a?o+i:o,c=!!n._fullLoop&&a===0&&o===i-1;return zv(n,bN(t,a,l,c),t,e)}function zv(n,e,t,r){return!r||!r.setContext||!t?e:xN(n,e,t,r)}function xN(n,e,t,r){const i=n._chart.getContext(),s=Vv(n.options),{_datasetIndex:a,options:{spanGaps:o}}=n,l=t.length,c=[];let u=s,d=e[0].start,h=d;function f(m,p,v,y){const _=o?-1:1;if(m!==p){for(m+=l;t[m%l].skip;)m-=_;for(;t[p%l].skip;)p+=_;m%l!==p%l&&(c.push({start:m%l,end:p%l,loop:v,style:y}),u=y,d=p%l)}}for(const m of e){d=o?d:m.start;let p=t[d%l],v;for(h=d+1;h<=m.end;h++){const y=t[h%l];v=Vv(r.setContext(Xi(i,{type:"segment",p0:p,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),wN(v,u)&&f(d,h-1,m.loop,u),p=y,u=v}d<h-1&&f(d,h-1,m.loop,u)}return c}function Vv(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function wN(n,e){if(!e)return!1;const t=[],r=function(i,s){return Jm(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class SN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],a=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=F0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yr=new SN;const Wv="transparent",TN={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=Dv(n||Wv),i=r.valid&&Dv(e||Wv);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class kN{constructor(e,t,r,i){const s=t[r];i=Dc([e.to,i,s,e.from]);const a=Dc([e.from,s,i]);this._active=!0,this._fn=e.fn||TN[e.type||typeof a],this._easing=Ma[e.easing]||Ma.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Dc([e.to,t,i,e.from]),this._from=Dc([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||t<r),!this._active){this._target[i]=o,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class K0{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!rt(e))return;const t=Object.keys(Pt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!rt(s))return;const a={};for(const o of t)a[o]=s[o];(jt(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,t){const r=t.options,i=AN(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&PN(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[c];let d=s[c];const h=r.get(c);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new kN(h,e,c,u),i.push(d)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return yr.add(this._chart,r),!0}}function PN(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function AN(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Uv(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function MN(n,e,t){if(t===!1)return!1;const r=Uv(n,t),i=Uv(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function ON(n){let e,t,r,i;return rt(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function q0(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function Hv(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===t){if(u=!0,r.all)continue;break}c=n.values[l],En(c)&&(s||e===0||rr(e)===rr(c))&&(e+=c)}return!u&&!r.all?0:e}function CN(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(n),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:n[u]};return o}function Hh(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function DN(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function EN(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function IN(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Zv(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function Yv(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=DN(s,a,r),d=e.length;let h;for(let f=0;f<d;++f){const m=e[f],{[l]:p,[c]:v}=m,y=m._stacks||(m._stacks={});h=y[c]=IN(i,u,p),h[o]=v,h._top=Zv(h,a,!0,r.type),h._bottom=Zv(h,a,!1,r.type);const _=h._visualValues||(h._visualValues={});_[o]=v}}function Zh(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function RN(n,e){return Xi(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function NN(n,e,t){return Xi(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function sa(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const Yh=n=>n==="reset"||n==="none",$v=(n,e)=>e?n:Object.assign({},n),FN=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:q0(t,!0),values:null};class ei{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&sa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(d,h,f,m)=>d==="x"?h:d==="r"?m:f,s=t.xAxisID=Je(r.xAxisID,Zh(e,"x")),a=t.yAxisID=Je(r.yAxisID,Zh(e,"y")),o=t.rAxisID=Je(r.rAxisID,Zh(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,s,a,o),u=t.vAxisID=i(l,a,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Mv(this._data,this),e._stacked&&sa(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(rt(t)){const i=this._cachedMeta;this._data=CN(t,i)}else if(r!==t){if(r){Mv(r,this);const i=this._cachedMeta;sa(i),i._parsed=[]}t&&Object.isExtensible(t)&&pR(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=Hh(t.vScale,t),t.stack!==r.stack&&(i=!0,sa(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(Yv(this,t._parsed),t._stacked=Hh(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=e===0&&t===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{jt(i[e])?h=this.parseArrayData(r,i,e,t):rt(i[e])?h=this.parseObjectData(r,i,e,t):h=this.parsePrimitiveData(r,i,e,t);const f=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<t;++u)r._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);r._sorted=l}a&&Yv(this,h)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,d=new Array(i);let h,f,m;for(h=0,f=i;h<f;++h)m=h+r,d[h]={[o]:u||s.parse(c[m],m),[l]:a.parse(t[m],m)};return d}parseArrayData(e,t,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=t[u],o[l]={x:s.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,t,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+r,f=t[h],c[u]={x:s.parse(pi(f,o),h),y:a.parse(pi(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,a=t[e.axis],o={keys:q0(i,!0),values:t._stacks[e.axis]._visualValues};return Hv(o,a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let a=s===null?NaN:s;const o=i&&r._stacks[t.axis];i&&o&&(i.values=o,a=Hv(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),l=FN(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=EN(o);let h,f;function m(){f=i[h];const p=f[o.axis];return!En(f[e.axis])||u>p||d<p}for(h=0;h<a&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],En(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=ON(Je(this.options.clip,MN(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const d=i[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=NN(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=RN(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,o=s[a],l=this.enableOptionSharing&&io(r);if(o)return $v(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Pt.elements[e]),m=()=>this.getContext(r,i,t),p=c.resolveNamedOptions(h,f,m,d);return p.$shared&&(p.$shared=l,s[a]=Object.freeze($v(p,l))),p}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,t),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,r,t))}const c=new K0(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Yh(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,i){Yh(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Yh(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=r.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,a=e+t;let o;const l=c=>{for(c.length+=t,o=c.length-1;o>=a;o--)c[o]=c[o-t]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&sa(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}R(ei,"defaults",{}),R(ei,"datasetElementType",null),R(ei,"dataElementType",null);function LN(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=N0(r.sort((i,s)=>i-s))}return n._cache.$bar}function jN(n){const e=n.iScale,t=LN(e,n.type);let r=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(io(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return r}function BN(n,e,t,r){const i=t.barThickness;let s,a;return lt(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[n]-s/2}}function zN(n,e,t,r){const i=e.pixels,s=i[n];let a=n>0?i[n-1]:null,o=n<i.length-1?i[n+1]:null;const l=t.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:t.barPercentage,start:c}}function VN(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function X0(n,e,t,r){return jt(n)?VN(n,e,t,r):e[t.axis]=t.parse(n,r),e}function Gv(n,e,t,r){const i=n.iScale,s=n.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,d,h;for(c=t,u=t+r;c<u;++c)h=e[c],d={},d[i.axis]=o||i.parse(a[c],c),l.push(X0(h,d,s,c));return l}function $h(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function WN(n,e,t){return n!==0?rr(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function UN(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function HN(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=UN(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=c:(t._bottom||0)===r?i=u:(s[Kv(u,a,o,l)]=!0,i=c)),s[Kv(i,a,o,l)]=!0,n.borderSkipped=s}function Kv(n,e,t,r){return r?(n=ZN(n,e,t),n=qv(n,t,e)):n=qv(n,e,t),n}function ZN(n,e,t){return n===e?t:n===t?e:n}function qv(n,e,t){return n==="start"?e:n==="end"?t:n}function YN(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class eu extends ei{parsePrimitiveData(e,t,r,i){return Gv(e,t,r,i)}parseArrayData(e,t,r,i){return Gv(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let h,f,m,p;for(h=r,f=r+i;h<f;++h)p=t[h],m={},m[s.axis]=s.parse(pi(p,c),h),d.push(X0(pi(p,u),m,a,h));return d}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),a=s._custom,o=$h(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(t,i);for(let f=t;f<t+r;f++){const m=this.getParsed(f),p=s||lt(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),y=(m._stacks||{})[o.axis],_={horizontal:c,base:p.base,enableBorderRadius:!y||$h(m._custom)||a===y._top||a===y._bottom,x:c?p.head:v.center,y:c?v.center:p.head,height:c?v.size:Math.abs(p.size),width:c?Math.abs(p.size):v.size};h&&(_.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const S=_.options||e[f].options;HN(_,S,y,a),YN(_,S,u.ratio),this.updateElement(e[f],f,_,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),l=o&&o[r.axis],c=u=>{const d=u._parsed.find(f=>f[r.axis]===l),h=d&&d[u.vScale.axis];if(lt(h)||isNaN(h))return!0};for(const u of i)if(!(t!==void 0&&c(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=e.barThickness;return{min:o||jN(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,u=$h(c);let d=l[t.axis],h=0,f=r?this.applyStack(t,l,r):d,m,p;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&rr(d)!==rr(c.barEnd)&&(h=0),h+=d);const v=!lt(s)&&!u?s:h;let y=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?m=t.getPixelForValue(h+f):m=y,p=m-y,Math.abs(p)<a){p=WN(p,t,o)*a,d===o&&(y-=p/2);const _=t.getPixelForDecimal(0),S=t.getPixelForDecimal(1),T=Math.min(_,S),k=Math.max(_,S);y=Math.max(Math.min(y,k),T),m=y+p,r&&!u&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(m)-t.getValueForPixel(y))}if(y===t.getPixelForValue(o)){const _=rr(p)*t.getLineWidthForValue(o)/2;y+=_,p-=_}return{size:p,base:y,head:m,center:m+p/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,a=Je(i.maxBarThickness,1/0);let o,l;if(t.grouped){const c=s?this._getStackCount(e):t.stackCount,u=i.barThickness==="flex"?zN(e,t,i,c):BN(e,t,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=u.start+u.chunk*d+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,t.min*t.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}R(eu,"id","bar"),R(eu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),R(eu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function $N(n,e,t){let r=1,i=1,s=0,a=0;if(e<Ot){const o=n,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(S,T,k)=>ao(S,o,l,!0)?1:Math.max(T,T*t,k,k*t),m=(S,T,k)=>ao(S,o,l,!0)?-1:Math.min(T,T*t,k,k*t),p=f(0,c,d),v=f(Bt,u,h),y=m(Mt,c,d),_=m(Mt+Bt,u,h);r=(p-y)/2,i=(v-_)/2,s=-(p+y)/2,a=-(v+_)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class ds extends ei{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(rt(r[e])){const{key:l="value"}=this._parsing;s=c=>+pi(r[c],l)}let a,o;for(a=e,o=e+t;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return tr(this.options.rotation-90)}_getCircumference(){return tr(this.options.circumference)}_getRotationExtents(){let e=Ot,t=-Ot;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(QI(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:m,offsetY:p}=$N(d,u,l),v=(r.width-a)/h,y=(r.height-a)/f,_=Math.max(Math.min(v,y)/2,0),S=C0(this.options.radius,_),T=Math.max(S*l,0),k=(S-T)/this._getVisibleDatasetWeightTotal();this.offsetX=m*S,this.offsetY=p*S,i.total=this.calculateTotal(),this.outerRadius=S-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Ot)}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(t,i);let y=this._getRotation(),_;for(_=0;_<t;++_)y+=this._circumference(_,s);for(_=t;_<t+r;++_){const S=this._circumference(_,s),T=e[_],k={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+S,circumference:S,outerRadius:m,innerRadius:f};v&&(k.options=p||this.resolveDataElementOptions(_,T.active?"active":i)),y+=S,this.updateElement(T,_,k,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ot*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=nh(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}R(ds,"id","doughnut"),R(ds,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),R(ds,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),R(ds,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class tu extends ei{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:o,count:l}=bR(t,i,a);this._drawStart=o,this._drawCount=l,_R(t)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i),h=a.axis,f=o.axis,{spanGaps:m,segment:p}=this.options,v=so(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none",_=t+r,S=e.length;let T=t>0&&this.getParsed(t-1);for(let k=0;k<S;++k){const O=e[k],D=y?O:{};if(k<t||k>=_){D.skip=!0;continue}const j=this.getParsed(k),V=lt(j[f]),Z=D[h]=a.getPixelForValue(j[h],k),L=D[f]=s||V?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,j,l):j[f],k);D.skip=isNaN(Z)||isNaN(L)||V,D.stop=k>0&&Math.abs(j[h]-T[h])>v,p&&(D.parsed=j,D.raw=c.data[k]),d&&(D.options=u||this.resolveDataElementOptions(k,O.active?"active":i)),y||this.updateElement(O,k,D,i),T=j}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}R(tu,"id","line"),R(tu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),R(tu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class nu extends ei{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=nh(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,r,i){return qR.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,l=a.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*Mt;let f=h,m;const p=360/this.countVisibleElements();for(m=0;m<t;++m)f+=this._computeAngle(m,i,p);for(m=t;m<t+r;m++){const v=e[m];let y=f,_=f+this._computeAngle(m,i,p),S=a.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=_,s&&(l.animateScale&&(S=0),l.animateRotate&&(y=_=h));const T={x:u,y:d,innerRadius:0,outerRadius:S,startAngle:y,endAngle:_,options:this.resolveDataElementOptions(m,v.active?"active":i)};this.updateElement(v,m,T,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?tr(this.resolveDataElementOptions(e,t).angle||r):0}}R(nu,"id","polarArea"),R(nu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),R(nu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Vg extends ds{}R(Vg,"id","pie"),R(Vg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Mi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class op{constructor(e){R(this,"options");this.options=e||{}}static override(e){Object.assign(op.prototype,e)}init(){}formats(){return Mi()}parse(){return Mi()}format(){return Mi()}add(){return Mi()}diff(){return Mi()}startOf(){return Mi()}endOf(){return Mi()}}var GN={_date:op};function KN(n,e,t,r){const{controller:i,data:s,_sorted:a}=n,o=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?gR:Ei;if(r){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(s,e,t-d),f=c(s,e,t+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(s,e,t);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=n,f=h.slice(0,u.lo+1).reverse().findIndex(p=>!lt(p[d.axis]));u.lo-=Math.max(0,f);const m=h.slice(u.hi).findIndex(p=>!lt(p[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function ih(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:d,hi:h}=KN(s[o],e,a,i);for(let f=d;f<=h;++f){const m=u[f];m.skip||r(m,c,f)}}}function qN(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Gh(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||ih(n,t,e,function(o,l,c){!i&&!oo(o,n.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function XN(n,e,t,r){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:d}=I0(a,{x:e.x,y:e.y});ao(d,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return ih(n,t,e,s),i}function JN(n,e,t,r,i,s){let a=[];const o=qN(t);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const m=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(m))&&!f)return;const v=o(e,m);v<l?(a=[{element:u,datasetIndex:d,index:h}],l=v):v===l&&a.push({element:u,datasetIndex:d,index:h})}return ih(n,t,e,c),a}function Kh(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?XN(n,e,t,i):JN(n,e,t,r,i,s)}function Xv(n,e,t,r,i){const s=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return ih(n,t,e,(l,c,u)=>{l[a]&&l[a](e[t],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:s}var QN={modes:{index(n,e,t,r){const i=Oi(e,n),s=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?Gh(n,i,s,r,a):Kh(n,i,s,!1,r,a),l=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,r){const i=Oi(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?Gh(n,i,s,r,a):Kh(n,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=n.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(n,e,t,r){const i=Oi(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return Gh(n,i,s,r,a)},nearest(n,e,t,r){const i=Oi(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return Kh(n,i,s,t.intersect,r,a)},x(n,e,t,r){const i=Oi(e,n);return Xv(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Oi(e,n);return Xv(n,i,"y",t.intersect,r)}}};const J0=["left","top","right","bottom"];function aa(n,e){return n.filter(t=>t.pos===e)}function Jv(n,e){return n.filter(t=>J0.indexOf(t.pos)===-1&&t.box.axis===e)}function oa(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function eF(n){const e=[];let t,r,i,s,a,o;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function tF(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!J0.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function nF(n,e){const t=tF(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=n.length;s<a;++s){o=n[s];const{fullSize:l}=o.box,c=t[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=u?u*i:l&&e.availableHeight)}return t}function rF(n){const e=eF(n),t=oa(e.filter(c=>c.box.fullSize),!0),r=oa(aa(e,"left"),!0),i=oa(aa(e,"right")),s=oa(aa(e,"top"),!0),a=oa(aa(e,"bottom")),o=Jv(e,"x"),l=Jv(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:aa(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function Qv(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Q0(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function iF(n,e,t,r){const{pos:i,box:s}=t,a=n.maxPadding;if(!rt(i)){t.size&&(n[i]-=t.size);const d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?s.height:s.width),t.size=d.size/d.count,n[i]+=t.size}s.getPadding&&Q0(a,s.getPadding());const o=Math.max(0,e.outerWidth-Qv(a,n,"left","right")),l=Math.max(0,e.outerHeight-Qv(a,n,"top","bottom")),c=o!==n.w,u=l!==n.h;return n.w=o,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function sF(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function aF(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return r(n?["left","right"]:["top","bottom"])}function ya(n,e,t,r){const i=[];let s,a,o,l,c,u;for(s=0,a=n.length,c=0;s<a;++s){o=n[s],l=o.box,l.update(o.width||e.w,o.height||e.h,aF(o.horizontal,e));const{same:d,other:h}=iF(e,t,o,r);c|=d&&i.length,u=u||h,l.fullSize||i.push(o)}return c&&ya(i,e,t,r)||u}function Rc(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function ey(n,e,t,r){const i=t.padding;let{x:s,y:a}=e;for(const o of n){const l=o.box,c=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,h=c.size||l.height;io(c.start)&&(a=c.start),l.fullSize?Rc(l,i.left,a,t.outerWidth-i.right-i.left,h):Rc(l,e.left+c.placed,a,d,h),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,h=c.size||l.width;io(c.start)&&(s=c.start),l.fullSize?Rc(l,s,i.top,h,t.outerHeight-i.bottom-i.top):Rc(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var Dn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=In(n.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),o=rF(n.boxes),l=o.vertical,c=o.horizontal;dt(n.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},i);Q0(h,In(r));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),m=nF(l.concat(c),d);ya(o.fullSize,f,d,m),ya(l,f,d,m),ya(c,f,d,m)&&ya(l,f,d,m),sF(f),ey(o.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,ey(o.rightAndBottom,f,d,m),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},dt(o.chartArea,p=>{const v=p.box;Object.assign(v,n.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class ex{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class oF extends ex{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ru="$chartjs",lF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ty=n=>n===null||n==="";function cF(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[ru]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ty(i)){const s=jv(n,"width");s!==void 0&&(n.width=s)}if(ty(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=jv(n,"height");s!==void 0&&(n.height=s)}return n}const tx=uN?{passive:!0}:!1;function uF(n,e,t){n&&n.addEventListener(e,t,tx)}function dF(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,tx)}function fF(n,e){const t=lF[n.type]||n.type,{x:r,y:i}=Oi(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Du(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function hF(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Du(o.addedNodes,r),a=a&&!Du(o.removedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function gF(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Du(o.removedNodes,r),a=a&&!Du(o.addedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const co=new Map;let ny=0;function nx(){const n=window.devicePixelRatio;n!==ny&&(ny=n,co.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function mF(n,e){co.size||window.addEventListener("resize",nx),co.set(n,e)}function pF(n){co.delete(n),co.size||window.removeEventListener("resize",nx)}function vF(n,e,t){const r=n.canvas,i=r&&ap(r);if(!i)return;const s=L0((o,l)=>{const c=i.clientWidth;t(o,l),c<i.clientWidth&&t()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),mF(n,s),a}function qh(n,e,t){t&&t.disconnect(),e==="resize"&&pF(n)}function yF(n,e,t){const r=n.canvas,i=L0(s=>{n.ctx!==null&&t(fF(s,n))},n);return uF(r,e,i),i}class bF extends ex{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(cF(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ru])return!1;const r=t[ru].initial;["height","width"].forEach(s=>{const a=r[s];lt(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[ru],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:hF,detach:gF,resize:vF}[t]||yF;i[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:qh,detach:qh,resize:qh}[t]||dF)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return cN(e,t,r,i)}isAttached(e){const t=e&&ap(e);return!!(t&&t.isConnected)}}function _F(n){return!sp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?oF:bF}var Uc;let Ir=(Uc=class{constructor(){R(this,"x");R(this,"y");R(this,"active",!1);R(this,"options");R(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return so(this.x)&&so(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},R(Uc,"defaults",{}),R(Uc,"defaultRoutes"),Uc);function xF(n,e){const t=n.options.ticks,r=wF(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?TF(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return kF(e,c,s,a/i),c;const u=SF(s,e,i);if(a>0){let d,h;const f=a>1?Math.round((l-o)/(a-1)):null;for(Nc(e,c,u,lt(f)?0:o-f,o),d=0,h=a-1;d<h;d++)Nc(e,c,u,s[d],s[d+1]);return Nc(e,c,u,l,lt(f)?e.length:l+f),c}return Nc(e,c,u),c}function wF(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function SF(n,e,t){const r=PF(n),i=e.length/t;if(!r)return Math.max(i,1);const s=oR(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function TF(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function kF(n,e,t,r){let i=0,s=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===s&&(e.push(n[a]),i++,s=t[i*r])}function Nc(n,e,t,r,i){const s=Je(r,0),a=Math.min(Je(i,n.length),n.length);let o=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),u=s;u<0;)o++,u=Math.round(s+o*t);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(n[c]),o++,u=Math.round(s+o*t))}function PF(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const AF=n=>n==="left"?"right":n==="right"?"left":n,ry=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,iy=(n,e)=>Math.min(e||n,n);function sy(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function MF(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,a=n._endPixel,o=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(r===1?c=Math.max(l-s,a-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function OF(n,e){dt(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function la(n){return n.drawTicks?n.tickLength:0}function ay(n,e){if(!n.display)return 0;const t=en(n.font,e),r=In(n.padding);return(jt(n.text)?n.text.length:1)*t.lineHeight+r.height}function CF(n,e){return Xi(n,{scale:e,type:"scale"})}function DF(n,e,t){return Xi(n,{tick:t,index:e,type:"tick"})}function EF(n,e,t){let r=Xm(n);return(t&&e!=="right"||!t&&e==="right")&&(r=AF(r)),r}function IF(n,e,t,r){const{top:i,left:s,bottom:a,right:o,chart:l}=n,{chartArea:c,scales:u}=l;let d=0,h,f,m;const p=a-i,v=o-s;if(n.isHorizontal()){if(f=Xt(r,s,o),rt(t)){const y=Object.keys(t)[0],_=t[y];m=u[y].getPixelForValue(_)+p-e}else t==="center"?m=(c.bottom+c.top)/2+p-e:m=ry(n,t,e);h=o-s}else{if(rt(t)){const y=Object.keys(t)[0],_=t[y];f=u[y].getPixelForValue(_)-v+e}else t==="center"?f=(c.left+c.right)/2-v+e:f=ry(n,t,e);m=Xt(r,a,i),d=t==="left"?-Bt:Bt}return{titleX:f,titleY:m,maxWidth:h,rotation:d}}class qs extends Ir{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=$n(e,Number.POSITIVE_INFINITY),t=$n(t,Number.NEGATIVE_INFINITY),r=$n(r,Number.POSITIVE_INFINITY),i=$n(i,Number.NEGATIVE_INFINITY),{min:$n(e,r),max:$n(t,i),minDefined:En(e),maxDefined:En(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(r=Math.max(r,a.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:$n(t,$n(r,t)),max:$n(r,$n(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zR(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?sy(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=xF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pt(this.options.afterUpdate,[this])}beforeSetDimensions(){pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=pt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=iy(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Qt(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/r:f/(r-1),d+6>o&&(o=f/(r-(e.offset?.5:1)),l=this.maxHeight-la(e.grid)-t.padding-ay(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),a=dR(Math.min(Math.asin(Qt((u.highest.height+6)/o,-1,1)),Math.asin(Qt(l/c,-1,1))-Math.asin(Qt(h/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=ay(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=la(s)+l):(e.height=this.maxHeight,e.width=la(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,m=tr(this.labelRotation),p=Math.cos(m),v=Math.sin(m);if(o){const y=r.mirror?0:v*d.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:p*d.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,v,p)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=r*t.height):(h=r*e.height,f=i*t.width):s==="start"?f=t.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=t.width/2),this.paddingLeft=Math.max((h-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+a)*this.width/(this.width-d),0)}else{let u=t.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=t.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)lt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=sy(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(t/iy(t,r));let c=0,u=0,d,h,f,m,p,v,y,_,S,T,k;for(d=0;d<t;d+=l){if(m=e[d].label,p=this._resolveTickFontOptions(d),i.font=v=p.string,y=s[v]=s[v]||{data:{},gc:[]},_=p.lineHeight,S=T=0,!lt(m)&&!jt(m))S=Iv(i,y.data,y.gc,S,m),T=_;else if(jt(m))for(h=0,f=m.length;h<f;++h)k=m[h],!lt(k)&&!jt(k)&&(S=Iv(i,y.data,y.gc,S,k),T+=_);a.push(S),o.push(T),c=Math.max(S,c),u=Math.max(T,u)}OF(s,t);const O=a.indexOf(c),D=o.indexOf(u),j=V=>({width:a[V]||0,height:o[V]||0});return{first:j(0),last:j(t-1),widest:j(O),highest:j(D),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return hR(this._alignToPixels?Ai(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=DF(this.getContext(),e,r))}return this.$context||(this.$context=CF(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=tr(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=la(s),f=[],m=o.setContext(this.getContext()),p=m.display?m.width:0,v=p/2,y=function(F){return Ai(r,F,p)};let _,S,T,k,O,D,j,V,Z,L,z,J;if(a==="top")_=y(this.bottom),D=this.bottom-h,V=_-v,L=y(e.top)+v,J=e.bottom;else if(a==="bottom")_=y(this.top),L=e.top,J=y(e.bottom)-v,D=_+v,V=this.top+h;else if(a==="left")_=y(this.right),O=this.right-h,j=_-v,Z=y(e.left)+v,z=e.right;else if(a==="right")_=y(this.left),Z=e.left,z=y(e.right)-v,O=_+v,j=this.left+h;else if(t==="x"){if(a==="center")_=y((e.top+e.bottom)/2+.5);else if(rt(a)){const F=Object.keys(a)[0],W=a[F];_=y(this.chart.scales[F].getPixelForValue(W))}L=e.top,J=e.bottom,D=_+v,V=D+h}else if(t==="y"){if(a==="center")_=y((e.left+e.right)/2);else if(rt(a)){const F=Object.keys(a)[0],W=a[F];_=y(this.chart.scales[F].getPixelForValue(W))}O=_-v,j=O-h,Z=e.left,z=e.right}const G=Je(i.ticks.maxTicksLimit,d),E=Math.max(1,Math.ceil(d/G));for(S=0;S<d;S+=E){const F=this.getContext(S),W=s.setContext(F),N=o.setContext(F),U=W.lineWidth,K=W.color,ce=N.dash||[],se=N.dashOffset,he=W.tickWidth,be=W.tickColor,Te=W.tickBorderDash||[],te=W.tickBorderDashOffset;T=MF(this,S,l),T!==void 0&&(k=Ai(r,T,U),c?O=j=Z=z=k:D=V=L=J=k,f.push({tx1:O,ty1:D,tx2:j,ty2:V,x1:Z,y1:L,x2:z,y2:J,width:U,color:K,borderDash:ce,borderDashOffset:se,tickWidth:he,tickColor:be,tickBorderDash:Te,tickBorderDashOffset:te}))}return this._ticksLength=d,this._borderValue=_,f}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=la(r.grid),f=h+u,m=d?-u:f,p=-tr(this.labelRotation),v=[];let y,_,S,T,k,O,D,j,V,Z,L,z,J="middle";if(i==="top")O=this.bottom-m,D=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+m,D=this._getXAxisLabelAlignment();else if(i==="left"){const E=this._getYAxisLabelAlignment(h);D=E.textAlign,k=E.x}else if(i==="right"){const E=this._getYAxisLabelAlignment(h);D=E.textAlign,k=E.x}else if(t==="x"){if(i==="center")O=(e.top+e.bottom)/2+f;else if(rt(i)){const E=Object.keys(i)[0],F=i[E];O=this.chart.scales[E].getPixelForValue(F)+f}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")k=(e.left+e.right)/2-f;else if(rt(i)){const E=Object.keys(i)[0],F=i[E];k=this.chart.scales[E].getPixelForValue(F)}D=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const G=this._getLabelSizes();for(y=0,_=o.length;y<_;++y){S=o[y],T=S.label;const E=s.setContext(this.getContext(y));j=this.getPixelForTick(y)+s.labelOffset,V=this._resolveTickFontOptions(y),Z=V.lineHeight,L=jt(T)?T.length:1;const F=L/2,W=E.color,N=E.textStrokeColor,U=E.textStrokeWidth;let K=D;a?(k=j,D==="inner"&&(y===_-1?K=this.options.reverse?"left":"right":y===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?c==="near"||p!==0?z=-L*Z+Z/2:c==="center"?z=-G.highest.height/2-F*Z+Z:z=-G.highest.height+Z/2:c==="near"||p!==0?z=Z/2:c==="center"?z=G.highest.height/2-F*Z:z=G.highest.height-L*Z,d&&(z*=-1),p!==0&&!E.showLabelBackdrop&&(k+=Z/2*Math.sin(p))):(O=j,z=(1-L)*Z/2);let ce;if(E.showLabelBackdrop){const se=In(E.backdropPadding),he=G.heights[y],be=G.widths[y];let Te=z-se.top,te=0-se.left;switch(J){case"middle":Te-=he/2;break;case"bottom":Te-=he;break}switch(D){case"center":te-=be/2;break;case"right":te-=be;break;case"inner":y===_-1?te-=be:y>0&&(te-=be/2);break}ce={left:te,top:Te,width:be+se.width,height:he+se.height,color:E.backdropColor}}v.push({label:T,font:V,textOffset:z,options:{rotation:p,color:W,strokeColor:N,strokeWidth:U,textAlign:K,textBaseline:J,translation:[k,O],backdrop:ce}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-tr(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return t==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const l=i[s];t.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Ai(e,this.left,a)-a/2,u=Ai(e,this.right,o)+o/2,d=h=l):(d=Ai(e,this.top,a)-a/2,h=Ai(e,this.bottom,o)+o/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,d),t.lineTo(u,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Qm(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;lo(r,c,0,u,l,o)}i&&ep(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=en(r.font),a=In(r.padding),o=r.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||rt(t)?(l+=a.bottom,jt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=IF(this,l,t,o);lo(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:EF(o,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Je(e.grid&&e.grid.z,-1),i=Je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==qs.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const o=t[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return en(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Fc{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;FF(t)&&(r=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,RF(e,a,r),this.override&&Pt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Pt[i]&&(delete Pt[i][r],this.override&&delete Yi[r])}}function RF(n,e,t){const r=ro(Object.create(null),[t?Pt.get(t):{},Pt.get(e),n.defaults]);Pt.set(e,r),n.defaultRoutes&&NF(e,n.defaultRoutes),n.descriptors&&Pt.describe(e,n.descriptors)}function NF(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),a=e[t].split("."),o=a.pop(),l=a.join(".");Pt.route(s,i,l,o)})}function FF(n){return"id"in n&&"defaults"in n}class LF{constructor(){this.controllers=new Fc(ei,"datasets",!0),this.elements=new Fc(Ir,"elements"),this.plugins=new Fc(Object,"plugins"),this.scales=new Fc(qs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):dt(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,r){const i=Km(e);pt(r["before"+i],[],r),t[e](r),pt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Kn=new LF;class jF{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],l=[t,i,s.options];if(pt(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Je(r.options&&r.options.plugins,{}),s=BF(r);return i===!1&&!t?[]:VF(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function BF(n){const e={},t=[],r=Object.keys(Kn.plugins.items);for(let s=0;s<r.length;s++)t.push(Kn.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function zF(n,e){return!e&&n===!1?null:n===!0?{}:n}function VF(n,{plugins:e,localIds:t},r,i){const s=[],a=n.getContext();for(const o of e){const l=o.id,c=zF(r[l],i);c!==null&&s.push({plugin:o,options:WF(n.config,{plugin:o,local:t[l]},c,a)})}return s}function WF(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(r,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wg(n,e){const t=Pt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function UF(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function HF(n,e){return n===e?"_index_":"_value_"}function oy(n){if(n==="x"||n==="y"||n==="r")return n}function ZF(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ug(n,...e){if(oy(n))return n;for(const t of e){const r=t.axis||ZF(t.position)||n.length>1&&oy(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function ly(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function YF(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return ly(n,"x",t[0])||ly(n,"y",t[0])}return{}}function $F(n,e){const t=Yi[n.type]||{scales:{}},r=e.scales||{},i=Wg(n.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!rt(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=Ug(a,o,YF(a,n),Pt.scales[o.type]),c=HF(l,i),u=t.scales||{};s[a]=Pa(Object.create(null),[{axis:l},o,u[l],u[c]])}),n.data.datasets.forEach(a=>{const o=a.type||n.type,l=a.indexAxis||Wg(o,e),u=(Yi[o]||{}).scales||{};Object.keys(u).forEach(d=>{const h=UF(d,l),f=a[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),Pa(s[f],[{axis:h},r[f],u[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];Pa(o,[Pt.scales[o.type],Pt.scale])}),s}function rx(n){const e=n.options||(n.options={});e.plugins=Je(e.plugins,{}),e.scales=$F(n,e)}function ix(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function GF(n){return n=n||{},n.data=ix(n.data),rx(n),n}const cy=new Map,sx=new Set;function Lc(n,e){let t=cy.get(n);return t||(t=e(),cy.set(n,t),sx.add(t)),t}const ca=(n,e,t)=>{const r=pi(e,t);r!==void 0&&n.add(r)};class KF{constructor(e){this._config=GF(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ix(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),rx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Lc(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Lc(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Lc(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(t);if(o)return o;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(d=>ca(l,e,d))),u.forEach(d=>ca(l,i,d)),u.forEach(d=>ca(l,Yi[s]||{},d)),u.forEach(d=>ca(l,Pt,d)),u.forEach(d=>ca(l,Bg,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),sx.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Yi[t]||{},Pt.datasets[t]||{},{type:t},Pt,Bg]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=uy(this._resolverCache,e,i);let l=a;if(XF(a,t)){s.$shared=!1,r=vi(r)?r():r;const c=this.createResolver(e,r,o);l=Ws(a,r,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,r=[""],i){const{resolver:s}=uy(this._resolverCache,e,r);return rt(t)?Ws(s,t,void 0,i):s}}function uy(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:np(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const qF=n=>rt(n)&&Object.getOwnPropertyNames(n).some(e=>vi(n[e]));function XF(n,e){const{isScriptable:t,isIndexable:r}=V0(n);for(const i of e){const s=t(i),a=r(i),o=(a||s)&&n[i];if(s&&(vi(o)||qF(o))||a&&jt(o))return!0}return!1}var JF="4.4.8";const QF=["top","bottom","left","right","chartArea"];function dy(n,e){return n==="top"||n==="bottom"||QF.indexOf(n)===-1&&e==="x"}function fy(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function hy(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),pt(t&&t.onComplete,[n],e)}function e5(n){const e=n.chart,t=e.options.animation;pt(t&&t.onProgress,[n],e)}function ax(n){return sp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const iu={},gy=n=>{const e=ax(n);return Object.values(iu).filter(t=>t.canvas===e).pop()};function t5(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const a=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=a)}}}function n5(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}function jc(n,e,t){return n.options.clip?n[t]:e[t]}function r5(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:jc(t,e,"left"),right:jc(t,e,"right"),top:jc(r,e,"top"),bottom:jc(r,e,"bottom")}:e}var Lr;let Hg=(Lr=class{static register(...e){Kn.add(...e),my()}static unregister(...e){Kn.remove(...e),my()}constructor(e,t){const r=this.config=new KF(t),i=ax(e),s=gy(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||_F(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=JI(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vR(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],iu[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}yr.listen(this,"complete",hy),yr.listen(this,"progress",e5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return lt(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Kn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Lv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Rv(this.canvas,this.ctx),this}stop(){return yr.stop(this),this}resize(e,t){yr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Lv(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),pt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};dt(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const o=t[a],l=Ug(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),dt(s,a=>{const o=a.options,l=o.id,c=Ug(l,o),u=Je(o.type,a.dtype);(o.position===void 0||dy(o.position,c)!==dy(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const h=Kn.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(o,e)}),dt(i,(a,o)=>{a||delete r[o]}),dt(r,a=>{Dn.configure(this,a,a.options),Dn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(fy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||Wg(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Kn.getController(o),{datasetElementType:c,dataElementType:u}=Pt.datasets[o];Object.assign(l,{dataElementType:Kn.getElement(u),datasetElementType:c&&Kn.getElement(c)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){dt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||dt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fy("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){dt(this.scales,e=>{Dn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Tv(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const a=r==="_removeElements"?-s:s;t5(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!Tv(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dn.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],dt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,vi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yr.has(this)?this.attached&&!yr.running(this)&&yr.start(this):(this.draw(),hy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,i=!r.disabled,s=r5(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&Qm(t,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&ep(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return oo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=QN.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Xi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);io(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),yr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Rv(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete iu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};dt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){dt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},dt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,a,o,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Pu(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=s(t,e),o=r?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,a=t,o=this._getActiveElements(e,i,r,a),l=iR(e),c=n5(e,this._lastEvent,r,l);r&&(this._lastEvent=null,pt(s.onHover,[e,o,this],this),l&&pt(s.onClick,[e,o,this],this));const u=!Pu(o,i);return(u||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=c,u}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},R(Lr,"defaults",Pt),R(Lr,"instances",iu),R(Lr,"overrides",Yi),R(Lr,"registry",Kn),R(Lr,"version",JF),R(Lr,"getChart",gy),Lr);function my(){return dt(Hg.instances,n=>n._plugins.invalidate())}function i5(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;n.beginPath(),n.arc(s,a,o,r-c,t+c),l>i?(c=i/l,n.arc(s,a,l,t+c,r-c,!0)):n.arc(s,a,i,t+Bt,r-Bt),n.closePath(),n.clip()}function s5(n){return tp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function a5(n,e,t,r){const i=s5(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,r*e/2),o=l=>{const c=(t-Math.min(s,l))*r/2;return Qt(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Qt(i.innerStart,0,a),innerEnd:Qt(i.innerEnd,0,a)}}function ns(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Eu(n,e,t,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+t-c,0),h=u>0?u+r+t+c:0;let f=0;const m=i-l;if(r){const E=u>0?u-r:0,F=d>0?d-r:0,W=(E+F)/2,N=W!==0?m*W/(W+r):m;f=(m-N)/2}const p=Math.max(.001,m*d-t/Mt)/d,v=(m-p)/2,y=l+v+f,_=i-v-f,{outerStart:S,outerEnd:T,innerStart:k,innerEnd:O}=a5(e,h,d,_-y),D=d-S,j=d-T,V=y+S/D,Z=_-T/j,L=h+k,z=h+O,J=y+k/L,G=_-O/z;if(n.beginPath(),s){const E=(V+Z)/2;if(n.arc(a,o,d,V,E),n.arc(a,o,d,E,Z),T>0){const U=ns(j,Z,a,o);n.arc(U.x,U.y,T,Z,_+Bt)}const F=ns(z,_,a,o);if(n.lineTo(F.x,F.y),O>0){const U=ns(z,G,a,o);n.arc(U.x,U.y,O,_+Bt,G+Math.PI)}const W=(_-O/h+(y+k/h))/2;if(n.arc(a,o,h,_-O/h,W,!0),n.arc(a,o,h,W,y+k/h,!0),k>0){const U=ns(L,J,a,o);n.arc(U.x,U.y,k,J+Math.PI,y-Bt)}const N=ns(D,y,a,o);if(n.lineTo(N.x,N.y),S>0){const U=ns(D,V,a,o);n.arc(U.x,U.y,S,y-Bt,V)}}else{n.moveTo(a,o);const E=Math.cos(V)*d+a,F=Math.sin(V)*d+o;n.lineTo(E,F);const W=Math.cos(Z)*d+a,N=Math.sin(Z)*d+o;n.lineTo(W,N)}n.closePath()}function o5(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){Eu(n,e,t,r,l,i);for(let c=0;c<s;++c)n.fill();isNaN(o)||(l=a+(o%Ot||Ot))}return Eu(n,e,t,r,l,i),n.fill(),l}function l5(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=h,f?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let m=e.endAngle;if(s){Eu(n,e,t,r,m,i);for(let p=0;p<s;++p)n.stroke();isNaN(o)||(m=a+(o%Ot||Ot))}f&&i5(n,e,m),s||(Eu(n,e,t,r,m,i),n.stroke())}class ba extends Ir{constructor(t){super();R(this,"circumference");R(this,"endAngle");R(this,"fullCircles");R(this,"innerRadius");R(this,"outerRadius");R(this,"pixelMargin");R(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=I0(s,{x:t,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,m=Je(h,c-l),p=ao(a,l,c)&&l!==c,v=m>=Ot||p,y=qr(o,u+f,d+f);return v&&y}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,d=(s+a)/2,h=(o+l+u+c)/2;return{x:r+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Ot?Math.floor(i/Ot):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Mt,i||0)),u=s*c;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,o5(t,this,u,a,o),l5(t,this,u,a,o),t.restore()}}R(ba,"id","arc"),R(ba,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),R(ba,"defaultRoutes",{backgroundColor:"backgroundColor"}),R(ba,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function ox(n,e,t=e){n.lineCap=Je(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Je(t.borderDash,e.borderDash)),n.lineDashOffset=Je(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Je(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Je(t.borderWidth,e.borderWidth),n.strokeStyle=Je(t.borderColor,e.borderColor)}function c5(n,e,t){n.lineTo(t.x,t.y)}function u5(n){return n.stepped?DR:n.tension||n.cubicInterpolationMode==="monotone"?ER:c5}function lx(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function d5(n,e,t,r){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=lx(i,t,r),u=u5(s);let{move:d=!0,reverse:h}=r||{},f,m,p;for(f=0;f<=c;++f)m=i[(o+(h?c-f:f))%a],!m.skip&&(d?(n.moveTo(m.x,m.y),d=!1):u(n,p,m,h,s.stepped),p=m);return l&&(m=i[(o+(h?c:0))%a],u(n,p,m,h,s.stepped)),!!l}function f5(n,e,t,r){const i=e.points,{count:s,start:a,ilen:o}=lx(i,t,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,h,f,m,p,v,y;const _=T=>(a+(c?o-T:T))%s,S=()=>{p!==v&&(n.lineTo(u,v),n.lineTo(u,p),n.lineTo(u,y))};for(l&&(f=i[_(0)],n.moveTo(f.x,f.y)),h=0;h<=o;++h){if(f=i[_(h)],f.skip)continue;const T=f.x,k=f.y,O=T|0;O===m?(k<p?p=k:k>v&&(v=k),u=(d*u+T)/++d):(S(),n.lineTo(T,k),m=O,d=0,p=v=k),y=k}S()}function Zg(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?f5:d5}function h5(n){return n.stepped?dN:n.tension||n.cubicInterpolationMode==="monotone"?fN:Ci}function g5(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),ox(n,e.options),n.stroke(i)}function m5(n,e,t,r){const{segments:i,options:s}=e,a=Zg(e);for(const o of i)ox(n,s,o.style),n.beginPath(),a(n,e,o,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const p5=typeof Path2D=="function";function v5(n,e,t,r){p5&&!e.options.segment?g5(n,e,t,r):m5(n,e,t,r)}class _a extends Ir{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;rN(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_N(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,a=vN(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],l=h5(r);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:h}=a[c],f=s[d],m=s[h];if(f===m){o.push(f);continue}const p=Math.abs((i-f[t])/(m[t]-f[t])),v=l(f,m,p,r.stepped);v[t]=e[t],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,t,r){return Zg(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=Zg(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const o of i)a&=s(e,this,o,{start:t,end:t+r-1});return!!a}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),v5(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}R(_a,"id","line"),R(_a,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),R(_a,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),R(_a,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function py(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class su extends Ir{constructor(t){super();R(this,"parsed");R(this,"skip");R(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return py(this,t,"x",r)}inYRange(t,r){return py(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!oo(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,zg(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}R(su,"id","point"),R(su,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),R(su,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function cx(n,e){const{x:t,y:r,base:i,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return n.horizontal?(d=a/2,o=Math.min(t,i),l=Math.max(t,i),c=r-d,u=r+d):(d=s/2,o=t-d,l=t+d,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function Xr(n,e,t,r){return n?0:Qt(e,t,r)}function y5(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=z0(r);return{t:Xr(i.top,s.top,0,t),r:Xr(i.right,s.right,0,e),b:Xr(i.bottom,s.bottom,0,t),l:Xr(i.left,s.left,0,e)}}function b5(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=gs(i),a=Math.min(e,t),o=n.borderSkipped,l=r||rt(i);return{topLeft:Xr(!l||o.top||o.left,s.topLeft,0,a),topRight:Xr(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Xr(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Xr(!l||o.bottom||o.right,s.bottomRight,0,a)}}function _5(n){const e=cx(n),t=e.right-e.left,r=e.bottom-e.top,i=y5(n,t/2,r/2),s=b5(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Xh(n,e,t,r){const i=e===null,s=t===null,o=n&&!(i&&s)&&cx(n,r);return o&&(i||qr(e,o.left,o.right))&&(s||qr(t,o.top,o.bottom))}function x5(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function w5(n,e){n.rect(e.x,e.y,e.w,e.h)}function Jh(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,a=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+a,radius:n.radius}}class au extends Ir{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=_5(this),o=x5(a.radius)?Ou:w5;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,Jh(a,t,s)),e.clip(),o(e,Jh(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,Jh(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return Xh(this,e,t,r)}inXRange(e,t){return Xh(this,e,null,t)}inYRange(e,t){return Xh(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}R(au,"id","bar"),R(au,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),R(au,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Yg=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],vy=Yg.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function ux(n){return Yg[n%Yg.length]}function dx(n){return vy[n%vy.length]}function S5(n,e){return n.borderColor=ux(e),n.backgroundColor=dx(e),++e}function T5(n,e){return n.backgroundColor=n.data.map(()=>ux(e++)),e}function k5(n,e){return n.backgroundColor=n.data.map(()=>dx(e++)),e}function P5(n){let e=0;return(t,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof ds?e=T5(t,e):i instanceof nu?e=k5(t,e):i&&(e=S5(t,e))}}function yy(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function A5(n){return n&&(n.borderColor||n.backgroundColor)}function M5(){return Pt.borderColor!=="rgba(0,0,0,0.1)"||Pt.backgroundColor!=="rgba(0,0,0,0.1)"}var O5={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:s}=i,a=yy(r)||A5(i)||s&&yy(s)||M5();if(!t.forceOverride&&a)return;const o=P5(n);r.forEach(o)}};const by=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},C5=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class _y extends Ir{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=pt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=en(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=by(r,s);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((m,p)=>{const v=r+t/2+s.measureText(m.text).width;(p===0||c[c.length-1]+v+2*o>a)&&(d+=u,c[c.length-(p>0?0:1)]=0,f+=u,h++),l[p]={left:0,top:f,row:h,width:v,height:i},c[c.length-1]+=v+o}),d}_fitCols(e,t,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,h=0,f=0,m=0,p=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:_,itemHeight:S}=D5(r,t,s,v,i);y>0&&f+S+2*o>u&&(d+=h+o,c.push({width:h,height:f}),m+=h+o,p++,h=f=0),l[y]={left:m,top:f,col:p,width:_,height:S},h=Math.max(h,_),f+=S+o}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,a=ms(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Xt(r,this.left+i,this.right-this.lineWidths[o]);for(const c of t)o!==c.row&&(o=c.row,l=Xt(r,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=Xt(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of t)c.col!==o&&(o=c.col,l=Xt(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Qm(e,this),this._draw(),ep(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=Pt.color,l=ms(e.rtl,this.left,this.width),c=en(a.font),{padding:u}=a,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:p,itemHeight:v}=by(a,d),y=function(O,D,j){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;i.save();const V=Je(j.lineWidth,1);if(i.fillStyle=Je(j.fillStyle,o),i.lineCap=Je(j.lineCap,"butt"),i.lineDashOffset=Je(j.lineDashOffset,0),i.lineJoin=Je(j.lineJoin,"miter"),i.lineWidth=V,i.strokeStyle=Je(j.strokeStyle,o),i.setLineDash(Je(j.lineDash,[])),a.usePointStyle){const Z={radius:p*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:V},L=l.xPlus(O,m/2),z=D+h;B0(i,Z,L,z,a.pointStyleWidth&&m)}else{const Z=D+Math.max((d-p)/2,0),L=l.leftForLtr(O,m),z=gs(j.borderRadius);i.beginPath(),Object.values(z).some(J=>J!==0)?Ou(i,{x:L,y:Z,w:m,h:p,radius:z}):i.rect(L,Z,m,p),i.fill(),V!==0&&i.stroke()}i.restore()},_=function(O,D,j){lo(i,j.text,O,D+v/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},S=this.isHorizontal(),T=this._computeTitleHeight();S?f={x:Xt(s,this.left+u,this.right-r[0]),y:this.top+u+T,line:0}:f={x:this.left+u,y:Xt(s,this.top+T+u,this.bottom-t[0].height),line:0},Y0(this.ctx,e.textDirection);const k=v+u;this.legendItems.forEach((O,D)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const j=i.measureText(O.text).width,V=l.textAlign(O.textAlign||(O.textAlign=a.textAlign)),Z=m+h+j;let L=f.x,z=f.y;l.setWidth(this.width),S?D>0&&L+Z+u>this.right&&(z=f.y+=k,f.line++,L=f.x=Xt(s,this.left+u,this.right-r[f.line])):D>0&&z+k>this.bottom&&(L=f.x=L+t[f.line].width+u,f.line++,z=f.y=Xt(s,this.top+T+u,this.bottom-t[f.line].height));const J=l.x(L);if(y(J,z,O),L=yR(V,L+m+h,S?L+Z:this.right,e.rtl),_(l.x(L),z,O),S)f.x+=Z+u;else if(typeof O.text!="string"){const G=c.lineHeight;f.y+=fx(O,G)+u}else f.y+=k}),$0(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=en(t.font),i=In(t.padding);if(!t.display)return;const s=ms(e.rtl,this.left,this.width),a=this.ctx,o=t.position,l=r.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Xt(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);u=c+Xt(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=Xt(o,d,d+h);a.textAlign=s.textAlign(Xm(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,lo(a,t.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,t=en(e.font),r=In(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(qr(e,this.left,this.right)&&qr(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],qr(e,i.left,i.left+i.width)&&qr(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!R5(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=C5(i,r);i&&!s&&pt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&pt(t.onHover,[e,r,this],this)}else r&&pt(t.onClick,[e,r,this],this)}}function D5(n,e,t,r,i){const s=E5(r,n,e,t),a=I5(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function E5(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+r.measureText(i).width}function I5(n,e,t){let r=n;return typeof e.text!="string"&&(r=fx(e,t)),r}function fx(n,e){const t=n.text?n.text.length:0;return e*t}function R5(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var N5={id:"legend",_element:_y,start(n,e,t){const r=n.legend=new _y({ctx:n.ctx,options:t,chart:n});Dn.configure(n,r,t),Dn.addBox(n,r)},stop(n){Dn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Dn.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=In(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class hx extends Ir{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=jt(r.text)?r.text.length:1;this._padding=In(r.padding);const s=i*en(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=Xt(o,r,s),d=t+e,c=s-r):(a.position==="left"?(u=r+e,d=Xt(o,i,t),l=Mt*-.5):(u=s-e,d=Xt(o,t,i),l=Mt*.5),c=i-t),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=en(t.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);lo(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:Xm(t.align),textBaseline:"middle",translation:[a,o]})}}function F5(n,e){const t=new hx({ctx:n.ctx,options:e,chart:n});Dn.configure(n,t,e),Dn.addBox(n,t),n.titleBlock=t}var L5={id:"title",_element:hx,start(n,e,t){F5(n,t)},stop(n){const e=n.titleBlock;Dn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Dn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xa={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=n.length;s<a;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=jg(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function Gn(n,e){return e&&(jt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function br(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function j5(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:n,label:a,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function xy(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:a,boxHeight:o}=e,l=en(e.bodyFont),c=en(e.titleFont),u=en(e.footerFont),d=s.length,h=i.length,f=r.length,m=In(e.padding);let p=m.height,v=0,y=r.reduce((T,k)=>T+k.before.length+k.lines.length+k.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,d&&(p+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const T=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=f*T+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let _=0;const S=function(T){v=Math.max(v,t.measureText(T).width+_)};return t.save(),t.font=c.string,dt(n.title,S),t.font=l.string,dt(n.beforeBody.concat(n.afterBody),S),_=e.displayColors?a+2+e.boxPadding:0,dt(r,T=>{dt(T.before,S),dt(T.lines,S),dt(T.after,S)}),_=0,t.font=u.string,dt(n.footer,S),t.restore(),v+=m.width,{width:v,height:p}}function B5(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function z5(n,e,t,r){const{x:i,width:s}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&i+s+a>e.width||n==="right"&&i-s-a<0)return!0}function V5(n,e,t,r){const{x:i,width:s}=t,{width:a,chartArea:{left:o,right:l}}=n;let c="center";return r==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),z5(c,n,e,t)&&(c="center"),c}function wy(n,e,t){const r=t.yAlign||e.yAlign||B5(n,t);return{xAlign:t.xAlign||e.xAlign||V5(n,e,t,r),yAlign:r}}function W5(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function U5(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function Sy(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=n,{xAlign:o,yAlign:l}=t,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=gs(a);let m=W5(e,o);const p=U5(e,l,c);return l==="center"?o==="left"?m+=c:o==="right"&&(m-=c):o==="left"?m-=Math.max(u,h)+i:o==="right"&&(m+=Math.max(d,f)+i),{x:Qt(m,0,r.width-e.width),y:Qt(p,0,r.height-e.height)}}function Bc(n,e,t){const r=In(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Ty(n){return Gn([],br(n))}function H5(n,e,t){return Xi(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function ky(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const gx={beforeTitle:pr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:pr,beforeBody:pr,beforeLabel:pr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return lt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:pr,afterBody:pr,beforeFooter:pr,footer:pr,afterFooter:pr};function hn(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?gx[e].call(t,r):i}class $g extends Ir{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new K0(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=H5(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=hn(r,"beforeTitle",this,e),s=hn(r,"title",this,e),a=hn(r,"afterTitle",this,e);let o=[];return o=Gn(o,br(i)),o=Gn(o,br(s)),o=Gn(o,br(a)),o}getBeforeBody(e,t){return Ty(hn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return dt(e,s=>{const a={before:[],lines:[],after:[]},o=ky(r,s);Gn(a.before,br(hn(o,"beforeLabel",this,s))),Gn(a.lines,hn(o,"label",this,s)),Gn(a.after,br(hn(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,t){return Ty(hn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=hn(r,"beforeFooter",this,e),s=hn(r,"footer",this,e),a=hn(r,"afterFooter",this,e);let o=[];return o=Gn(o,br(i)),o=Gn(o,br(s)),o=Gn(o,br(a)),o}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=t.length;l<c;++l)o.push(j5(this.chart,t[l]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,r))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,r))),dt(o,u=>{const d=ky(e.callbacks,u);i.push(hn(d,"labelColor",this,u)),s.push(hn(d,"labelPointStyle",this,u)),a.push(hn(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=xa[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=xy(this,r),c=Object.assign({},o,l),u=wy(this.chart,r,c),d=Sy(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=gs(o),{x:h,y:f}=e,{width:m,height:p}=t;let v,y,_,S,T,k;return s==="center"?(T=f+p/2,i==="left"?(v=h,y=v-a,S=T+a,k=T-a):(v=h+m,y=v+a,S=T-a,k=T+a),_=v):(i==="left"?y=h+Math.max(l,u)+a:i==="right"?y=h+m-Math.max(c,d)-a:y=this.caretX,s==="top"?(S=f,T=S-a,v=y-a,_=y+a):(S=f+p,T=S+a,v=y+a,_=y-a),k=S),{x1:v,x2:y,x3:_,y1:S,y2:T,y3:k}}drawTitle(e,t,r){const i=this.title,s=i.length;let a,o,l;if(s){const c=ms(r.rtl,this.x,this.width);for(e.x=Bc(this,r.titleAlign,r),t.textAlign=c.textAlign(r.titleAlign),t.textBaseline="middle",a=en(r.titleFont),o=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,t,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=en(s.bodyFont),d=Bc(this,"left",s),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=t.y+f;if(s.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(h,c)+c/2,y=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,zg(e,p,v,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,zg(e,p,v,y)}else{e.lineWidth=rt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(h,c),v=i.leftForLtr(i.xPlus(h,1),c-2),y=gs(a.borderRadius);Object.values(y).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Ou(e,{x:p,y:m,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Ou(e,{x:v,y:m+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,m,c,l),e.strokeRect(p,m,c,l),e.fillStyle=a.backgroundColor,e.fillRect(v,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=en(r.bodyFont);let h=d.lineHeight,f=0;const m=ms(r.rtl,this.x,this.width),p=function(j){t.fillText(j,m.x(e.x+f),e.y+h/2),e.y+=h+s},v=m.textAlign(a);let y,_,S,T,k,O,D;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=Bc(this,v,r),t.fillStyle=r.bodyColor,dt(this.beforeBody,p),f=o&&v!=="right"?a==="center"?c/2+u:c+2+u:0,T=0,O=i.length;T<O;++T){for(y=i[T],_=this.labelTextColors[T],t.fillStyle=_,dt(y.before,p),S=y.lines,o&&S.length&&(this._drawColorBox(t,e,T,m,r),h=Math.max(d.lineHeight,l)),k=0,D=S.length;k<D;++k)p(S[k]),h=d.lineHeight;dt(y.after,p)}f=0,h=d.lineHeight,dt(this.afterBody,p),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let a,o;if(s){const l=ms(r.rtl,this.x,this.width);for(e.x=Bc(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",a=en(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,o=0;o<s;++o)t.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=gs(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+d,l),a==="top"&&this.drawCaret(e,t,r,i),t.lineTo(o+c-h,l),t.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(o+c,l+u-m),t.quadraticCurveTo(o+c,l+u,o+c-m,l+u),a==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(o+f,l+u),t.quadraticCurveTo(o,l+u,o,l+u-f),a==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(o,l+d),t.quadraticCurveTo(o,l,o+d,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=xa[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=xy(this,e),l=Object.assign({},a,this._size),c=wy(t,e,l),u=Sy(e,l,c,t);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=In(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),Y0(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),$0(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!Pu(r,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),o=this._positionChanged(a,e),l=t||!Pu(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,a=xa[s.position].call(this,e,t);return a!==!1&&(r!==a.x||i!==a.y)}}R($g,"positioners",xa);var Z5={id:"tooltip",_element:$g,positioners:xa,afterInit(n,e,t){t&&(n.tooltip=new $g({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Y5=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function $5(n,e,t,r){const i=n.indexOf(e);if(i===-1)return Y5(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const G5=(n,e)=>n===null?null:Qt(Math.round(n),0,e);function Py(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Gg extends qs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(lt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:$5(r,e,Je(t,e),this._addedLabels),G5(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return Py.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}R(Gg,"id","category"),R(Gg,"defaults",{ticks:{callback:Py}});function K5(n,e){const t=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=n,f=s||1,m=u-1,{min:p,max:v}=e,y=!lt(a),_=!lt(o),S=!lt(c),T=(v-p)/(d+1);let k=Pv((v-p)/m/f)*f,O,D,j,V;if(k<1e-14&&!y&&!_)return[{value:p},{value:v}];V=Math.ceil(v/k)-Math.floor(p/k),V>m&&(k=Pv(V*k/m/f)*f),lt(l)||(O=Math.pow(10,l),k=Math.ceil(k*O)/O),i==="ticks"?(D=Math.floor(p/k)*k,j=Math.ceil(v/k)*k):(D=p,j=v),y&&_&&s&&cR((o-a)/s,k/1e3)?(V=Math.round(Math.min((o-a)/k,u)),k=(o-a)/V,D=a,j=o):S?(D=y?a:D,j=_?o:j,V=c-1,k=(j-D)/V):(V=(j-D)/k,Aa(V,Math.round(V),k/1e3)?V=Math.round(V):V=Math.ceil(V));const Z=Math.max(Av(k),Av(D));O=Math.pow(10,lt(l)?Z:l),D=Math.round(D*O)/O,j=Math.round(j*O)/O;let L=0;for(y&&(h&&D!==a?(t.push({value:a}),D<a&&L++,Aa(Math.round((D+L*k)*O)/O,a,Ay(a,T,n))&&L++):D<a&&L++);L<V;++L){const z=Math.round((D+L*k)*O)/O;if(_&&z>o)break;t.push({value:z})}return _&&h&&j!==o?t.length&&Aa(t[t.length-1].value,o,Ay(o,T,n))?t[t.length-1].value=o:t.push({value:o}):(!_||j===o)&&t.push({value:j}),t}function Ay(n,e,{horizontal:t,minRotation:r}){const i=tr(r),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class q5 extends qs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return lt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=t?i:l,o=l=>s=r?s:l;if(e){const l=rr(i),c=rr(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=K5(i,s);return e.bounds==="ticks"&&uR(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return nh(e,this.chart.options.locale,this.options.ticks.format)}}class Kg extends q5{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=En(e)?e:0,this.max=En(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=tr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}R(Kg,"id","linear"),R(Kg,"defaults",{ticks:{callback:j0.formatters.numeric}});const sh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},mn=Object.keys(sh);function My(n,e){return n-e}function Oy(n,e){if(lt(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),En(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(so(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function Cy(n,e,t,r){const i=mn.length;for(let s=mn.indexOf(n);s<i-1;++s){const a=sh[mn[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=r)return mn[s]}return mn[i-1]}function X5(n,e,t,r,i){for(let s=mn.length-1;s>=mn.indexOf(t);s--){const a=mn[s];if(sh[a].common&&n._adapter.diff(i,r,a)>=e-1)return a}return mn[t?mn.indexOf(t):0]}function J5(n){for(let e=mn.indexOf(n)+1,t=mn.length;e<t;++e)if(sh[mn[e]].common)return mn[e]}function Dy(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=qm(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function Q5(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=t[o],l>=0&&(e[l].major=!0);return e}function Ey(n,e,t){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!t?r:Q5(n,r,i,t)}class Iu extends qs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new GN._date(e.adapters.date);i.init(t),Pa(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Oy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=En(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=En(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=mR(i,s,a);return this._unit=t.unit||(r.autoSkip?Cy(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):X5(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:J5(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Ey(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Qt(t,0,a),r=Qt(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||Cy(s.minUnit,t,r,this._getLabelCapacity(t)),o=Je(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=so(l)||l===!0,u={};let d=t,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(r,t,a)>1e5*o)throw new Error(t+" and "+r+" are too far apart with stepSize of "+o+" "+a);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<r;h=+e.add(h,o,a),f++)Dy(u,h,m);return(h===r||i.bounds==="ticks"||f===1)&&Dy(u,h,m),Object.keys(u).sort(My).map(p=>+p)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,a=t||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,i){const s=this.options,a=s.ticks.callback;if(a)return pt(a,[e,t,r],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],h=r[t],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=tr(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Ey(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(Oy(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return N0(e.sort(My))}}R(Iu,"id","time"),R(Iu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zc(n,e,t){let r=0,i=n.length-1,s,a,o,l;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Ei(n,"pos",e)),{pos:s,time:o}=n[r],{pos:a,time:l}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Ei(n,"time",e)),{time:s,pos:o}=n[r],{time:a,pos:l}=n[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class Iy extends Iu{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=zc(t,this.min),this._tableRange=zc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(zc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return zc(this._table,r*this._tableRange+this._minPos,!0)}}R(Iy,"id","timeseries"),R(Iy,"defaults",Iu.defaults);var e3=$("<canvas></canvas>");function mx(n,e){re(e,!0);let t=w(e,"options",3,void 0),r=w(e,"plugins",19,()=>[]),i=ye(e,["$$slots","$$events","$$legacy","type","data","options","plugins"]);Hg.register(O5,eu,au,Gg,tu,Kg,su,_a,N5,L5,Vg,ba,Z5);let s,a=null;Zs(()=>{a=new Hg(s,{type:e.type,data:e.data,options:t(),plugins:r()})}),Qe(()=>{a&&(a.data=e.data,a.options&&Object.assign(a.options,t()),a.update())}),wa(()=>{a&&a.destroy(),a=null});var o=e3();let l;ir(o,c=>s=c,()=>s),fe(()=>l=Oe(o,l,{...i})),b(n,o),ie()}var t3=$(`<div class="border-primary flex w-full flex-col items-center justify-center rounded-xl
                    border-4 p-5"><p class="leading-7 [&amp;:not(:first-child)]:mt-6">Create a task with a due date and time estimate to see the burndown chart.</p></div>`),n3=$('<div style="max-width: 500px; aspect-ratio: 2;"><!></div>');function r3(n,e){re(e,!0);let t=ee(!1),r=ee(ct({labels:[],datasets:[{label:"ideal",data:[]},{label:"actual",data:[]}]}));Qe(()=>{console.log("Updating chart");let c=e.project.tasks.filter(_=>_.dueDate&&_.timeEstimate);if(c.length===0){H(t,!1);return}else H(t,!0);let u=[];c.forEach(_=>{_.sessions.forEach(S=>{S.startTime!=0&&S.endTime!=0&&u.push(S)})});let d=e.project.created,h=c.reduce((_,S)=>S.dueDate>_?S.dueDate:_,c[0].dueDate);h+=1e3*60*60*24;let f=[],m=[],p=[],v=new Date(d),y=new Date(h);for(;v<=y;){f.push(v.toLocaleDateString());let _=c.reduce((T,k)=>k.dueDate>=v.getTime()?T+k.timeEstimate/(k.dueDate-d)*(v.getTime()-d):T+k.timeEstimate,0);m.push(_);let S=u.reduce((T,k)=>k.endTime<=v.getTime()?T+(k.endTime-k.startTime):T,0);p.push(S),v.setDate(v.getDate()+1)}m=m.map(_=>_/(1e3*60*60)),p=p.map(_=>_/(1e3*60*60)),H(r,{labels:f,datasets:[{label:"ideal",data:m},{label:"actual",data:p}]},!0)});let i={scales:{y:{title:{display:!0,text:"Hours"}},x:{title:{display:!0,text:"Date"}}},plugins:{title:{display:!0,text:"Progress Chart"}}};var s=n3(),a=ne(s);{var o=c=>{const u=C(()=>Rs(g(r)));mx(c,{type:"line",get data(){return g(u)},options:i})},l=c=>{var u=t3();b(c,u)};ve(a,c=>{g(t)?c(o):c(l,!1)})}Q(s),b(n,s),ie()}var i3=$(`<div class="border-primary flex w-full flex-col items-center justify-center rounded-xl
                    border-4 p-5"><p class="leading-7 [&amp;:not(:first-child)]:mt-6">Record sessions to see the time breakdown pie chart.</p></div>`),s3=$('<div style="max-width: 500px; aspect-ratio: 1;"><!></div>');function a3(n,e){re(e,!0);let t=ee(!1),r=ct({labels:e.project.users.map(l=>l.firstName+" "+l.lastName),datasets:[{data:[]}]});Zs(()=>{const l=Object.fromEntries(e.project.users.map(c=>[c.id,0]));for(const c of e.project.tasks)for(const u of c.sessions)l[u.user]+=(u.endTime-u.startTime)/1e3/60/60;if(Object.values(l).every(c=>!c)){H(t,!1);return}else H(t,!0);r.datasets[0].data=Object.values(l)});var i=s3(),s=ne(i);{var a=l=>{const c=C(()=>Rs(r));mx(l,{type:"pie",get data(){return g(c)},options:{plugins:{tooltip:{callbacks:{label:({formattedValue:u})=>u+" hr"}}}}})},o=l=>{var c=i3();b(l,c)};ve(s,l=>{g(t)?l(a):l(o,!1)})}Q(i),b(n,i),ie()}var o3=$('<div class="flex flex-col gap-5"><!> <!></div>');function l3(n,e){var t=I(),r=P(t);Y(r,()=>qi,(i,s)=>{s(i,{value:"stats",children:(a,o)=>{var l=o3(),c=ne(l);r3(c,{get project(){return e.project}});var u=X(c,2);a3(u,{get project(){return e.project}}),Q(l),b(a,l)},$$slots:{default:!0}})}),b(n,t)}var c3=$("Due Date <!>",1),u3=$(" <!>",1),d3=$('<div class="flex items-center gap-1"><!> <!></div>'),f3=$("<!> <!>",1);function h3(n,e){re(e,!0);let t=new Date(e.task.dueDate);console.log(e.task);let r=e.task.dueDate===0?void 0:new si(t.getFullYear(),t.getMonth()+1,t.getDate()),i=ee(ct(r)),s=ee(null);async function a(){var d;const u=((d=g(i))==null?void 0:d.toDate(cc()).getTime())??0;e.project.updateInProject(`Tasks[Id=${e.task.id}].DueDate`,u)}async function o(u){u.stopPropagation(),e.project.updateInProject(`Tasks[Id=${e.task.id}].DueDate`,0)}var l=I(),c=P(l);Y(c,()=>zm,(u,d)=>{d(u,{children:(h,f)=>{var m=f3(),p=P(m);Y(p,()=>Vm,(y,_)=>{_(y,{children:(S,T)=>{P0(S,{class:"pl-2 pr-0.5",onclick:a,children:(k,O)=>{var D=d3(),j=ne(D);MM(j,{size:"12"});var V=X(j,2);{var Z=z=>{var J=c3(),G=X(P(J));B_(G,{size:"15"}),b(z,J)},L=z=>{var J=u3(),G=P(J),E=X(G);Y(E,()=>Eb,(F,W)=>{W(F,{class:`
        ring-offset-background hover:bg-accent hover:text-accent-foreground focus-visible:ring-ring inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2
        disabled:pointer-events-none disabled:opacity-50`,onclick:o,children:(N,U)=>{Pb(N,{size:"15"})},$$slots:{default:!0}})}),fe((F,W)=>Xe(G,`${F??""}

                    ${W??""} `),[()=>new Date(e.task.dueDate).toLocaleString("default",{month:"long"}),()=>new Date(e.task.dueDate).toLocaleString("default",{day:"numeric"})]),b(z,J)};ve(V,z=>{e.task.dueDate===0?z(Z):z(L,!1)})}Q(D),b(k,D)},$$slots:{default:!0}})},$$slots:{default:!0}})});var v=X(p,2);Y(v,()=>Bm,(y,_)=>{_(y,{class:"w-auto p-0",get ref(){return g(s)},set ref(S){H(s,S,!0)},children:(S,T)=>{$E(S,{type:"single",onValueChange:a,class:"rounded-md border",get value(){return g(i)},set value(k){H(i,k,!0)}})},$$slots:{default:!0}})}),b(h,m)},$$slots:{default:!0}})}),b(n,l),ie()}var g3=$("Time Estimate <!>",1),m3=$(" <!>",1),p3=$('<div class="flex items-center gap-1"><!> <!></div>'),v3=$('<div class="flex items-center gap-3 p-2"><!> <!></div>'),y3=$("<!> <!>",1);function b3(n,e){re(e,!0);let t=ee(void 0),r=ee(null),i=ee(!1);Qe(()=>{H(t,e.task.timeEstimate===0?"":(e.task.timeEstimate/1e3/60/60).toString(),!0)});async function s(){H(i,!1);let c=Number(g(t));isNaN(c)&&(c=0),c=Math.round(c*10)/10;let u=c*60*60*1e3;H(t,c.toString(),!0),e.project.updateInProject(`Tasks[Id=${e.task.id}].TimeEstimate`,u)}async function a(c){c.stopPropagation(),H(i,!1),e.project.updateInProject(`Tasks[Id=${e.task.id}].TimeEstimate`,0)}var o=I(),l=P(o);Y(l,()=>zm,(c,u)=>{u(c,{get open(){return g(i)},set open(d){H(i,d,!0)},children:(d,h)=>{var f=y3(),m=P(f);Y(m,()=>Vm,(v,y)=>{y(v,{children:(_,S)=>{P0(_,{class:"pl-2 pr-0.5",onclick:s,children:(T,k)=>{var O=p3(),D=ne(O);IM(D,{size:"12"});var j=X(D,2);{var V=L=>{var z=g3(),J=X(P(z));B_(J,{size:"15"}),b(L,z)},Z=L=>{var z=m3(),J=P(z),G=X(J);Y(G,()=>Eb,(E,F)=>{F(E,{class:`
        inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
        disabled:pointer-events-none disabled:opacity-50`,onclick:a,children:(W,N)=>{Pb(W,{size:"15"})},$$slots:{default:!0}})}),fe(()=>Xe(J,`${e.task.timeEstimate/1e3/60/60} Hrs `)),b(L,z)};ve(j,L=>{e.task.timeEstimate===0?L(V):L(Z,!1)})}Q(O),b(T,O)},$$slots:{default:!0}})},$$slots:{default:!0}})});var p=X(m,2);Y(p,()=>Bm,(v,y)=>{y(v,{class:"w-auto p-0",get ref(){return g(r)},set ref(_){H(r,_,!0)},children:(_,S)=>{var T=v3(),k=ne(T);Pr(k,{id:"estimate",onchange:s,get value(){return g(t)},set value(D){H(t,D,!0)}});var O=X(k,2);Ab(O,{for:"estimate",children:(D,j)=>{Ie();var V=Le("Hours");b(D,V)},$$slots:{default:!0}}),Q(T),b(_,T)},$$slots:{default:!0}})}),b(d,f)},$$slots:{default:!0}})}),b(n,o),ie()}function _3(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"align",3,"center"),i=w(e,"sideOffset",3,4),s=ye(e,["$$slots","$$events","$$legacy","ref","class","align","sideOffset","portalProps"]);var a=I(),o=P(a);Y(o,()=>um,(l,c)=>{c(l,Pe(()=>e.portalProps,{children:(u,d)=>{var h=I(),f=P(h);const m=C(()=>et("bg-popover text-popover-foreground z-50 mt-3 w-64 rounded-md border p-4 shadow-md outline-none",e.class));Y(f,()=>GA,(p,v)=>{v(p,Pe({get align(){return r()},get sideOffset(){return i()},get class(){return g(m)}},()=>s,{get ref(){return t()},set ref(y){t(y)}}))}),b(u,h)},$$slots:{default:!0}}))}),b(n,a),ie()}const x3=HA,w3=qA;var S3=$('<!> <small class="text-sm font-medium leading-none">Sessions</small>',1),T3=$('<!> <small class="w-10 text-sm font-medium leading-none"> </small>',1),k3=$('<div class="inline-block"><div class="flex items-center justify-center gap-1 p-2"><!></div></div>'),P3=$('<div class="flex items-center gap-1"><div class="inline-block"><!></div> <p> </p></div>'),A3=$("<!> <!>",1);function M3(n,e){re(e,!0);const t=y=>{var _=k3(),S=ne(_),T=ne(S);{var k=D=>{var j=S3(),V=P(j);gn(V,{class:"rounded-full",variant:"outline",size:"icon",onclick:d,children:(Z,L)=>{RM(Z,{})},$$slots:{default:!0}}),Ie(2),b(D,j)},O=(D,j)=>{{var V=Z=>{var L=T3(),z=P(L);gn(z,{class:"rounded-full",variant:"outline",size:"icon",onclick:h,children:(E,F)=>{FM(E,{})},$$slots:{default:!0}});var J=X(z,2),G=ne(J,!0);Q(J),fe(()=>Xe(G,g(a))),b(Z,L)};ve(D,Z=>{g(s)==="Running"&&Z(V)},j)}};ve(T,D=>{g(s)==="NotStarted"?D(k):D(O,!1)})}Q(S),Q(_),b(y,_)};let r=w(e,"progress",15),i=C(()=>e.task.sessions.filter(_=>_.user===localStorage.myId).find(_=>_.startTime!=0&&_.endTime===0)),s=C(()=>g(i)==null?"NotStarted":"Running"),a=ee(""),o=C(()=>{if(e.task.timeEstimate===0)return 0;let y=0;for(const _ of e.task.sessions)_.endTime!=0&&(y+=_.endTime-_.startTime);return y}),l=C(()=>e.task.timeEstimate===0?1:e.task.timeEstimate),c=C(()=>{let y=e.task.sessions.filter(T=>T.endTime!=0),_=Object.groupBy(y,({user:T})=>T),S=[];for(const[T,k]of Object.entries(_)){let O=0;if(k==null)continue;for(const j of k)j.endTime!=0&&(O+=j.endTime-j.startTime);let D=Math.floor(O/1e3);S.push({id:T,time:`${Math.floor(D/60).toString().padStart(2,"0")}:${(D%60).toString().padStart(2,"0")}`})}return S}),u=C(()=>e.task.sessions.filter(y=>y.endTime!=0).length<=0);const d=()=>{e.project.appendInProject(`Tasks[Id=${e.task.id}].Sessions`,{id:crypto.randomUUID(),startTime:Date.now(),endTime:0,user:localStorage.myId})},h=()=>{if(g(i)){e.project.updateInProject(`Tasks[Id=${e.task.id}].Sessions[Id=${g(i).id}].EndTime`,Date.now());let y=Math.floor((Date.now()-g(i).startTime)/1e3);ig("seconds",y)}else mb.error("Failed to stop session")};Zs(()=>{const y=setInterval(()=>{if(g(i)){let _=Math.floor((Date.now()-g(i).startTime)/1e3);H(a,`${Math.floor(_/60).toString().padStart(2,"0")}:${(_%60).toString().padStart(2,"0")}`)}else H(a,"00:00")},1e3);return()=>clearInterval(y)}),Qe(()=>{r(100*(g(o)??0)/(g(l)??1))});var f=I(),m=P(f);{var p=y=>{t(y)},v=y=>{var _=I(),S=P(_);Y(S,()=>x3,(T,k)=>{k(T,{children:(O,D)=>{var j=A3(),V=P(j);Y(V,()=>w3,(L,z)=>{z(L,{children:(J,G)=>{t(J)},$$slots:{default:!0}})});var Z=X(V,2);Y(Z,()=>_3,(L,z)=>{z(L,{side:"bottom",align:"start",sideOffset:0,children:(J,G)=>{var E=I(),F=P(E);xt(F,17,()=>g(c),wt,(W,N)=>{var U=P3(),K=ne(U),ce=ne(K);sm(ce,{get project(){return e.project},get userID(){return g(N).id}}),Q(K);var se=X(K,2),he=ne(se,!0);Q(se),Q(U),fe(()=>Xe(he,g(N).time)),b(W,U)}),b(J,E)},$$slots:{default:!0}})}),b(O,j)},$$slots:{default:!0}})}),b(y,_)};ve(m,y=>{g(u)?y(p):y(v,!1)})}b(n,f),ie()}function O3(n){Ia("toggleGroup",n)}function C3(){return rm("toggleGroup")}function D3(n,e){re(e,!0);let t=w(e,"ref",15,null),r=w(e,"value",15),i=w(e,"size",3,"default"),s=w(e,"variant",3,"default"),a=ye(e,["$$slots","$$events","$$legacy","ref","value","class","size","variant"]);O3({variant:s(),size:i()});var o=I(),l=P(o);const c=C(()=>et("flex items-center justify-center gap-1",e.class));Y(l,()=>kM,(u,d)=>{d(u,Pe({get class(){return g(c)}},()=>a,{get value(){return r()},set value(h){r(h)},get ref(){return t()},set ref(h){t(h)}}))}),b(n,o),ie()}const E3=bb({base:"ring-offset-background hover:bg-muted hover:text-muted-foreground focus-visible:ring-ring data-[state=on]:bg-accent data-[state=on]:text-accent-foreground inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",variants:{variant:{default:"bg-transparent",outline:"border-input hover:bg-accent hover:text-accent-foreground border bg-transparent"},size:{default:"h-10 min-w-10 px-3",sm:"h-9 min-w-9 px-2.5",lg:"h-11 min-w-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});function I3(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","value","class","size","variant"]);const i=C3();var s=I(),a=P(s);const o=C(()=>et(E3({variant:i.variant||e.variant,size:i.size||e.size}),e.class));Y(a,()=>AM,(l,c)=>{c(l,Pe({get class(){return g(o)},get value(){return e.value}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))}),b(n,s),ie()}var px={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fb,function(){var t="month",r="quarter";return function(i,s){var a=s.prototype;a.quarter=function(c){return this.$utils().u(c)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(c-1))};var o=a.add;a.add=function(c,u){return c=Number(c),this.$utils().p(u)===r?this.add(3*c,t):o.bind(this)(c,u)};var l=a.startOf;a.startOf=function(c,u){var d=this.$utils(),h=!!d.u(u)||u;if(d.p(c)===r){var f=this.quarter()-1;return h?this.month(3*f).startOf(t).startOf("day"):this.month(3*f+2).endOf(t).endOf("day")}return l.bind(this)(c,u)}}})})(px);var R3=px.exports;const N3=im(R3);var vx={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fb,function(){var t=1e3,r=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",c="day",u="week",d="month",h="quarter",f="year",m="date",p="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var E=["th","st","nd","rd"],F=G%100;return"["+G+(E[(F-20)%10]||E[F]||E[0])+"]"}},S=function(G,E,F){var W=String(G);return!W||W.length>=E?G:""+Array(E+1-W.length).join(F)+G},T={s:S,z:function(G){var E=-G.utcOffset(),F=Math.abs(E),W=Math.floor(F/60),N=F%60;return(E<=0?"+":"-")+S(W,2,"0")+":"+S(N,2,"0")},m:function G(E,F){if(E.date()<F.date())return-G(F,E);var W=12*(F.year()-E.year())+(F.month()-E.month()),N=E.clone().add(W,d),U=F-N<0,K=E.clone().add(W+(U?-1:1),d);return+(-(W+(F-N)/(U?N-K:K-N))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:d,y:f,w:u,d:c,D:m,h:l,m:o,s:a,ms:s,Q:h}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},k="en",O={};O[k]=_;var D="$isDayjsObject",j=function(G){return G instanceof z||!(!G||!G[D])},V=function G(E,F,W){var N;if(!E)return k;if(typeof E=="string"){var U=E.toLowerCase();O[U]&&(N=U),F&&(O[U]=F,N=U);var K=E.split("-");if(!N&&K.length>1)return G(K[0])}else{var ce=E.name;O[ce]=E,N=ce}return!W&&N&&(k=N),N||!W&&k},Z=function(G,E){if(j(G))return G.clone();var F=typeof E=="object"?E:{};return F.date=G,F.args=arguments,new z(F)},L=T;L.l=V,L.i=j,L.w=function(G,E){return Z(G,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var z=function(){function G(F){this.$L=V(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[D]=!0}var E=G.prototype;return E.parse=function(F){this.$d=function(W){var N=W.date,U=W.utc;if(N===null)return new Date(NaN);if(L.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var K=N.match(v);if(K){var ce=K[2]-1||0,se=(K[7]||"0").substring(0,3);return U?new Date(Date.UTC(K[1],ce,K[3]||1,K[4]||0,K[5]||0,K[6]||0,se)):new Date(K[1],ce,K[3]||1,K[4]||0,K[5]||0,K[6]||0,se)}}return new Date(N)}(F),this.init()},E.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},E.$utils=function(){return L},E.isValid=function(){return this.$d.toString()!==p},E.isSame=function(F,W){var N=Z(F);return this.startOf(W)<=N&&N<=this.endOf(W)},E.isAfter=function(F,W){return Z(F)<this.startOf(W)},E.isBefore=function(F,W){return this.endOf(W)<Z(F)},E.$g=function(F,W,N){return L.u(F)?this[W]:this.set(N,F)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(F,W){var N=this,U=!!L.u(W)||W,K=L.p(F),ce=function(xe,ue){var ke=L.w(N.$u?Date.UTC(N.$y,ue,xe):new Date(N.$y,ue,xe),N);return U?ke:ke.endOf(c)},se=function(xe,ue){return L.w(N.toDate()[xe].apply(N.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(ue)),N)},he=this.$W,be=this.$M,Te=this.$D,te="set"+(this.$u?"UTC":"");switch(K){case f:return U?ce(1,0):ce(31,11);case d:return U?ce(1,be):ce(0,be+1);case u:var ae=this.$locale().weekStart||0,ge=(he<ae?he+7:he)-ae;return ce(U?Te-ge:Te+(6-ge),be);case c:case m:return se(te+"Hours",0);case l:return se(te+"Minutes",1);case o:return se(te+"Seconds",2);case a:return se(te+"Milliseconds",3);default:return this.clone()}},E.endOf=function(F){return this.startOf(F,!1)},E.$set=function(F,W){var N,U=L.p(F),K="set"+(this.$u?"UTC":""),ce=(N={},N[c]=K+"Date",N[m]=K+"Date",N[d]=K+"Month",N[f]=K+"FullYear",N[l]=K+"Hours",N[o]=K+"Minutes",N[a]=K+"Seconds",N[s]=K+"Milliseconds",N)[U],se=U===c?this.$D+(W-this.$W):W;if(U===d||U===f){var he=this.clone().set(m,1);he.$d[ce](se),he.init(),this.$d=he.set(m,Math.min(this.$D,he.daysInMonth())).$d}else ce&&this.$d[ce](se);return this.init(),this},E.set=function(F,W){return this.clone().$set(F,W)},E.get=function(F){return this[L.p(F)]()},E.add=function(F,W){var N,U=this;F=Number(F);var K=L.p(W),ce=function(be){var Te=Z(U);return L.w(Te.date(Te.date()+Math.round(be*F)),U)};if(K===d)return this.set(d,this.$M+F);if(K===f)return this.set(f,this.$y+F);if(K===c)return ce(1);if(K===u)return ce(7);var se=(N={},N[o]=r,N[l]=i,N[a]=t,N)[K]||1,he=this.$d.getTime()+F*se;return L.w(he,this)},E.subtract=function(F,W){return this.add(-1*F,W)},E.format=function(F){var W=this,N=this.$locale();if(!this.isValid())return N.invalidDate||p;var U=F||"YYYY-MM-DDTHH:mm:ssZ",K=L.z(this),ce=this.$H,se=this.$m,he=this.$M,be=N.weekdays,Te=N.months,te=N.meridiem,ae=function(ue,ke,Ee,we){return ue&&(ue[ke]||ue(W,U))||Ee[ke].slice(0,we)},ge=function(ue){return L.s(ce%12||12,ue,"0")},xe=te||function(ue,ke,Ee){var we=ue<12?"AM":"PM";return Ee?we.toLowerCase():we};return U.replace(y,function(ue,ke){return ke||function(Ee){switch(Ee){case"YY":return String(W.$y).slice(-2);case"YYYY":return L.s(W.$y,4,"0");case"M":return he+1;case"MM":return L.s(he+1,2,"0");case"MMM":return ae(N.monthsShort,he,Te,3);case"MMMM":return ae(Te,he);case"D":return W.$D;case"DD":return L.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return ae(N.weekdaysMin,W.$W,be,2);case"ddd":return ae(N.weekdaysShort,W.$W,be,3);case"dddd":return be[W.$W];case"H":return String(ce);case"HH":return L.s(ce,2,"0");case"h":return ge(1);case"hh":return ge(2);case"a":return xe(ce,se,!0);case"A":return xe(ce,se,!1);case"m":return String(se);case"mm":return L.s(se,2,"0");case"s":return String(W.$s);case"ss":return L.s(W.$s,2,"0");case"SSS":return L.s(W.$ms,3,"0");case"Z":return K}return null}(ue)||K.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(F,W,N){var U,K=this,ce=L.p(W),se=Z(F),he=(se.utcOffset()-this.utcOffset())*r,be=this-se,Te=function(){return L.m(K,se)};switch(ce){case f:U=Te()/12;break;case d:U=Te();break;case h:U=Te()/3;break;case u:U=(be-he)/6048e5;break;case c:U=(be-he)/864e5;break;case l:U=be/i;break;case o:U=be/r;break;case a:U=be/t;break;default:U=be}return N?U:L.a(U)},E.daysInMonth=function(){return this.endOf(d).$D},E.$locale=function(){return O[this.$L]},E.locale=function(F,W){if(!F)return this.$L;var N=this.clone(),U=V(F,W,!0);return U&&(N.$L=U),N},E.clone=function(){return L.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},G}(),J=z.prototype;return Z.prototype=J,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",c],["$M",d],["$y",f],["$D",m]].forEach(function(G){J[G[1]]=function(E){return this.$g(E,G[0],G[1])}}),Z.extend=function(G,E){return G.$i||(G(E,z,Z),G.$i=!0),Z},Z.locale=V,Z.isDayjs=j,Z.unix=function(G){return Z(1e3*G)},Z.en=O[k],Z.Ls=O,Z.p={},Z})})(vx);var F3=vx.exports;const ln=im(F3);var ut;(function(n){n[n.AM=0]="AM",n[n.PM=1]="PM"})(ut||(ut={}));var bt;(function(n){n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY"})(bt||(bt={}));var Mn;(function(n){n[n.JANUARY=1]="JANUARY",n[n.FEBRUARY=2]="FEBRUARY",n[n.MARCH=3]="MARCH",n[n.APRIL=4]="APRIL",n[n.MAY=5]="MAY",n[n.JUNE=6]="JUNE",n[n.JULY=7]="JULY",n[n.AUGUST=8]="AUGUST",n[n.SEPTEMBER=9]="SEPTEMBER",n[n.OCTOBER=10]="OCTOBER",n[n.NOVEMBER=11]="NOVEMBER",n[n.DECEMBER=12]="DECEMBER"})(Mn||(Mn={}));function L3(n,e){e=e.add(1,"day"),Ca(n,e),ah(n,e)}function Ji(n,e){n.assign("day",e.date()),n.assign("month",e.month()+1),n.assign("year",e.year())}function yx(n,e){n.assign("hour",e.hour()),n.assign("minute",e.minute()),n.assign("second",e.second()),n.assign("millisecond",e.millisecond()),n.get("hour")<12?n.assign("meridiem",ut.AM):n.assign("meridiem",ut.PM)}function Ca(n,e){n.imply("day",e.date()),n.imply("month",e.month()+1),n.imply("year",e.year())}function ah(n,e){n.imply("hour",e.hour()),n.imply("minute",e.minute()),n.imply("second",e.second()),n.imply("millisecond",e.millisecond())}const j3={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:2*60,timezoneOffsetNonDst:60,dstStart:n=>Ry(n,Mn.MARCH,bt.SUNDAY,2),dstEnd:n=>Ry(n,Mn.OCTOBER,bt.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-5*60,timezoneOffsetNonDst:-6*60,dstStart:n=>Fr(n,Mn.MARCH,bt.SUNDAY,2,2),dstEnd:n=>Fr(n,Mn.NOVEMBER,bt.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-4*60,timezoneOffsetNonDst:-5*60,dstStart:n=>Fr(n,Mn.MARCH,bt.SUNDAY,2,2),dstEnd:n=>Fr(n,Mn.NOVEMBER,bt.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-6*60,timezoneOffsetNonDst:-7*60,dstStart:n=>Fr(n,Mn.MARCH,bt.SUNDAY,2,2),dstEnd:n=>Fr(n,Mn.NOVEMBER,bt.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-7*60,timezoneOffsetNonDst:-8*60,dstStart:n=>Fr(n,Mn.MARCH,bt.SUNDAY,2,2),dstEnd:n=>Fr(n,Mn.NOVEMBER,bt.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function Fr(n,e,t,r,i=0){let s=0,a=0;for(;a<r;)s++,new Date(n,e-1,s).getDay()===t&&a++;return new Date(n,e-1,s,i)}function Ry(n,e,t,r=0){const i=t===0?7:t,s=new Date(n,e-1+1,1,12),a=s.getDay()===0?7:s.getDay();let o;return a===i?o=7:a<i?o=7+a-i:o=a-i,s.setDate(s.getDate()-o),new Date(n,e-1,s.getDate(),r)}function bx(n,e,t={}){if(n==null)return null;if(typeof n=="number")return n;const r=t[n]??j3[n];return r==null?null:typeof r=="number"?r:e==null?null:ln(e).isAfter(r.dstStart(e.getFullYear()))&&!ln(e).isAfter(r.dstEnd(e.getFullYear()))?r.timezoneOffsetDuringDst:r.timezoneOffsetNonDst}ln.extend(N3);class lp{constructor(e){e=e??new Date,e instanceof Date?this.instant=e:(this.instant=e.instant??new Date,this.timezoneOffset=bx(e.timezone,this.instant))}getDateWithAdjustedTimezone(){return new Date(this.instant.getTime()+this.getSystemTimezoneAdjustmentMinute(this.instant)*6e4)}getSystemTimezoneAdjustmentMinute(e,t){(!e||e.getTime()<0)&&(e=new Date);const r=-e.getTimezoneOffset(),i=t??this.timezoneOffset??r;return r-i}}class vt{constructor(e,t){if(this._tags=new Set,this.reference=e,this.knownValues={},this.impliedValues={},t)for(const i in t)this.knownValues[i]=t[i];const r=ln(e.instant);this.imply("day",r.date()),this.imply("month",r.month()+1),this.imply("year",r.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){const e=new vt(this.reference);e.knownValues={},e.impliedValues={};for(const t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(const t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")&&!this.isCertain("year")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){const e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {
            tags: ${JSON.stringify(Array.from(this._tags).sort())}, 
            knownValues: ${JSON.stringify(this.knownValues)}, 
            impliedValues: ${JSON.stringify(this.impliedValues)}}, 
            reference: ${JSON.stringify(this.reference)}]`}dayjs(){return ln(this.date())}date(){const e=this.dateWithoutTimezoneAdjustment(),t=this.reference.getSystemTimezoneAdjustmentMinute(e,this.get("timezoneOffset"));return new Date(e.getTime()+t*6e4)}addTag(e){return this._tags.add(e),this}addTags(e){for(const t of e)this._tags.add(t);return this}tags(){return new Set(this._tags)}dateWithoutTimezoneAdjustment(){const e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}static createRelativeFromReference(e,t){let r=ln(e.instant);for(const s in t)r=r.add(t[s],s);const i=new vt(e);return i.addTag("result/relativeDate"),t.hour||t.minute||t.second?(i.addTag("result/relativeDateAndTime"),yx(i,r),Ji(i,r),e.timezoneOffset!==null&&i.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(ah(i,r),e.timezoneOffset!==null&&i.imply("timezoneOffset",-e.instant.getTimezoneOffset()),t.d?(i.assign("day",r.date()),i.assign("month",r.month()+1),i.assign("year",r.year())):t.week?(i.assign("day",r.date()),i.assign("month",r.month()+1),i.assign("year",r.year()),i.imply("weekday",r.day())):(i.imply("day",r.date()),t.month?(i.assign("month",r.month()+1),i.assign("year",r.year())):(i.imply("month",r.month()+1),t.year?i.assign("year",r.year()):i.imply("year",r.year())))),i}}class Xs{constructor(e,t,r,i,s){this.reference=e,this.refDate=e.instant,this.index=t,this.text=r,this.start=i||new vt(e),this.end=s}clone(){const e=new Xs(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}addTag(e){return this.start.addTag(e),this.end&&this.end.addTag(e),this}addTags(e){return this.start.addTags(e),this.end&&this.end.addTags(e),this}tags(){const e=new Set(this.start.tags());if(this.end)for(const t of this.end.tags())e.add(t);return e}toString(){const e=Array.from(this.tags()).sort();return`[ParsingResult {index: ${this.index}, text: '${this.text}', tags: ${JSON.stringify(e)} ...}]`}}function _x(n,e,t="\\s{0,5},?\\s{0,5}"){const r=e.replace(/\((?!\?)/g,"(?:");return`${n}${r}(?:${t}${r}){0,10}`}function B3(n){let e;return n instanceof Array?e=[...n]:n instanceof Map?e=Array.from(n.keys()):e=Object.keys(n),e}function hr(n){return`(?:${B3(n).sort((t,r)=>r.length-t.length).join("|").replace(/\./g,"\\.")})`}function xx(n){return n<100&&(n>50?n=n+1900:n=n+2e3),n}function oh(n,e,t){const r=ln(n);let i=r;i=i.month(t-1),i=i.date(e),i=i.year(r.year());const s=i.add(1,"y"),a=i.add(-1,"y");return Math.abs(s.diff(r))<Math.abs(i.diff(r))?i=s:Math.abs(a.diff(r))<Math.abs(i.diff(r))&&(i=a),i.year()}const qg={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},wx={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},_i={...wx,jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12},Xg={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},Jg={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},Sx={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},lh={s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year",...Sx},Tx=`(?:${hr(Xg)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function z3(n){const e=n.toLowerCase();return Xg[e]!==void 0?Xg[e]:e==="a"||e==="an"||e=="the"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}const Ru=`(?:${hr(Jg)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function Nu(n){let e=n.toLowerCase();return Jg[e]!==void 0?Jg[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}const ch="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9]|2[0-5])";function uh(n){if(/BE/i.test(n))return n=n.replace(/BE/i,""),parseInt(n)-543;if(/BCE?/i.test(n))return n=n.replace(/BCE?/i,""),-parseInt(n);if(/(AD|CE)/i.test(n))return n=n.replace(/(AD|CE)/i,""),parseInt(n);const e=parseInt(n);return xx(e)}const kx=`(${Tx})\\s{0,3}(${hr(lh)})`,Ny=new RegExp(kx,"i"),V3=`(${Tx})\\s{0,3}(${hr(Sx)})`,Px="\\s{0,5},?(?:\\s*and)?\\s{0,5}",mc=_x("(?:(?:about|around)\\s{0,3})?",kx,Px),dh=_x("(?:(?:about|around)\\s{0,3})?",V3,Px);function Js(n){const e={};let t=n,r=Ny.exec(t);for(;r;)W3(e,r),t=t.substring(r[0].length).trim(),r=Ny.exec(t);return Object.keys(e).length==0?null:e}function W3(n,e){if(e[0].match(/^[a-zA-Z]+$/))return;const t=z3(e[1]),r=lh[e[2].toLowerCase()];n[r]=t}class vn{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}innerPatternHasChange(e,t){return this.innerPattern(e)!==t}patternLeftBoundary(){return"(\\W|^)"}pattern(e){return this.cachedInnerPattern&&!this.innerPatternHasChange(e,this.cachedInnerPattern)?this.cachedPattern:(this.cachedInnerPattern=this.innerPattern(e),this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${this.cachedInnerPattern.source}`,this.cachedInnerPattern.flags),this.cachedPattern)}extract(e,t){const r=t[1]??"";t.index=t.index+r.length,t[0]=t[0].substring(r.length);for(let i=2;i<t.length;i++)t[i-1]=t[i];return this.innerExtract(e,t)}}const U3=new RegExp(`(?:(?:within|in|for)\\s*)?(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${mc})(?=\\W|$)`,"i"),H3=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${mc})(?=\\W|$)`,"i"),Z3=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${dh})(?=\\W|$)`,"i");class Y3 extends vn{constructor(e){super(),this.strictMode=e}innerPattern(e){return this.strictMode?Z3:e.option.forwardDate?U3:H3}innerExtract(e,t){if(t[0].match(/^for\s*the\s*\w+/))return null;const r=Js(t[1]);return r?vt.createRelativeFromReference(e.reference,r):null}}const $3=new RegExp(`(?:on\\s{0,3})?(${Ru})(?:\\s{0,3}(?:to|\\-|\\–|until|through|till)?\\s{0,3}(${Ru}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${hr(_i)})(?:(?:-|/|,?\\s{0,3})(${ch}(?!\\w)))?(?=\\W|$)`,"i"),Fy=1,Ly=2,G3=3,jy=4;class K3 extends vn{innerPattern(){return $3}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),i=_i[t[G3].toLowerCase()],s=Nu(t[Fy]);if(s>31)return t.index=t.index+t[Fy].length,null;if(r.start.assign("month",i),r.start.assign("day",s),t[jy]){const a=uh(t[jy]);r.start.assign("year",a)}else{const a=oh(e.refDate,s,i);r.start.imply("year",a)}if(t[Ly]){const a=Nu(t[Ly]);r.end=r.start.clone(),r.end.assign("day",a)}return r}}const q3=new RegExp(`(${hr(_i)})(?:-|/|\\s*,?\\s*)(${Ru})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Ru})\\s*)?(?:(?:-|/|\\s*,\\s*|\\s+)(${ch}))?(?=\\W|$)(?!\\:\\d)`,"i"),X3=1,By=2,Qh=3,eg=4;class J3 extends vn{constructor(e){super(),this.shouldSkipYearLikeDate=e}innerPattern(){return q3}innerExtract(e,t){const r=_i[t[X3].toLowerCase()],i=Nu(t[By]);if(i>31||this.shouldSkipYearLikeDate&&!t[Qh]&&!t[eg]&&t[By].match(/^2[0-5]$/))return null;const s=e.createParsingComponents({day:i,month:r}).addTag("parser/ENMonthNameMiddleEndianParser");if(t[eg]){const l=uh(t[eg]);s.assign("year",l)}else{const l=oh(e.refDate,i,r);s.imply("year",l)}if(!t[Qh])return s;const a=Nu(t[Qh]),o=e.createParsingResult(t.index,t[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}}const Q3=new RegExp(`((?:in)\\s*)?(${hr(_i)})\\s*(?:(?:,|-|of)?\\s*(${ch})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),eL=1,tL=2,zy=3;class nL extends vn{innerPattern(){return Q3}innerExtract(e,t){const r=t[tL].toLowerCase();if(t[0].length<=3&&!wx[r])return null;const i=e.createParsingResult(t.index+(t[eL]||"").length,t.index+t[0].length);i.start.imply("day",1),i.start.addTag("parser/ENMonthNameParser");const s=_i[r];if(i.start.assign("month",s),t[zy]){const a=uh(t[zy]);i.start.assign("year",a)}else{const a=oh(e.refDate,1,s);i.start.imply("year",a)}return i}}const rL=new RegExp(`([0-9]{4})[-\\.\\/\\s](?:(${hr(_i)})|([0-9]{1,2}))[-\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),iL=1,sL=2,Vy=3,aL=4;class oL extends vn{constructor(e){super(),this.strictMonthDateOrder=e}innerPattern(){return rL}innerExtract(e,t){const r=parseInt(t[iL]);let i=parseInt(t[aL]),s=t[Vy]?parseInt(t[Vy]):_i[t[sL].toLowerCase()];if(s<1||s>12){if(this.strictMonthDateOrder)return null;i>=1&&i<=12&&([s,i]=[i,s])}return i<1||i>31?null:{day:i,month:s,year:r}}}const lL=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),cL=1,uL=2;class dL extends vn{innerPattern(){return lL}innerExtract(e,t){const r=parseInt(t[uL]),i=parseInt(t[cL]);return e.createParsingComponents().imply("day",1).assign("month",i).assign("year",r)}}function fL(n,e,t,r){return new RegExp(`${n}${e}(\\d{1,4})(?:(?:\\.|:|：)(\\d{1,2})(?:(?::|：)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,r)}function hL(n,e){return new RegExp(`^(${n})(\\d{1,4})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}const Wy=2,rs=3,Vc=4,Wc=5,ua=6;class gL{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?!/)(?=\\W|$)"}followingSuffix(){return"(?!/)(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){const r=this.extractPrimaryTimeComponents(e,t);if(!r)return t[0].match(/^\d{4}/)?(t.index+=4,null):(t.index+=t[0].length,null);const i=t.index+t[1].length,s=t[0].substring(t[1].length),a=e.createParsingResult(i,s,r);t.index+=t[0].length;const o=e.text.substring(t.index),c=this.getFollowingTimePatternThroughCache().exec(o);return s.match(/^\d{3,4}/)&&c&&(c[0].match(/^\s*([+-])\s*\d{2,4}$/)||c[0].match(/^\s*([+-])\s*\d{2}\W\d{2}/))?null:!c||c[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,c,a),a.end&&(a.text+=c[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,t,r=!1){const i=e.createParsingComponents();let s=0,a=null,o=parseInt(t[Wy]);if(o>100){if(this.strictMode||t[rs]!=null)return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(t[rs]!=null){if(t[rs].length==1&&!t[ua])return null;s=parseInt(t[rs])}if(s>=60)return null;if(o>12&&(a=ut.PM),t[ua]!=null){if(o>12)return null;const l=t[ua][0].toLowerCase();l=="a"&&(a=ut.AM,o==12&&(o=0)),l=="p"&&(a=ut.PM,o!=12&&(o+=12))}if(i.assign("hour",o),i.assign("minute",s),a!==null?i.assign("meridiem",a):o<12?i.imply("meridiem",ut.AM):i.imply("meridiem",ut.PM),t[Wc]!=null){const l=parseInt(t[Wc].substring(0,3));if(l>=1e3)return null;i.assign("millisecond",l)}if(t[Vc]!=null){const l=parseInt(t[Vc]);if(l>=60)return null;i.assign("second",l)}return i}extractFollowingTimeComponents(e,t,r){const i=e.createParsingComponents();if(t[Wc]!=null){const l=parseInt(t[Wc].substring(0,3));if(l>=1e3)return null;i.assign("millisecond",l)}if(t[Vc]!=null){const l=parseInt(t[Vc]);if(l>=60)return null;i.assign("second",l)}let s=parseInt(t[Wy]),a=0,o=-1;if(t[rs]!=null?a=parseInt(t[rs]):s>100&&(a=s%100,s=Math.floor(s/100)),a>=60||s>24)return null;if(s>=12&&(o=ut.PM),t[ua]!=null){if(s>12)return null;const l=t[ua][0].toLowerCase();l=="a"&&(o=ut.AM,s==12&&(s=0,i.isCertain("day")||i.imply("day",i.get("day")+1))),l=="p"&&(o=ut.PM,s!=12&&(s+=12)),r.start.isCertain("meridiem")||(o==ut.AM?(r.start.imply("meridiem",ut.AM),r.start.get("hour")==12&&r.start.assign("hour",0)):(r.start.imply("meridiem",ut.PM),r.start.get("hour")!=12&&r.start.assign("hour",r.start.get("hour")+12)))}return i.assign("hour",s),i.assign("minute",a),o>=0?i.assign("meridiem",o):r.start.isCertain("meridiem")&&r.start.get("hour")>12?r.start.get("hour")-12>s?i.imply("meridiem",ut.AM):s<=12&&(i.assign("hour",s+12),i.assign("meridiem",ut.PM)):s>12?i.imply("meridiem",ut.PM):s<=12&&i.imply("meridiem",ut.AM),i.date().getTime()<r.start.date().getTime()&&i.imply("day",i.get("day")+1),i}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){const r=t[1];if(this.strictMode||r.includes(".")&&!r.match(/\d(\.\d{2})+$/)||parseInt(r)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;const r=t[1],i=t[2];if(i.includes(".")&&!i.match(/\d(\.\d{2})+$/))return null;const s=parseInt(i),a=parseInt(r);if(s>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){const e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=fL(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){const e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=hL(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}}class mL extends gL{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\–|\\~|\\〜|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){const r=super.extractPrimaryTimeComponents(e,t);if(!r)return r;if(t[0].endsWith("night")){const i=r.get("hour");i>=6&&i<12?(r.assign("hour",r.get("hour")+12),r.assign("meridiem",ut.PM)):i<6&&r.assign("meridiem",ut.AM)}if(t[0].endsWith("afternoon")){r.assign("meridiem",ut.PM);const i=r.get("hour");i>=0&&i<=6&&r.assign("hour",r.get("hour")+12)}return t[0].endsWith("morning")&&(r.assign("meridiem",ut.AM),r.get("hour")<12&&r.assign("hour",r.get("hour"))),r.addTag("parser/ENTimeExpressionParser")}extractFollowingTimeComponents(e,t,r){const i=super.extractFollowingTimeComponents(e,t,r);return i&&i.addTag("parser/ENTimeExpressionParser"),i}}function fh(n){const e={};for(const t in n)e[t]=-n[t];return e}function pL(n,e){const t=n.clone();let r=n.dayjs();for(const i in e)r=r.add(e[i],i);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",r.date()),t.imply("month",r.month()+1),t.imply("year",r.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",r.second()),t.imply("minute",r.minute()),t.imply("hour",r.hour())),t}const vL=new RegExp(`(${mc})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),yL=new RegExp(`(${dh})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i");class bL extends vn{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?yL:vL}innerExtract(e,t){const r=Js(t[1]);if(!r)return null;const i=fh(r);return vt.createRelativeFromReference(e.reference,i)}}const _L=new RegExp(`(${mc})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),xL=new RegExp(`(${dh})\\s{0,5}(later|after|from now)(?=\\W|$)`,"i"),wL=1;class SL extends vn{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?xL:_L}innerExtract(e,t){const r=Js(t[wL]);return r?vt.createRelativeFromReference(e.reference,r):null}}class Ax{refine(e,t){return t.filter(r=>this.isValid(e,r))}}class pc{refine(e,t){if(t.length<2)return t;const r=[];let i=t[0],s=null;for(let a=1;a<t.length;a++){s=t[a];const o=e.text.substring(i.index+i.text.length,s.index);if(!this.shouldMergeResults(o,i,s,e))r.push(i),i=s;else{const l=i,c=s,u=this.mergeResults(o,l,c,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${l} and ${c} into ${u}`)}),i=u}}return i!=null&&r.push(i),r}}class TL extends pc{shouldMergeResults(e,t,r){return!t.end&&!r.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,r){if(!t.start.isOnlyWeekdayComponent()&&!r.start.isOnlyWeekdayComponent()&&(r.start.getCertainComponents().forEach(s=>{t.start.isCertain(s)||t.start.imply(s,r.start.get(s))}),t.start.getCertainComponents().forEach(s=>{r.start.isCertain(s)||r.start.imply(s,t.start.get(s))})),t.start.date().getTime()>r.start.date().getTime()){let s=t.start.dayjs(),a=r.start.dayjs();r.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(s)?(a=a.add(7,"days"),r.start.imply("day",a.date()),r.start.imply("month",a.month()+1),r.start.imply("year",a.year())):t.start.isOnlyWeekdayComponent()&&s.add(-7,"days").isBefore(a)?(s=s.add(-7,"days"),t.start.imply("day",s.date()),t.start.imply("month",s.month()+1),t.start.imply("year",s.year())):r.start.isDateWithUnknownYear()&&a.add(1,"years").isAfter(s)?(a=a.add(1,"years"),r.start.imply("year",a.year())):t.start.isDateWithUnknownYear()&&s.add(-1,"years").isBefore(a)?(s=s.add(-1,"years"),t.start.imply("year",s.year())):[r,t]=[t,r]}const i=t.clone();return i.start=t.start,i.end=r.start,i.index=Math.min(t.index,r.index),t.index<r.index?i.text=t.text+e+r.text:i.text=r.text+e+t.text,i}}class kL extends TL{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}}function Uy(n,e){const t=n.clone(),r=n.start,i=e.start;if(t.start=Hy(r,i),n.end!=null||e.end!=null){const s=n.end==null?n.start:n.end,a=e.end==null?e.start:e.end,o=Hy(s,a);if(n.end==null&&o.date().getTime()<t.start.date().getTime()){const l=o.dayjs().add(1,"day");o.isCertain("day")?Ji(o,l):Ca(o,l)}t.end=o}return t}function Hy(n,e){const t=n.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==ut.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t.addTags(n.tags()),t.addTags(e.tags()),t}class PL extends pc{shouldMergeResults(e,t,r){return(t.start.isOnlyDate()&&r.start.isOnlyTime()||r.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,r){const i=t.start.isOnlyDate()?Uy(t,r):Uy(r,t);return i.index=t.index,i.text=t.text+e+r.text,i}}class Zy extends PL{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-|\\.|∙|:)?\\s*$")}}const AL=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i");class ML{constructor(e){this.timezoneOverrides=e}refine(e,t){const r=e.option.timezones??{};return t.forEach(i=>{const s=e.text.substring(i.index+i.text.length),a=AL.exec(s);if(!a)return;const o=a[1].toUpperCase(),l=i.start.date()??i.refDate??new Date,c={...this.timezoneOverrides,...r},u=bx(o,l,c);if(u==null)return;e.debug(()=>{console.log(`Extracting timezone: '${o}' into: ${u} for: ${i.start}`)});const d=i.start.get("timezoneOffset");d!==null&&u!=d&&(i.start.isCertain("timezoneOffset")||o!=a[1])||i.start.isOnlyDate()&&o!=a[1]||(i.text+=a[0],i.start.isCertain("timezoneOffset")||i.start.assign("timezoneOffset",u),i.end!=null&&!i.end.isCertain("timezoneOffset")&&i.end.assign("timezoneOffset",u))}),t}}const OL=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),CL=1,DL=2,EL=3;class IL{refine(e,t){return t.forEach(function(r){if(r.start.isCertain("timezoneOffset"))return;const i=e.text.substring(r.index+r.text.length),s=OL.exec(i);if(!s)return;e.debug(()=>{console.log(`Extracting timezone: '${s[0]}' into : ${r}`)});const a=parseInt(s[DL]),o=parseInt(s[EL]||"0");let l=a*60+o;l>14*60||(s[CL]==="-"&&(l=-l),r.end!=null&&r.end.assign("timezoneOffset",l),r.start.assign("timezoneOffset",l),r.text+=s[0])}),t}}class Qg{refine(e,t){if(t.length<2)return t;const r=[];let i=t[0];for(let s=1;s<t.length;s++){const a=t[s];if(a.index>=i.index+i.text.length){r.push(i),i=a;continue}let o=null,l=null;a.text.length>i.text.length?(o=a,l=i):(o=i,l=a),e.debug(()=>{console.log(`${this.constructor.name} remove ${l} by ${o}`)}),i=o}return i!=null&&r.push(i),r}}class RL{refine(e,t){return e.option.forwardDate&&t.forEach(r=>{let i=ln(e.refDate);if(r.start.isOnlyTime()&&i.isAfter(r.start.dayjs())&&(i=i.add(1,"day"),Ca(r.start,i),r.end&&r.end.isOnlyTime()&&(Ca(r.end,i),r.start.dayjs().isAfter(r.end.dayjs())&&(i=i.add(1,"day"),Ca(r.end,i))),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} time result (${r.start})`)})),r.start.isOnlyWeekdayComponent()&&i.isAfter(r.start.dayjs())&&(i.day()>=r.start.get("weekday")?i=i.day(r.start.get("weekday")+7):i=i.day(r.start.get("weekday")),r.start.imply("day",i.date()),r.start.imply("month",i.month()+1),r.start.imply("year",i.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} weekday (${r.start})`)}),r.end&&r.end.isOnlyWeekdayComponent()&&(i.day()>r.end.get("weekday")?i=i.day(r.end.get("weekday")+7):i=i.day(r.end.get("weekday")),r.end.imply("day",i.date()),r.end.imply("month",i.month()+1),r.end.imply("year",i.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} weekday (${r.end})`)}))),r.start.isDateWithUnknownYear()&&i.isAfter(r.start.dayjs()))for(let s=0;s<3&&i.isAfter(r.start.dayjs());s++)r.start.imply("year",r.start.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} year (${r.start})`)}),r.end&&!r.end.isCertain("year")&&(r.end.imply("year",r.end.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} month (${r.start})`)}))}),t}}class NL extends Ax{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}}const FL=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),LL=1,jL=2,BL=3,Yy=4,zL=5,$y=6,Gy=7,VL=8,Ky=9,qy=10;class WL extends vn{innerPattern(){return FL}innerExtract(e,t){const r=e.createParsingComponents({year:parseInt(t[LL]),month:parseInt(t[jL]),day:parseInt(t[BL])});if(t[Yy]!=null&&(r.assign("hour",parseInt(t[Yy])),r.assign("minute",parseInt(t[zL])),t[$y]!=null&&r.assign("second",parseInt(t[$y])),t[Gy]!=null&&r.assign("millisecond",parseInt(t[Gy])),t[VL]!=null)){let i=0;if(t[Ky]){const s=parseInt(t[Ky]);let a=0;t[qy]!=null&&(a=parseInt(t[qy])),i=s*60,i<0?i-=a:i+=a}r.assign("timezoneOffset",i)}return r.addTag("parser/ISOFormatParser")}}class UL extends pc{mergeResults(e,t,r){const i=r.clone();return i.index=t.index,i.text=t.text+e+i.text,i.start.assign("weekday",t.start.get("weekday")),i.end&&i.end.assign("weekday",t.start.get("weekday")),i}shouldMergeResults(e,t,r){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&r.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}}function HL(n,e=!1){return n.parsers.unshift(new WL),n.refiners.unshift(new UL),n.refiners.unshift(new IL),n.refiners.unshift(new Qg),n.refiners.push(new ML),n.refiners.push(new Qg),n.refiners.push(new RL),n.refiners.push(new NL(e)),n}function ZL(n){const e=ln(n.instant),t=new vt(n,{});return Ji(t,e),yx(t,e),n.timezoneOffset!==null&&t.assign("timezoneOffset",e.utcOffset()),t.addTag("casualReference/now"),t}function YL(n){const e=ln(n.instant),t=new vt(n,{});return Ji(t,e),ah(t,e),t.addTag("casualReference/today"),t}function $L(n){return GL(n).addTag("casualReference/yesterday")}function GL(n,e){return cp(n,-1)}function KL(n){return cp(n,1).addTag("casualReference/tomorrow")}function cp(n,e){let t=ln(n.instant);const r=new vt(n,{});return t=t.add(e,"day"),Ji(r,t),ah(r,t),r}function qL(n,e=22){const t=ln(n.instant),r=new vt(n,{});return Ji(r,t),r.imply("hour",e),r.imply("meridiem",ut.PM),r.addTag("casualReference/tonight"),r}function XL(n,e=20){const t=new vt(n,{});return t.imply("meridiem",ut.PM),t.imply("hour",e),t.addTag("casualReference/evening"),t}function JL(n){const e=new vt(n,{}),t=ln(n.instant);return t.hour()>2&&L3(e,t),e.assign("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/midnight"),e}function QL(n,e=6){const t=new vt(n,{});return t.imply("meridiem",ut.AM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/morning"),t}function e4(n,e=15){const t=new vt(n,{});return t.imply("meridiem",ut.PM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/afternoon"),t}function t4(n){const e=new vt(n,{});return e.imply("meridiem",ut.AM),e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/noon"),e}const n4=/(now|today|tonight|tomorrow|overmorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i;class r4 extends vn{innerPattern(e){return n4}innerExtract(e,t){let r=ln(e.refDate);const i=t[0].toLowerCase();let s=e.createParsingComponents();switch(i){case"now":s=ZL(e.reference);break;case"today":s=YL(e.reference);break;case"yesterday":s=$L(e.reference);break;case"tomorrow":case"tmr":case"tmrw":s=KL(e.reference);break;case"tonight":s=qL(e.reference);break;case"overmorrow":s=cp(e.reference,2);break;default:i.match(/last\s*night/)&&(r.hour()>6&&(r=r.add(-1,"day")),Ji(s,r),s.imply("hour",0));break}return s.addTag("parser/ENCasualDateParser"),s}}const i4=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i;class s4 extends vn{innerPattern(){return i4}innerExtract(e,t){let r=null;switch(t[1].toLowerCase()){case"afternoon":r=e4(e.reference);break;case"evening":case"night":r=XL(e.reference);break;case"midnight":r=JL(e.reference);break;case"morning":r=QL(e.reference);break;case"noon":case"midday":r=t4(e.reference);break}return r&&r.addTag("parser/ENCasualTimeParser"),r}}function a4(n,e,t){const r=n.getDateWithAdjustedTimezone(),i=o4(r,e,t);let s=new vt(n);return s=pL(s,{day:i}),s.assign("weekday",e),s}function o4(n,e,t){const r=n.getDay();switch(t){case"this":return ou(n,e);case"last":return Mx(n,e);case"next":return r==bt.SUNDAY?e==bt.SUNDAY?7:e:r==bt.SATURDAY?e==bt.SATURDAY?7:e==bt.SUNDAY?8:1+e:e<r&&e!=bt.SUNDAY?ou(n,e):ou(n,e)+7}return l4(n,e)}function l4(n,e){const t=Mx(n,e),r=ou(n,e);return r<-t?r:t}function ou(n,e){const t=n.getDay();let r=e-t;return r<0&&(r+=7),r}function Mx(n,e){const t=n.getDay();let r=e-t;return r>=0&&(r-=7),r}const c4=new RegExp(`(?:(?:\\,|\\(|\\（)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${hr(qg)}|weekend|weekday)(?:\\s*(?:\\,|\\)|\\）))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),u4=1,d4=2,f4=3;class h4 extends vn{innerPattern(){return c4}innerExtract(e,t){const r=t[u4],i=t[f4];let s=r||i;s=s||"",s=s.toLowerCase();let a=null;s=="last"||s=="past"?a="last":s=="next"?a="next":s=="this"&&(a="this");const o=t[d4].toLowerCase();let l;if(qg[o]!==void 0)l=qg[o];else if(o=="weekend")l=a=="last"?bt.SUNDAY:bt.SATURDAY;else if(o=="weekday"){const c=e.reference.getDateWithAdjustedTimezone().getDay();c==bt.SUNDAY||c==bt.SATURDAY?l=a=="last"?bt.FRIDAY:bt.MONDAY:(l=c-1,l=a=="last"?l-1:l+1,l=l%5+1)}else return null;return a4(e.reference,l,a)}}const g4=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${hr(lh)})(?=\\s*)(?=\\W|$)`,"i"),m4=1,p4=2;class v4 extends vn{innerPattern(){return g4}innerExtract(e,t){const r=t[m4].toLowerCase(),i=t[p4].toLowerCase(),s=lh[i];if(r=="next"||r.startsWith("after")){const l={};return l[s]=1,vt.createRelativeFromReference(e.reference,l)}if(r=="last"||r=="past"){const l={};return l[s]=-1,vt.createRelativeFromReference(e.reference,l)}const a=e.createParsingComponents();let o=ln(e.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}}const y4=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),b4=1,_4=5,Xy=2,Jy=3,tg=4;class x4{constructor(e){this.groupNumberMonth=e?Jy:Xy,this.groupNumberDay=e?Xy:Jy}pattern(){return y4}extract(e,t){const r=t.index+t[b4].length,i=t.index+t[0].length-t[_4].length;if(r>0&&e.text.substring(0,r).match("\\d/?$")||i<e.text.length&&e.text.substring(i).match("^/?\\d"))return;const s=e.text.substring(r,i);if(s.match(/^\d\.\d$/)||s.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[tg]&&s.indexOf("/")<0)return;const a=e.createParsingResult(r,s);let o=parseInt(t[this.groupNumberMonth]),l=parseInt(t[this.groupNumberDay]);if((o<1||o>12)&&o>12)if(l>=1&&l<=12&&o<=31)[l,o]=[o,l];else return null;if(l<1||l>31)return null;if(a.start.assign("day",l),a.start.assign("month",o),t[tg]){const c=parseInt(t[tg]),u=xx(c);a.start.assign("year",u)}else{const c=oh(e.refDate,l,o);a.start.imply("year",c)}return a.addTag("parser/SlashDateFormatParser")}}const w4=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${mc})(?=\\W|$)`,"i"),S4=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${dh})(?=\\W|$)`,"i");class T4 extends vn{constructor(e=!0){super(),this.allowAbbreviations=e}innerPattern(){return this.allowAbbreviations?w4:S4}innerExtract(e,t){const r=t[1].toLowerCase();let i=Js(t[2]);if(!i)return null;switch(r){case"last":case"past":case"-":i=fh(i);break}return vt.createRelativeFromReference(e.reference,i)}}function k4(n){return n.text.match(/^[+-]/i)!=null}function Qy(n){return n.text.match(/^-/i)!=null}class P4 extends pc{shouldMergeResults(e,t,r){return e.match(/^\s*$/i)?k4(r)||Qy(r):!1}mergeResults(e,t,r,i){let s=Js(r.text);Qy(r)&&(s=fh(s));const a=vt.createRelativeFromReference(new lp(t.start.date()),s);return new Xs(t.reference,t.index,`${t.text}${e}${r.text}`,a)}}function eb(n){return n.text.match(/\s+(before|from)$/i)!=null}function A4(n){return n.text.match(/\s+(after|since)$/i)!=null}class M4 extends pc{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,r){return!e.match(this.patternBetween())||!eb(t)&&!A4(t)?!1:!!r.start.get("day")&&!!r.start.get("month")&&!!r.start.get("year")}mergeResults(e,t,r){let i=Js(t.text);eb(t)&&(i=fh(i));const s=vt.createRelativeFromReference(new lp(r.start.date()),i);return new Xs(r.reference,t.index,`${t.text}${e}${r.text}`,s)}}const O4=new RegExp(`^\\s*(${ch})`,"i"),C4=1;class D4{refine(e,t){return t.forEach(function(r){if(!r.start.isDateWithUnknownYear())return;const i=e.text.substring(r.index+r.text.length),s=O4.exec(i);if(!s)return;e.debug(()=>{console.log(`Extracting year: '${s[0]}' into : ${r}`)});const a=uh(s[C4]);r.end!=null&&r.end.assign("year",a),r.start.assign("year",a),r.text+=s[0]}),t}}class E4 extends Ax{constructor(){super()}isValid(e,t){const r=t.text.trim();return r===e.text.trim()?!0:r.toLowerCase()==="may"&&!e.text.substring(0,t.index).trim().match(/\b(in)$/i)?(e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):r.toLowerCase().endsWith("the second")?(e.text.substring(t.index+t.text.length).trim().length>0&&e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):!0}}class Ox{createCasualConfiguration(e=!1){const t=this.createConfiguration(!1,e);return t.parsers.push(new r4),t.parsers.push(new s4),t.parsers.push(new nL),t.parsers.push(new v4),t.parsers.push(new T4),t.refiners.push(new E4),t}createConfiguration(e=!0,t=!1){const r=HL({parsers:[new x4(t),new Y3(e),new K3,new J3(t),new h4,new dL,new mL(e),new bL(e),new SL(e)],refiners:[new Zy]},e);return r.parsers.unshift(new oL(e)),r.refiners.unshift(new M4),r.refiners.unshift(new P4),r.refiners.unshift(new Qg),r.refiners.push(new Zy),r.refiners.push(new D4),r.refiners.push(new kL),r}}class Hs{constructor(e){this.defaultConfig=new Ox,e=e||this.defaultConfig.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new Hs({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,r){const i=this.parse(e,t,r);return i.length>0?i[0].start.date():null}parse(e,t,r){const i=new I4(e,t,r);let s=[];return this.parsers.forEach(a=>{const o=Hs.executeParser(i,a);s=s.concat(o)}),s.sort((a,o)=>a.index-o.index),this.refiners.forEach(function(a){s=a.refine(i,s)}),s}static executeParser(e,t){const r=[],i=t.pattern(e),s=e.text;let a=e.text,o=i.exec(a);for(;o;){const l=o.index+s.length-a.length;o.index=l;const c=t.extract(e,o);if(!c){a=s.substring(o.index+1),o=i.exec(a);continue}let u=null;c instanceof Xs?u=c:c instanceof vt?(u=e.createParsingResult(o.index,o[0]),u.start=c):u=e.createParsingResult(o.index,o[0],c);const d=u.index,h=u.text;e.debug(()=>console.log(`${t.constructor.name} extracted (at index=${d}) '${h}'`)),r.push(u),a=s.substring(d+h.length),o=i.exec(a)}return r}}class I4{constructor(e,t,r){this.text=e,this.reference=new lp(t),this.option=r??{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof vt?e:new vt(this.reference,e)}createParsingResult(e,t,r,i){const s=typeof t=="string"?t:this.text.substring(e,t),a=r?this.createParsingComponents(r):null,o=i?this.createParsingComponents(i):null;return new Xs(this.reference,e,s,a,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}}const up=new Ox,R4=new Hs(up.createCasualConfiguration(!1));new Hs(up.createConfiguration(!0,!1));new Hs(up.createCasualConfiguration(!0));const N4=R4;function F4(n,e,t){return N4.parse(n,e,t)}var L4=$("<!> <!>",1),j4=$("<!> <!> <!>",1),B4=$("<!> <!>",1),z4=$("<!> <!> <!>",1),V4=$("<!> <!>",1),W4=$("<!> <!>",1),U4=$("<!> <!>",1),H4=$("<!> <!>",1),Z4=$("<!> <!> <form><!> <!> <!> <!> <!> <!></form>",1),Y4=$("<!> <!>",1);function $4(n,e){re(e,!0);const[t,r]=hb(),i=()=>gb(o,"$formData",t);let s=ee(!1);const a=l0(e.data.taskform,{validators:v0(q_)}),{form:o}=a;let l=new Map;function c(m){l.set(m,!l.get(m))}const u=m=>{let p=m.target.value,v=!1;const y=F4(p,new Date)[0];if(y){let k=y.date();const O=k.getTimezoneOffset();k=new Date(k.getTime()-O*60*1e3);const D=k.toISOString().split("T")[0];v=!0,p=p.replace(y.text,"").trim(),a.form.update(j=>({...j,dueDate:D,title:p}))}let _=0;const S=p.match(/(\d+)(?:m| *min(?:utes?)?)(?= |$|\d)/),T=p.match(/(\d+)(?:h| *(?:hours?|hrs?))(?= |$|\d)/);if(T){v=!0;const{[0]:k,[1]:O}=T;p=p.replace(k,"").trim(),_+=Number.parseInt(O)}if(S){v=!0;const{[0]:k,[1]:O}=S;p=p.replace(k,"").trim(),_+=Number.parseInt(O)/60}a.form.update(k=>({...k,timeEstimate:k.timeEstimate+_,title:p})),v&&ig("task_nlp")};async function d(m){m.preventDefault();const p=await a.validateForm({update:!0});if(!p.valid)return;console.log(p.data);const v=new Date().getTimezoneOffset();e.project.appendInProject("Tasks",{...p.data,id:crypto.randomUUID(),dueDate:p.data.dueDate?new Date(p.data.dueDate).getTime()+v*60*1e3:0,timeEstimate:p.data.timeEstimate*60*60*1e3,kanbanColumn:"",completed:!1,sessions:[],assignees:Array.from(l.entries()).filter(([y,_])=>_).map(([y])=>y)}),console.log("assigned users:"),console.log(Array.from(l.entries()).filter(([y,_])=>_).map(([y])=>y)),ig("tasks"),H(s,!1),a.reset()}var h=I(),f=P(h);Y(f,()=>Ds,(m,p)=>{p(m,{get open(){return g(s)},set open(v){H(s,v,!0)},children:(v,y)=>{var _=Y4(),S=P(_);const T=C(()=>Ys({variant:"outline"}));Y(S,()=>Fa,(O,D)=>{D(O,{get class(){return g(T)},children:(j,V)=>{Ie();var Z=Le("Create a new task");b(j,Z)},$$slots:{default:!0}})});var k=X(S,2);Y(k,()=>Es,(O,D)=>{D(O,{children:(j,V)=>{var Z=I(),L=P(Z);Y(L,()=>Is,(z,J)=>{J(z,{children:(G,E)=>{var F=Z4(),W=P(F);Y(W,()=>dm,(te,ae)=>{ae(te,{children:(ge,xe)=>{Ie();var ue=Le("Create new task");b(ge,ue)},$$slots:{default:!0}})});var N=X(W,2);Y(N,()=>fm,(te,ae)=>{ae(te,{children:(ge,xe)=>{Ie();var ue=Le("Only title required, but all strongly recommended");b(ge,ue)},$$slots:{default:!0}})});var U=X(N,2),K=ne(U);Y(K,()=>$r,(te,ae)=>{ae(te,{form:a,name:"title",children:(ge,xe)=>{var ue=j4(),ke=P(ue);Y(ke,()=>Gr,(Re,Ne)=>{Ne(Re,{children:(De,je)=>{let tt=()=>je==null?void 0:je().props;var ht=L4(),Tt=P(ht);Y(Tt,()=>Zr,(Ye,zt)=>{zt(Ye,{children:(Kt,gr)=>{Ie();var A=Le("Title");b(Kt,A)},$$slots:{default:!0}})});var gt=X(Tt,2);const Et=C(()=>gw(u,1e3));Pr(gt,Pe(tt,{get oninput(){return g(Et)},get value(){return i().title},set value(Ye){Hr(o,_t(i).title=Ye,_t(i))}})),b(De,ht)},$$slots:{default:!0}})});var Ee=X(ke,2);Y(Ee,()=>Fg,(Re,Ne)=>{Ne(Re,{children:(Ve,De)=>{Ie();var je=Le(`Tip: use natural language here to set time estimate and due date (eg: 30
                        min tuesday)`);b(Ve,je)},$$slots:{default:!0}})});var we=X(Ee,2);Y(we,()=>Yr,(Re,Ne)=>{Ne(Re,{})}),b(ge,ue)},$$slots:{default:!0}})});var ce=X(K,2);Y(ce,()=>$r,(te,ae)=>{ae(te,{form:a,name:"description",children:(ge,xe)=>{var ue=z4(),ke=P(ue);Y(ke,()=>Gr,(Re,Ne)=>{Ne(Re,{children:(De,je)=>{let tt=()=>je==null?void 0:je().props;var ht=B4(),Tt=P(ht);Y(Tt,()=>Zr,(Et,Ye)=>{Ye(Et,{children:(zt,Kt)=>{Ie();var gr=Le("Description");b(zt,gr)},$$slots:{default:!0}})});var gt=X(Tt,2);Pr(gt,Pe(tt,{get value(){return i().description},set value(Et){Hr(o,_t(i).description=Et,_t(i))}})),b(De,ht)},$$slots:{default:!0}})});var Ee=X(ke,2);Y(Ee,()=>Fg,(Re,Ne)=>{Ne(Re,{children:(Ve,De)=>{Ie();var je=Le("Implementation details, progress, or notes");b(Ve,je)},$$slots:{default:!0}})});var we=X(Ee,2);Y(we,()=>Yr,(Re,Ne)=>{Ne(Re,{})}),b(ge,ue)},$$slots:{default:!0}})});var se=X(ce,2);Y(se,()=>$r,(te,ae)=>{ae(te,{form:a,name:"dueDate",children:(ge,xe)=>{var ue=W4(),ke=P(ue);Y(ke,()=>Gr,(we,Re)=>{Re(we,{children:(Ve,De)=>{let je=()=>De==null?void 0:De().props;var tt=V4(),ht=P(tt);Y(ht,()=>Zr,(gt,Et)=>{Et(gt,{children:(Ye,zt)=>{Ie();var Kt=Le("Due date");b(Ye,Kt)},$$slots:{default:!0}})});var Tt=X(ht,2);Pr(Tt,Pe(je,{type:"date",get value(){return i().dueDate},set value(gt){Hr(o,_t(i).dueDate=gt,_t(i))}})),b(Ve,tt)},$$slots:{default:!0}})});var Ee=X(ke,2);Y(Ee,()=>Yr,(we,Re)=>{Re(we,{})}),b(ge,ue)},$$slots:{default:!0}})});var he=X(se,2);Y(he,()=>$r,(te,ae)=>{ae(te,{form:a,name:"timeEstimate",children:(ge,xe)=>{var ue=H4(),ke=P(ue);Y(ke,()=>Gr,(we,Re)=>{Re(we,{children:(Ve,De)=>{let je=()=>De==null?void 0:De().props;var tt=U4(),ht=P(tt);Y(ht,()=>Zr,(gt,Et)=>{Et(gt,{children:(Ye,zt)=>{Ie();var Kt=Le("Time Estimate");b(Ye,Kt)},$$slots:{default:!0}})});var Tt=X(ht,2);Pr(Tt,Pe(je,{type:"number",min:"0",step:"0.01",get value(){return i().timeEstimate},set value(gt){Hr(o,_t(i).timeEstimate=gt,_t(i))}})),b(Ve,tt)},$$slots:{default:!0}})});var Ee=X(ke,2);Y(Ee,()=>Yr,(we,Re)=>{Re(we,{})}),b(ge,ue)},$$slots:{default:!0}})});var be=X(he,2);Y(be,()=>D3,(te,ae)=>{ae(te,{type:"multiple",variant:"outline",children:(ge,xe)=>{var ue=I(),ke=P(ue);xt(ke,17,()=>e.project.users,wt,(Ee,we)=>{var Re=I(),Ne=P(Re);Y(Ne,()=>I3,(Ve,De)=>{De(Ve,{get value(){return g(we).id},class:"p-3",onclick:()=>c(g(we).id),children:(je,tt)=>{sm(je,{get project(){return e.project},get userID(){return g(we).id}})},$$slots:{default:!0}})}),b(Ee,Re)}),b(ge,ue)},$$slots:{default:!0}})});var Te=X(be,2);Y(Te,()=>hm,(te,ae)=>{ae(te,{children:(ge,xe)=>{var ue=I(),ke=P(ue);Y(ke,()=>k0,(Ee,we)=>{we(Ee,{children:(Re,Ne)=>{Ie();var Ve=Le("Create!");b(Re,Ve)},$$slots:{default:!0}})}),b(ge,ue)},$$slots:{default:!0}})}),Q(U),Jt("submit",U,d),b(G,F)},$$slots:{default:!0}})}),b(j,Z)},$$slots:{default:!0}})}),b(v,_)},$$slots:{default:!0}})}),b(n,h),ie(),r()}function G4(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","inset"]);var i=I(),s=P(i);const a=C(()=>et("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.inset&&"pl-8",e.class));Y(s,()=>vA,(o,l)=>{l(o,Pe({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ie()}function K4(n,e){re(e,!0);let t=w(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","portalProps","class"]);var i=I(),s=P(i);Y(s,()=>um,(a,o)=>{o(a,Pe(()=>e.portalProps,{children:(l,c)=>{var u=I(),d=P(u);const h=C(()=>et("bg-popover text-popover-foreground z-50 min-w-[8rem] rounded-md border p-1 shadow-md focus:outline-none",e.class));Y(d,()=>wA,(f,m)=>{m(f,Pe({get class(){return g(h)}},()=>r,{get ref(){return t()},set ref(p){t(p)}}))}),b(l,u)},$$slots:{default:!0}}))}),b(n,i),ie()}const q4=mA,X4=TA;var J4=$('<h1 class="text-[1.2em] font-bold"> </h1> <p> </p>',1),Q4=$("<p> </p>"),ej=$('<div class="grid grid-cols-3"><div class="col-span-1"><!></div> <div class="col-span-1"></div> <div class="col-span-1"><!> <!></div> <div><!></div></div>'),tj=$("<!> <!>",1),nj=$('<!> <div class="relative h-2 w-full overflow-hidden"><div class="absolute h-full w-full transition-all"></div></div>',1),rj=(n,e,t,r)=>{H(e,mi.x,!0),H(t,mi.y,!0),H(r,!0)},ij=$('<div class="task bg- bg-muted svelte-2a0a4y" role="presentation"><!></div>'),sj=$("<!> <!>",1);function aj(n,e){re(e,!0);const t=v=>{var y=nj(),_=P(y);Y(_,()=>R1,(k,O)=>{O(k,{type:"single",children:(D,j)=>{var V=I(),Z=P(V);Y(Z,()=>F1,(L,z)=>{z(L,{value:"1",class:"group",children:(J,G)=>{var E=tj(),F=P(E);Y(F,()=>j1,(N,U)=>{U(N,{children:(K,ce)=>{var se=I(),he=P(se);Y(he,()=>z1,(be,Te)=>{Te(be,{class:"w-full",children:(te,ae)=>{var ge=J4(),xe=P(ge),ue=ne(xe,!0);Q(xe);var ke=X(xe,2),Ee=ne(ke,!0);Q(ke),fe(we=>{Sa(xe,we),Xe(ue,r().title),Xe(Ee,r().description)},[()=>`color: ${f(r().kanbanColumn)}`]),b(te,ge)},$$slots:{default:!0}})}),b(K,se)},$$slots:{default:!0}})});var W=X(F,2);Y(W,()=>W1,(N,U)=>{U(N,{class:"overflow-hidden data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",onmousedown:K=>{K.stopPropagation()},onmouseup:K=>{K.stopPropagation()},children:(K,ce)=>{var se=ej(),he=ne(se),be=ne(he);M3(be,{get project(){return e.project},get task(){return r()},get progress(){return g(i)},set progress(we){H(i,we,!0)}}),Q(he);var Te=X(he,2);xt(Te,21,()=>g(s),wt,(we,Re)=>{var Ne=Q4(),Ve=ne(Ne,!0);Q(Ne),fe(()=>Xe(Ve,g(Re))),b(we,Ne)}),Q(Te);var te=X(Te,2),ae=ne(te);h3(ae,{get project(){return e.project},get task(){return r()}});var ge=X(ae,2);b3(ge,{get project(){return e.project},get task(){return r()}}),Q(te);var xe=X(te,2),ue=ne(xe);{var ke=we=>{gn(we,{variant:"destructive",onclick:d,children:(Re,Ne)=>{Ie();var Ve=Le("Leave Task");b(Re,Ve)},$$slots:{default:!0}})},Ee=we=>{gn(we,{onclick:d,children:(Re,Ne)=>{Ie();var Ve=Le("Join Task");b(Re,Ve)},$$slots:{default:!0}})};ve(ue,we=>{g(a)?we(ke):we(Ee,!1)})}Q(xe),Q(se),b(K,se)},$$slots:{default:!0}})}),b(J,E)},$$slots:{default:!0}})}),b(D,V)},$$slots:{default:!0}})});var S=X(_,2),T=ne(S);Q(S),fe(k=>Sa(T,k),[()=>`transform: translateX(-${100-Math.min(g(i)??0,100)}%);
                                    background-color: ${h(g(i))}`]),b(v,y)};let r=w(e,"task",7),i=ee(void 0),s=C(()=>r().assignees.map(v=>e.project.users.find(y=>y.id===v)).map(v=>`${v==null?void 0:v.firstName} ${v==null?void 0:v.lastName}`)),a=C(()=>r().assignees.includes(localStorage.myId)),o=ee(!1),l=ee(0),c=ee(0),u;function d(){r().assignees.includes(localStorage.myId)?r().assignees=r().assignees.filter(v=>v!==localStorage.myId):r().assignees.push(localStorage.myId),e.project.updateInProject(`Tasks[Id=${r().id}].Assignees`,r().assignees),r().assignees.includes(localStorage.myId)}function h(v){return v<20?"#FF8C00":v<50?"#facc15":v<70?"#9ACD32":"#22c55e"}function f(v){return console.log(v),v==""&&g(i)==0?"#000000":v==""?"#FF8C00":v=="progress"?"#dfff00":"#22c55e"}var m=I(),p=P(m);Y(p,()=>q4,(v,y)=>{y(v,{children:(_,S)=>{var T=sj(),k=P(T);Y(k,()=>X4,(D,j)=>{j(D,{children:(V,Z)=>{var L=ij();L.__mousedown=[rj,l,c,o],L.__mouseup=J=>{setTimeout(()=>{H(o,!1)},100),u.hidden=!0;let G=document.elementFromPoint(J.clientX,J.clientY);u.hidden=!1;let E=G==null?void 0:G.closest(".kanban-column");console.log(E),E!=null&&e.project.updateInProject(`Tasks[Id=${r().id}].KanbanColumn`,E.id)};var z=ne(L);t(z),Q(L),ir(L,J=>u=J,()=>u),fe(()=>Sa(L,g(o)?`top:${mi.y-g(c)}px;left:${mi.x-g(l)}px`:"")),b(V,L)},$$slots:{default:!0}})});var O=X(k,2);Y(O,()=>K4,(D,j)=>{j(D,{children:(V,Z)=>{var L=I(),z=P(L);Y(z,()=>G4,(J,G)=>{G(J,{onclick:()=>{e.project.deleteInProject(`Tasks[Id=${r().id}]`)},children:(E,F)=>{Ie();var W=Le("Delete");b(E,W)},$$slots:{default:!0}})}),b(V,L)},$$slots:{default:!0}})}),b(_,T)},$$slots:{default:!0}})}),b(n,m),ie()}em(["mousedown","mouseup"]);var oj=$('<div class="kanban-column border svelte-dhuapz" role="list"><h1 class="text-[1.5em]"> </h1> <!></div>');function ng(n,e){re(e,!0);var t=oj(),r=ne(t),i=ne(r,!0);Q(r);var s=X(r,2);xt(s,17,()=>e.project.tasks,wt,(a,o)=>{var l=I(),c=P(l);{var u=d=>{aj(d,{get project(){return e.project},get task(){return g(o)}})};ve(c,d=>{g(o).kanbanColumn===e.columnId&&d(u)})}b(a,l)}),Q(t),fe(()=>{ni(t,"id",e.columnId),Xe(i,e.columnName)}),b(n,t),ie()}var lj=$('<div class="board svelte-1f2jkbg"><!> <!> <!></div>');function cj(n,e){var t=lj(),r=ne(t);ng(r,{get project(){return e.project},columnName:"Not started",columnId:""});var i=X(r,2);ng(i,{get project(){return e.project},columnName:"In progress",columnId:"progress"});var s=X(i,2);ng(s,{get project(){return e.project},columnName:"Done",columnId:"done"}),Q(t),b(n,t)}var uj=$("<!> <!>",1);function dj(n,e){re(e,!0),console.log("data in TasksTab: "+e.data),e.project.tasks[0]??new y0;var t=I(),r=P(t);Y(r,()=>qi,(i,s)=>{s(i,{value:"tasks",children:(a,o)=>{var l=uj(),c=P(l);$4(c,{get project(){return e.project},get data(){return e.data}});var u=X(c,2);cj(u,{get project(){return e.project}}),b(a,l)},$$slots:{default:!0}})}),b(n,t),ie()}var fj=$('<a target="_blank" class="text-blue-500"> </a>'),hj=$('<p class="text-xl">Error</p>'),gj=$('<!> <div><p class="pb-8"> </p> <!></div>',1),mj=$("<!> <!> <!> <!> <!> <!> <!>",1),pj=(n,e)=>g(e).updateInProject("Title",n.currentTarget.value),vj=(n,e)=>g(e).select(""),yj=(n,e)=>g(e).select("a"),bj=(n,e)=>g(e).select("b"),_j=$('<h1> </h1> <p> </p> <p> </p> <input value="X" class="svelte-1dxedxv"> <button class="svelte-1dxedxv">Enable selector</button> <input type="radio" name="options" id="A" value="A" class="svelte-1dxedxv"> <label for="A">A</label> <input type="radio" name="options" id="B" value="B" class="svelte-1dxedxv"> <label for="B">B</label>',1),xj=$("<!> <!> <!> <!> <!> <!> <!> <!>",1),wj=$('<div class="p-5"><h2 class="scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight transition-colors first:mt-0"> </h2> <p class="my-5 leading-7 [&amp;:not(:first-child)]:mt-6"><!></p> <!> <!></div>'),Sj=$("<p> </p>"),Tj=$("<p>Loading project</p>"),kj=$("<!> <!>",1);function Gj(n,e){re(e,!0);let t=ee(""),r=ee(ct(new Promise((l,c)=>{})));Zs(()=>{let l=new URLSearchParams(document.location.search);H(t,l.get("id")||"",!0),H(r,kC(g(t)),!0)});let i=C(async()=>(await g(r)).description.split(" ").map(l=>({content:l+" ",isLink:l.startsWith("http")})));var s=kj(),a=P(s);dw(a,{});var o=X(a,2);pp(o,()=>g(r),l=>{var c=Tj();b(l,c)},(l,c)=>{var u=wj(),d=ne(u),h=ne(d,!0);Q(d);var f=X(d,2),m=ne(f);pp(m,()=>g(i),null,(y,_)=>{var S=I(),T=P(S);xt(T,17,()=>g(_),wt,(k,O)=>{var D=I(),j=P(D);{var V=L=>{var z=fj(),J=ne(z,!0);Q(z),fe(()=>{ni(z,"href",g(O).content),Xe(J,g(O).content)}),b(L,z)},Z=L=>{var z=Le();fe(()=>Xe(z,g(O).content)),b(L,z)};ve(j,L=>{g(O).isLink?L(V):L(Z,!1)})}b(k,D)}),b(y,S)}),Q(f);var p=X(f,2);Y(p,()=>Ds,(y,_)=>{_(y,{get open(){return g(c).showError},set open(S){g(c).showError=S},children:(S,T)=>{var k=I(),O=P(k);Y(O,()=>Es,(D,j)=>{j(D,{children:(V,Z)=>{var L=gj(),z=P(L);Y(z,()=>Is,(W,N)=>{N(W,{children:(U,K)=>{var ce=hj();b(U,ce)},$$slots:{default:!0}})});var J=X(z,2),G=ne(J),E=ne(G,!0);Q(G);var F=X(G,2);gn(F,{onclick:()=>{g(c).showError=!1},children:(W,N)=>{Ie();var U=Le("Close");b(W,U)},$$slots:{default:!0}}),Q(J),fe(()=>Xe(E,g(c).error)),b(V,L)},$$slots:{default:!0}})}),b(S,k)},$$slots:{default:!0}})});var v=X(p,2);Y(v,()=>wC,(y,_)=>{_(y,{value:"tasks",children:(S,T)=>{var k=xj(),O=P(k);Y(O,()=>xC,(G,E)=>{E(G,{children:(F,W)=>{var N=mj(),U=P(N);Y(U,()=>ki,(te,ae)=>{ae(te,{value:"tasks",children:(ge,xe)=>{Ie();var ue=Le("Task Board");b(ge,ue)},$$slots:{default:!0}})});var K=X(U,2);Y(K,()=>ki,(te,ae)=>{ae(te,{value:"calendar",children:(ge,xe)=>{Ie();var ue=Le("Calendar");b(ge,ue)},$$slots:{default:!0}})});var ce=X(K,2);Y(ce,()=>ki,(te,ae)=>{ae(te,{value:"availability",children:(ge,xe)=>{Ie();var ue=Le("Availability");b(ge,ue)},$$slots:{default:!0}})});var se=X(ce,2);Y(se,()=>ki,(te,ae)=>{ae(te,{value:"stats",children:(ge,xe)=>{Ie();var ue=Le("Stats");b(ge,ue)},$$slots:{default:!0}})});var he=X(se,2);Y(he,()=>ki,(te,ae)=>{ae(te,{value:"polls",children:(ge,xe)=>{Ie();var ue=Le("Polls");b(ge,ue)},$$slots:{default:!0}})});var be=X(he,2);Y(be,()=>ki,(te,ae)=>{ae(te,{value:"settings",children:(ge,xe)=>{Ie();var ue=Le("Settings");b(ge,ue)},$$slots:{default:!0}})});var Te=X(be,2);Y(Te,()=>ki,(te,ae)=>{ae(te,{value:"debug",children:(ge,xe)=>{Ie();var ue=Le("Debugging");b(ge,ue)},$$slots:{default:!0}})}),b(F,N)},$$slots:{default:!0}})});var D=X(O,2);dj(D,{get project(){return g(c)},get data(){return e.data}});var j=X(D,2);ND(j,{get project(){return g(c)}});var V=X(j,2);DD(V,{get project(){return g(c)}});var Z=X(V,2);fI(Z,{get project(){return g(c)},get data(){return e.data}});var L=X(Z,2);OI(L,{get project(){return g(c)}});var z=X(L,2);l3(z,{get project(){return g(c)}});var J=X(z,2);Y(J,()=>qi,(G,E)=>{E(G,{value:"debug",children:(F,W)=>{var N=_j(),U=P(N),K=ne(U);Q(U);var ce=X(U,2),se=ne(ce);Q(ce);var he=X(ce,2),be=ne(he);Q(he);var Te=X(he,2);Te.__input=[pj,c];var te=X(Te,2);te.__click=[vj,c];var ae=X(te,2);Ra(ae),ae.__input=[yj,c];var ge=X(ae,4);Ra(ge),ge.__input=[bj,c],Ie(2),fe(()=>{Xe(K,`Project page for ${g(c).title??""}!`),Xe(se,`Description: ${g(c).description??""}`),Xe(be,`Project ID: ${g(c).id??""}`),yp(ae,g(c).demoButtonState=="a"),ae.disabled=g(c).demoButtonState!="",yp(ge,g(c).demoButtonState=="b"),ge.disabled=g(c).demoButtonState!=""}),b(F,N)},$$slots:{default:!0}})}),b(S,k)},$$slots:{default:!0}})}),Q(u),fe(()=>Xe(h,g(c).title)),b(l,u)},(l,c)=>{var u=Sj(),d=ne(u,!0);Q(u),fe(()=>Xe(d,g(c))),b(l,u)}),b(n,s),ie()}em(["input","click"]);export{Gj as component,Hj as universal};
