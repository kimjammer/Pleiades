var K0=Object.defineProperty;var xm=n=>{throw TypeError(n)};var q0=(n,e,t)=>e in n?K0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var N=(n,e,t)=>q0(n,typeof e!="symbol"?e+"":e,t),_f=(n,e,t)=>e.has(n)||xm("Cannot "+t);var P=(n,e,t)=>(_f(n,e,"read from private field"),t?t.call(n):e.get(n)),z=(n,e,t)=>e.has(n)?xm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),gt=(n,e,t,r)=>(_f(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Le=(n,e,t)=>(_f(n,e,"access private method"),t);import{y as X0,c as I,a as b,t as $,b as Ee,w as Fi,u as Qt,d as og}from"../chunks/D91PLHXj.js";import"../chunks/D1uVUdUJ.js";import{U as fy,N as J0,P as Q0,a as ex,b as hy,e as wm,H as tx,s as nx,c as gy,d as rx,i as my,f as Gl,h as ix,g as sx}from"../chunks/CBYtLTUQ.js";import{ac as py,K as bt,a7 as ax,M as ot,aX as ox,a6 as Sm,E as lx,a_ as cx,a$ as ux,b0 as dx,ar as fx,z as hx,u as Ae,B as km,A as Tm,aK as gx,ah as mx,ae as px,Q as vx,aS as yx,a9 as ss,b as ve,e as Kt,h as J,I as Qe,g,au as O,H as vy,p as te,f as T,a as ne,c as ee,r as Q,t as de,d as vt,s as q,n as De,aZ as bx,at as dc,aE as lg,a8 as _n,b1 as xf,aV as Ca,aP as Ft,m as Wt,aQ as $d,b2 as wf,b3 as _x,b4 as xx,aU as cg}from"../chunks/BnlJGgOP.js";import{o as yi,a as wa,c as ug}from"../chunks/-edqPVA3.js";import{f as wx,g as Sx,b as V,C as fn,u as He,w as Ht,a as Ue,m as ze,d as fc,s as kx,h as yy,j as Tx,k as Px,e as by,o as _y,I as hr,U as dg,l as fg,p as Ax,n as xy,P as Mx}from"../chunks/BeeaAd45.js";import{c as Ox,s as Xe}from"../chunks/CyLCGewD.js";import{a as Pm}from"../chunks/DBpeIFFK.js";import{p as S,r as ye,i as pe,b as Dr,s as Te,l as sn,d as wy,e as Yr,a as Sy}from"../chunks/B763vZ0f.js";import{s as vn,e as Ot,i as Ct}from"../chunks/Cukhmg5d.js";import{c as Z}from"../chunks/axzEdmOf.js";import{b as ae,c as Oe,r as Da,a as ii,f as ky,e as Cx,g as hs,s as Am,d as Sf,h as Mm}from"../chunks/DD8gV6Kh.js";import{c as et,t as Ty,d as Dx,B as en,P as Py,a as Ay,e as Ys,f as My,g as Ex}from"../chunks/D6HYcvAb.js";import{i as Gd,e as Yt,P as Oy,f as Un,g as Ix,F as Rx,h as Om,E as Nx,j as Fx,k as Lx,l as jx,m as Cy,n as Bx,o as Ea,p as hg,t as zx,q as Dy,r as Vx,s as Ux,u as Wx,C as Hx,v as Zx,w as Yx,x as lh,y as $x,z as Gx,A as Cm,I as Kx,B as gg,R as Is,T as Ia,D as Rs,a as Ns,b as mg,c as pg,d as vg,S as Dm}from"../chunks/X1yJWcl9.js";import{A as Bi,j as dl,k as fl,l as zi,m as yg,H as bg,o as qn,b as At,h as gr,S as Ki,E as qi,p as bi,f as Kd,n as _t,q as _i,r as qx,s as Ey,t as Xx,u as Iy,v as Jx,w as _g,x as xg,y as Qx,z as ew,B as tw,C as nw,P as rw,D as iw,T as sw,e as Ry,F as aw,d as ow,G as lw,L as hc}from"../chunks/CCZk_E-g.js";import{s as Ra,a as cw,C as uw,S as Em,m as gc,c as dw}from"../chunks/DwuAiwha.js";import{i as hl}from"../chunks/gJNj41QD.js";import{b as fw,I as ir}from"../chunks/5t0qSbAN.js";import{t as Ny}from"../chunks/-OJtI3Vh.js";import{b as hw}from"../chunks/CW4c6UbU.js";import{b as gw,C as mw,a as pw}from"../chunks/CmXAeFjv.js";import{C as vw}from"../chunks/CaXR7EO6.js";import{r as ch}from"../chunks/CD2N6fI6.js";function uh(n,e,t){py(()=>{var r=bt(()=>e(n,t==null?void 0:t())||{});if(t&&(r!=null&&r.update)){var i=!1,s={};ax(()=>{var a=t();ot(a),i&&ox(s,a)&&(s=a,r.update(a))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}const yw=()=>performance.now(),Mr={tick:n=>requestAnimationFrame(n),now:()=>yw(),tasks:new Set};function Fy(){const n=Mr.now();Mr.tasks.forEach(e=>{e.c(n)||(Mr.tasks.delete(e),e.f())}),Mr.tasks.size!==0&&Mr.tick(Fy)}function bw(n){let e;return Mr.tasks.size===0&&Mr.tick(Fy),{promise:new Promise(t=>{Mr.tasks.add(e={c:n,f:t})}),abort(){Mr.tasks.delete(e)}}}function Sl(n,e){X0(()=>{n.dispatchEvent(new CustomEvent(e))})}function _w(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Im(n){const e={},t=n.split(";");for(const r of t){const[i,s]=r.split(":");if(!i||s===void 0)break;const a=_w(i.trim());e[a]=s.trim()}return e}const xw=n=>n;function ww(n,e,t,r){var i=(n&dx)!==0,s="both",a,o=e.inert,l=e.style.overflow,c,u;function d(){var v=gx,y=Sm;km(null),Tm(null);try{return a??(a=t()(e,(r==null?void 0:r())??{},{direction:s}))}finally{km(v),Tm(y)}}var h={is_global:i,in(){e.inert=o,Sl(e,"introstart"),c=dh(e,d(),u,1,()=>{Sl(e,"introend"),c==null||c.abort(),c=a=void 0,e.style.overflow=l})},out(v){e.inert=!0,Sl(e,"outrostart"),u=dh(e,d(),c,0,()=>{Sl(e,"outroend"),v==null||v()})},stop:()=>{c==null||c.abort(),u==null||u.abort()}},f=Sm;if((f.transitions??(f.transitions=[])).push(h),Ox){var m=i;if(!m){for(var p=f.parent;p&&p.f&lx;)for(;(p=p.parent)&&!(p.f&cx););m=!p||(p.f&ux)!==0}m&&py(()=>{bt(()=>h.in())})}}function dh(n,e,t,r,i){var s=r===1;if(fx(e)){var a,o=!1;return hx(()=>{if(!o){var v=e({direction:s?"in":"out"});a=dh(n,v,t,r,i)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:Ae,deactivate:Ae,reset:Ae,t:()=>r};const{delay:l=0,css:c,tick:u,easing:d=xw}=e;var h=[];if(s&&t===void 0&&(u&&u(0,1),c)){var f=Im(c(0,1));h.push(f,f)}var m=()=>1-r,p=n.animate(h,{duration:l});return p.onfinish=()=>{var v=(t==null?void 0:t.t())??1-r;t==null||t.abort();var y=r-v,_=e.duration*Math.abs(y),w=[];if(_>0){var x=!1;if(c)for(var k=Math.ceil(_/16.666666666666668),A=0;A<=k;A+=1){var C=v+y*d(A/k),E=Im(c(C,1-C));w.push(E),x||(x=E.overflow==="hidden")}x&&(n.style.overflow="hidden"),m=()=>{var R=p.currentTime;return v+y*d(R/_)},u&&bw(()=>{if(p.playState!=="running")return!1;var R=m();return u(R,1-R),!0})}p=n.animate(w,{duration:_,fill:"forwards"}),p.onfinish=()=>{m=()=>r,u==null||u(r,1-r),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=Ae)},deactivate:()=>{i=Ae},reset:()=>{r===0&&(u==null||u(1,0))},t:()=>m()}}function Sw(n,e,t){var r=mx(n,e);r&&r.set&&(n[e]=t,px(()=>{n[e]=null}))}function Bn(n,e){var s;var t=(s=n.$$events)==null?void 0:s[e.type],r=vx(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function kl(n){let e;const t=wx(i=>{let s=!1;const a=n.subscribe(o=>{e=o,s&&i()});return s=!0,a});function r(){return yx()?(t(),e):ss(n)}return"set"in n?{get current(){return r()},set current(i){n.set(i)}}:{get current(){return r()}}}class kf extends Error{constructor(e,t){super(e),this.name="DevalueError",this.path=t.join("")}}function Rm(n){return Object(n)!==n}const kw=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tw(n){const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===kw}function Pw(n){return Object.prototype.toString.call(n).slice(8,-1)}function Aw(n){switch(n){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n<" "?`\\u${n.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function cs(n){let e="",t=0;const r=n.length;for(let i=0;i<r;i+=1){const s=n[i],a=Aw(s);a&&(e+=n.slice(t,i)+a,t=i+1)}return`"${t===0?n:e+n.slice(t)}"`}function Mw(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.getOwnPropertyDescriptor(n,e).enumerable)}const Ow=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Nm(n){return Ow.test(n)?"."+n:"["+JSON.stringify(n)+"]"}function Cw(n,e){const t=[],r=new Map,i=[];if(e)for(const c of Object.getOwnPropertyNames(e))i.push({key:c,fn:e[c]});const s=[];let a=0;function o(c){if(typeof c=="function")throw new kf("Cannot stringify a function",s);if(r.has(c))return r.get(c);if(c===void 0)return fy;if(Number.isNaN(c))return J0;if(c===1/0)return Q0;if(c===-1/0)return ex;if(c===0&&1/c<0)return hy;const u=a++;r.set(c,u);for(const{key:h,fn:f}of i){const m=f(c);if(m)return t[u]=`["${h}",${o(m)}]`,u}let d="";if(Rm(c))d=Tf(c);else{const h=Pw(c);switch(h){case"Number":case"String":case"Boolean":d=`["Object",${Tf(c)}]`;break;case"BigInt":d=`["BigInt",${c}]`;break;case"Date":d=`["Date","${!isNaN(c.getDate())?c.toISOString():""}"]`;break;case"RegExp":const{source:m,flags:p}=c;d=p?`["RegExp",${cs(m)},"${p}"]`:`["RegExp",${cs(m)}]`;break;case"Array":d="[";for(let v=0;v<c.length;v+=1)v>0&&(d+=","),v in c?(s.push(`[${v}]`),d+=o(c[v]),s.pop()):d+=tx;d+="]";break;case"Set":d='["Set"';for(const v of c)d+=`,${o(v)}`;d+="]";break;case"Map":d='["Map"';for(const[v,y]of c)s.push(`.get(${Rm(v)?Tf(v):"..."})`),d+=`,${o(v)},${o(y)}`,s.pop();d+="]";break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const y=wm(c.buffer);d='["'+h+'","'+y+'"]';break}case"ArrayBuffer":{d=`["ArrayBuffer","${wm(c)}"]`;break}default:if(!Tw(c))throw new kf("Cannot stringify arbitrary non-POJOs",s);if(Mw(c).length>0)throw new kf("Cannot stringify POJOs with symbolic keys",s);if(Object.getPrototypeOf(c)===null){d='["null"';for(const v in c)s.push(Nm(v)),d+=`,${cs(v)},${o(c[v])}`,s.pop();d+="]"}else{d="{";let v=!1;for(const y in c)v&&(d+=","),v=!0,s.push(Nm(y)),d+=`${cs(y)}:${o(c[y])}`,s.pop();d+="}"}}}return t[u]=d,u}const l=o(n);return l<0?`${l}`:`[${t.join(",")}]`}function Tf(n){const e=typeof n;return e==="string"?cs(n):n instanceof String?cs(n.toString()):n===void 0?fy.toString():n===0&&1/n<0?hy.toString():e==="bigint"?`["BigInt","${n}"]`:String(n)}function Dw(n){return typeof n=="function"}function Ew(n){return Dw(n)?n():n}var Pr;class Iw{constructor(e,t={box:"border-box"}){z(this,Pr,ve(Kt({width:0,height:0})));var i,s;const r=t.window??Sx;J(P(this,Pr),{width:((i=t.initialSize)==null?void 0:i.width)??0,height:((s=t.initialSize)==null?void 0:s.height)??0},!0),Qe(()=>{if(!r)return;const a=Ew(e);if(!a)return;const o=new r.ResizeObserver(l=>{for(const c of l){const u=t.box==="content-box"?c.contentBoxSize:c.borderBoxSize,d=Array.isArray(u)?u:[u];g(P(this,Pr)).width=d.reduce((h,f)=>Math.max(h,f.inlineSize),0),g(P(this,Pr)).height=d.reduce((h,f)=>Math.max(h,f.blockSize),0)}});return o.observe(a),()=>{o.disconnect()}})}get current(){return g(P(this,Pr))}get width(){return g(P(this,Pr)).width}get height(){return g(P(this,Pr)).height}}Pr=new WeakMap;function Rw(n){Qe(()=>bt(()=>n()))}function Nw(n){return window.getComputedStyle(n).getPropertyValue("direction")}function Fw(n="ltr",e="horizontal"){return{horizontal:n==="rtl"?fl:dl,vertical:zi}[e]}function Lw(n="ltr",e="horizontal"){return{horizontal:n==="rtl"?dl:fl,vertical:Bi}[e]}function jw(n="ltr",e="horizontal"){return["ltr","rtl"].includes(n)||(n="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:Fw(n,e),prevKey:Lw(n,e)}}function qd(n){const e=V(null);function t(){if(!Gd)return[];const a=document.getElementById(n.rootNodeId.current);return a?n.candidateSelector?Array.from(a.querySelectorAll(n.candidateSelector)):Array.from(a.querySelectorAll(`[${n.candidateAttr}]:not([data-disabled])`)):[]}function r(){var o;const a=t();a.length&&((o=a[0])==null||o.focus())}function i(a,o,l=!1){var w;const c=document.getElementById(n.rootNodeId.current);if(!c||!a)return;const u=t();if(!u.length)return;const d=u.indexOf(a),h=Nw(c),{nextKey:f,prevKey:m}=jw(h,n.orientation.current),p=n.loop.current,v={[f]:d+1,[m]:d-1,[bg]:0,[yg]:u.length-1};if(l){const x=f===zi?dl:zi,k=m===Bi?fl:Bi;v[x]=d+1,v[k]=d-1}let y=v[o.key];if(y===void 0)return;o.preventDefault(),y<0&&p?y=u.length-1:y===u.length&&p&&(y=0);const _=u[y];if(_)return _.focus(),e.current=_.id,(w=n.onCandidateFocus)==null||w.call(n,_),_}function s(a){const o=t(),l=e.current!==null;return a&&!l&&o[0]===a?(e.current=a.id,0):(a==null?void 0:a.id)===e.current?0:-1}return{setCurrentTabStopId(a){e.current=a},getTabIndex:s,handleKeydown:i,focusFirstCandidate:r,currentTabStopId:e}}const Bw="data-accordion-root",Ly="data-accordion-trigger",zw="data-accordion-content",Vw="data-accordion-item",Uw="data-accordion-header";var Bc;class jy{constructor(e){N(this,"opts");N(this,"rovingFocusGroup");z(this,Bc,O(()=>({id:this.opts.id.current,"data-orientation":qn(this.opts.orientation.current),"data-disabled":At(this.opts.disabled.current),[Bw]:""})));this.opts=e,He(this.opts),this.rovingFocusGroup=qd({rootNodeId:this.opts.id,candidateAttr:Ly,loop:this.opts.loop,orientation:this.opts.orientation})}get props(){return g(P(this,Bc))}}Bc=new WeakMap;class Ww extends jy{constructor(t){super(t);N(this,"opts");N(this,"isMulti",!1);this.opts=t,this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(t){return this.opts.value.current===t}toggleItem(t){this.opts.value.current=this.includesItem(t)?"":t}}var Ar;class Hw extends jy{constructor(t){super(t);z(this,Ar);N(this,"isMulti",!0);gt(this,Ar,t.value),this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(t){return P(this,Ar).current.includes(t)}toggleItem(t){this.includesItem(t)?P(this,Ar).current=P(this,Ar).current.filter(r=>r!==t):P(this,Ar).current=[...P(this,Ar).current,t]}}Ar=new WeakMap;var zc,Vc,Uc;class Zw{constructor(e){N(this,"opts");N(this,"root");z(this,zc,O(()=>this.root.includesItem(this.opts.value.current)));z(this,Vc,O(()=>this.opts.disabled.current||this.root.opts.disabled.current));z(this,Uc,O(()=>({id:this.opts.id.current,"data-state":gr(this.isActive),"data-disabled":At(this.isDisabled),"data-orientation":qn(this.root.opts.orientation.current),[Vw]:""})));this.opts=e,this.root=e.rootState,this.updateValue=this.updateValue.bind(this),He({...e,deps:()=>this.isActive})}get isActive(){return g(P(this,zc))}get isDisabled(){return g(P(this,Vc))}updateValue(){this.root.toggleItem(this.opts.value.current)}get props(){return g(P(this,Uc))}}zc=new WeakMap,Vc=new WeakMap,Uc=new WeakMap;var Ri,Wr,Wc;class Yw{constructor(e,t){N(this,"opts");N(this,"itemState");z(this,Ri);z(this,Wr,O(()=>this.opts.disabled.current||this.itemState.opts.disabled.current||P(this,Ri).opts.disabled.current));z(this,Wc,O(()=>({id:this.opts.id.current,disabled:g(P(this,Wr)),"aria-expanded":Kd(this.itemState.isActive),"aria-disabled":bi(g(P(this,Wr))),"data-disabled":At(g(P(this,Wr))),"data-state":gr(this.itemState.isActive),"data-orientation":qn(P(this,Ri).opts.orientation.current),[Ly]:"",tabindex:0,onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.itemState=t,gt(this,Ri,t.root),this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),He(e)}onclick(e){if(!g(P(this,Wr))){if(e.button!==0)return e.preventDefault();this.itemState.updateValue()}}onkeydown(e){if(!g(P(this,Wr))){if(e.key===Ki||e.key===qi){e.preventDefault(),this.itemState.updateValue();return}P(this,Ri).rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}get props(){return g(P(this,Wc))}}Ri=new WeakMap,Wr=new WeakMap,Wc=new WeakMap;var ys,bs,co,uo,Hc,Zc,Yc;class $w{constructor(e,t){N(this,"opts");N(this,"item");z(this,ys);z(this,bs,!1);z(this,co,ve(0));z(this,uo,ve(0));z(this,Hc,O(()=>this.opts.forceMount.current||this.item.isActive));z(this,Zc,O(()=>({open:this.item.isActive})));z(this,Yc,O(()=>({id:this.opts.id.current,"data-state":gr(this.item.isActive),"data-disabled":At(this.item.isDisabled),"data-orientation":qn(this.item.root.opts.orientation.current),[zw]:"",style:{"--bits-accordion-content-height":`${g(P(this,uo))}px`,"--bits-accordion-content-width":`${g(P(this,co))}px`}})));this.opts=e,this.item=t,this.item=t,gt(this,bs,this.item.isActive),He(e),vy(()=>{const r=requestAnimationFrame(()=>{gt(this,bs,!1)});return()=>{cancelAnimationFrame(r)}}),Ht([()=>this.present,()=>this.opts.ref.current],([r,i])=>{i&&Yt(()=>{if(!this.opts.ref.current)return;gt(this,ys,P(this,ys)||{transitionDuration:i.style.transitionDuration,animationName:i.style.animationName}),i.style.transitionDuration="0s",i.style.animationName="none";const s=i.getBoundingClientRect();if(J(P(this,uo),s.height,!0),J(P(this,co),s.width,!0),!P(this,bs)){const{animationName:a,transitionDuration:o}=P(this,ys);i.style.transitionDuration=o,i.style.animationName=a}})})}get present(){return g(P(this,Hc))}get snippetProps(){return g(P(this,Zc))}get props(){return g(P(this,Yc))}}ys=new WeakMap,bs=new WeakMap,co=new WeakMap,uo=new WeakMap,Hc=new WeakMap,Zc=new WeakMap,Yc=new WeakMap;var $c;class Gw{constructor(e,t){N(this,"opts");N(this,"item");z(this,$c,O(()=>({id:this.opts.id.current,role:"heading","aria-level":this.opts.level.current,"data-heading-level":this.opts.level.current,"data-state":gr(this.item.isActive),"data-orientation":qn(this.item.root.opts.orientation.current),[Uw]:""})));this.opts=e,this.item=t,He(e)}get props(){return g(P(this,$c))}}$c=new WeakMap;const By=new fn("Accordion.Root"),Xd=new fn("Accordion.Item");function Kw(n){const{type:e,...t}=n,r=e==="single"?new Ww(t):new Hw(t);return By.set(r)}function qw(n){const e=By.get();return Xd.set(new Zw({...n,rootState:e}))}function Xw(n){return new Yw(n,Xd.get())}function Jw(n){return new $w(n,Xd.get())}function Qw(n){return new Gw(n,Xd.get())}var e1=$("<div><!></div>");function t1(n,e){te(e,!0);let t=S(e,"disabled",3,!1),r=S(e,"value",15),i=S(e,"ref",15,null),s=S(e,"id",19,Ue),a=S(e,"onValueChange",3,_t),o=S(e,"loop",3,!0),l=S(e,"orientation",3,"vertical"),c=ye(e,["$$slots","$$events","$$legacy","disabled","children","child","type","value","ref","id","onValueChange","loop","orientation"]);r()===void 0&&r(e.type==="single"?"":[]);const u=Kw({type:e.type,value:V.with(()=>r(),v=>{r(v),a()(v)}),id:V.with(()=>s()),disabled:V.with(()=>t()),loop:V.with(()=>o()),orientation:V.with(()=>l()),ref:V.with(()=>i(),v=>i(v))}),d=O(()=>ze(c,u.props));var h=I(),f=T(h);{var m=v=>{var y=I(),_=T(y);ae(_,()=>e.child,()=>({props:g(d)})),b(v,y)},p=v=>{var y=e1();let _;var w=ee(y);ae(w,()=>e.children??Ae),Q(y),de(()=>_=Oe(y,_,{...g(d)})),b(v,y)};pe(f,v=>{e.child?v(m):v(p,!1)})}b(n,h),ne()}var n1=$("<div><!></div>");function r1(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"disabled",3,!1),i=S(e,"value",19,Ue),s=S(e,"ref",15,null),a=ye(e,["$$slots","$$events","$$legacy","id","disabled","value","children","child","ref"]);const o=qw({value:V.with(()=>i()),disabled:V.with(()=>r()),id:V.with(()=>t()),ref:V.with(()=>s(),f=>s(f))}),l=O(()=>ze(a,o.props));var c=I(),u=T(c);{var d=f=>{var m=I(),p=T(m);ae(p,()=>e.child,()=>({props:g(l)})),b(f,m)},h=f=>{var m=n1();let p;var v=ee(m);ae(v,()=>e.children??Ae),Q(m),de(()=>p=Oe(m,p,{...g(l)})),b(f,m)};pe(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ne()}var i1=$("<div><!></div>");function s1(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"level",3,2),i=S(e,"ref",15,null),s=ye(e,["$$slots","$$events","$$legacy","id","level","children","child","ref"]);const a=Qw({id:V.with(()=>t()),level:V.with(()=>r()),ref:V.with(()=>i(),h=>i(h))}),o=O(()=>ze(s,a.props));var l=I(),c=T(l);{var u=h=>{var f=I(),m=T(f);ae(m,()=>e.child,()=>({props:g(o)})),b(h,f)},d=h=>{var f=i1();let m;var p=ee(f);ae(p,()=>e.children??Ae),Q(f),de(()=>m=Oe(f,m,{...g(o)})),b(h,f)};pe(c,h=>{e.child?h(u):h(d,!1)})}b(n,l),ne()}var a1=$("<button><!></button>");function o1(n,e){te(e,!0);let t=S(e,"disabled",3,!1),r=S(e,"ref",15,null),i=S(e,"id",19,Ue),s=ye(e,["$$slots","$$events","$$legacy","disabled","ref","id","children","child"]);const a=Xw({disabled:V.with(()=>t()),id:V.with(()=>i()),ref:V.with(()=>r(),h=>r(h))}),o=O(()=>ze(s,a.props));var l=I(),c=T(l);{var u=h=>{var f=I(),m=T(f);ae(m,()=>e.child,()=>({props:g(o)})),b(h,f)},d=h=>{var f=a1();let m;var p=ee(f);ae(p,()=>e.children??Ae),Q(f),de(()=>m=Oe(f,m,{type:"button",...g(o)})),b(h,f)};pe(c,h=>{e.child?h(u):h(d,!1)})}b(n,l),ne()}var l1=$("<div><!></div>");function c1(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=S(e,"forceMount",3,!1),s=ye(e,["$$slots","$$events","$$legacy","child","ref","id","forceMount","children"]);const a=Jw({forceMount:V.with(()=>i()),id:V.with(()=>r()),ref:V.with(()=>t(),o=>t(o))});Oy(n,{forceMount:!0,get present(){return a.present},get id(){return r()},presence:(l,c)=>{let u=()=>c==null?void 0:c().present;var d=I();const h=O(()=>ze(s,a.props,{hidden:i()?void 0:!u().current}));var f=T(d);{var m=v=>{var y=I(),_=T(y),w=vt(()=>({props:g(h),...a.snippetProps}));ae(_,()=>e.child,()=>g(w)),b(v,y)},p=v=>{var y=l1();let _;var w=ee(y);ae(w,()=>e.children??Ae),Q(y),de(()=>_=Oe(y,_,{...g(h)})),b(v,y)};pe(f,v=>{e.child?v(m):v(p,!1)})}b(l,d)},$$slots:{presence:!0}}),ne()}function zy(n,e){te(e,!0);let t=S(e,"disabled",3,!1),r=S(e,"ref",15),i=ye(e,["$$slots","$$events","$$legacy","href","type","children","disabled","ref"]);var s=I(),a=T(s);fc(a,()=>e.href?"a":"button",!1,(o,l)=>{Dr(o,h=>r(h),()=>r());let c;de(()=>c=Oe(o,c,{"data-button-root":!0,type:e.href?void 0:e.type,href:e.href&&!t()?e.href:void 0,disabled:e.href?void 0:t(),"aria-disabled":e.href?t():void 0,role:e.href&&t()?"link":void 0,tabindex:e.href&&t()?-1:0,...i}));var u=I(),d=T(u);ae(d,()=>e.children??Ae),b(l,u)}),b(n,s),ne()}function Pf(n,e){return n-e*Math.floor(n/e)}const Vy=1721426;function Tl(n,e,t,r){e=wg(n,e);let i=e-1,s=-2;return t<=2?s=0:Kl(e)&&(s=-1),Vy-1+365*i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400)+Math.floor((367*t-362)/12+s+r)}function Kl(n){return n%4===0&&(n%100!==0||n%400===0)}function wg(n,e){return n==="BC"?1-e:e}function u1(n){let e="AD";return n<=0&&(e="BC",n=1-n),[e,n]}const d1={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class Fs{fromJulianDay(e){let t=e,r=t-Vy,i=Math.floor(r/146097),s=Pf(r,146097),a=Math.floor(s/36524),o=Pf(s,36524),l=Math.floor(o/1461),c=Pf(o,1461),u=Math.floor(c/365),d=i*400+a*100+l*4+u+(a!==4&&u!==4?1:0),[h,f]=u1(d),m=t-Tl(h,f,1,1),p=2;t<Tl(h,f,3,1)?p=0:Kl(f)&&(p=1);let v=Math.floor(((m+p)*12+373)/367),y=t-Tl(h,f,v,1)+1;return new oi(h,f,v,y)}toJulianDay(e){return Tl(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return d1[Kl(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return Kl(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}const f1={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function Tn(n,e){return e=Pn(e,n.calendar),n.era===e.era&&n.year===e.year&&n.month===e.month&&n.day===e.day}function Sg(n,e){return e=Pn(e,n.calendar),n=fh(n),e=fh(e),n.era===e.era&&n.year===e.year&&n.month===e.month}function h1(n,e){return Tn(n,g1(e))}function Uy(n,e,t){let r=n.calendar.toJulianDay(n),i=v1(e),s=Math.ceil(r+1-i)%7;return s<0&&(s+=7),s}function Wy(n){return $t(Date.now(),n)}function g1(n){return qy(Wy(n))}function Hy(n,e){return n.calendar.toJulianDay(n)-e.calendar.toJulianDay(e)}function Zy(n,e){return Fm(n)-Fm(e)}function Fm(n){return n.hour*36e5+n.minute*6e4+n.second*1e3+n.millisecond}let Af=null;function Sn(){return Af==null&&(Af=new Intl.DateTimeFormat().resolvedOptions().timeZone),Af}function fh(n){return n.subtract({days:n.day-1})}function m1(n){return n.add({days:n.calendar.getDaysInMonth(n)-n.day})}const Lm=new Map;function p1(n){if(Intl.Locale){let t=Lm.get(n);return t||(t=new Intl.Locale(n).maximize().region,t&&Lm.set(n,t)),t}let e=n.split("-")[1];return e==="u"?void 0:e}function v1(n){let e=p1(n);return e&&f1[e]||0}function si(n){n=Pn(n,new Fs);let e=wg(n.era,n.year);return Yy(e,n.month,n.day,n.hour,n.minute,n.second,n.millisecond)}function Yy(n,e,t,r,i,s,a){let o=new Date;return o.setUTCHours(r,i,s,a),o.setUTCFullYear(n,e-1,t),o.getTime()}function Na(n,e){if(e==="UTC")return 0;if(n>0&&e===Sn())return new Date(n).getTimezoneOffset()*-6e4;let{year:t,month:r,day:i,hour:s,minute:a,second:o}=$y(n,e);return Yy(t,r,i,s,a,o,0)-Math.floor(n/1e3)*1e3}const jm=new Map;function $y(n,e){let t=jm.get(e);t||(t=new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),jm.set(e,t));let r=t.formatToParts(new Date(n)),i={};for(let s of r)s.type!=="literal"&&(i[s.type]=s.value);return{year:i.era==="BC"||i.era==="B"?-i.year+1:+i.year,month:+i.month,day:+i.day,hour:i.hour==="24"?0:+i.hour,minute:+i.minute,second:+i.second}}const mc=864e5;function y1(n,e){let t=si(n),r=t-Na(t-mc,e),i=t-Na(t+mc,e);return Gy(n,e,r,i)}function Gy(n,e,t,r){return(t===r?[t]:[t,r]).filter(s=>b1(n,e,s))}function b1(n,e,t){let r=$y(t,e);return n.year===r.year&&n.month===r.month&&n.day===r.day&&n.hour===r.hour&&n.minute===r.minute&&n.second===r.second}function rr(n,e,t="compatible"){let r=ai(n);if(e==="UTC")return si(r);if(e===Sn()&&t==="compatible"){r=Pn(r,new Fs);let l=new Date,c=wg(r.era,r.year);return l.setFullYear(c,r.month-1,r.day),l.setHours(r.hour,r.minute,r.second,r.millisecond),l.getTime()}let i=si(r),s=Na(i-mc,e),a=Na(i+mc,e),o=Gy(r,e,i-s,i-a);if(o.length===1)return o[0];if(o.length>1)switch(t){case"compatible":case"earlier":return o[0];case"later":return o[o.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(t){case"earlier":return Math.min(i-s,i-a);case"compatible":case"later":return Math.max(i-s,i-a);case"reject":throw new RangeError("No such absolute time found")}}function Ky(n,e,t="compatible"){return new Date(rr(n,e,t))}function $t(n,e){let t=Na(n,e),r=new Date(n+t),i=r.getUTCFullYear(),s=r.getUTCMonth()+1,a=r.getUTCDate(),o=r.getUTCHours(),l=r.getUTCMinutes(),c=r.getUTCSeconds(),u=r.getUTCMilliseconds();return new Zn(i<1?"BC":"AD",i<1?-i+1:i,s,a,e,t,o,l,c,u)}function qy(n){return new oi(n.calendar,n.era,n.year,n.month,n.day)}function ai(n,e){let t=0,r=0,i=0,s=0;if("timeZone"in n)({hour:t,minute:r,second:i,millisecond:s}=n);else if("hour"in n&&!e)return n;return e&&({hour:t,minute:r,second:i,millisecond:s}=e),new Er(n.calendar,n.era,n.year,n.month,n.day,t,r,i,s)}function _1(n){return new Cg(n.hour,n.minute,n.second,n.millisecond)}function Pn(n,e){if(n.calendar.identifier===e.identifier)return n;let t=e.fromJulianDay(n.calendar.toJulianDay(n)),r=n.copy();return r.calendar=e,r.era=t.era,r.year=t.year,r.month=t.month,r.day=t.day,Vi(r),r}function x1(n,e,t){if(n instanceof Zn)return n.timeZone===e?n:S1(n,e);let r=rr(n,e,t);return $t(r,e)}function w1(n){let e=si(n)-n.offset;return new Date(e)}function S1(n,e){let t=si(n)-n.offset;return Pn($t(t,e),n.calendar)}const Qs=36e5;function Jd(n,e){let t=n.copy(),r="hour"in t?eb(t,e):0;hh(t,e.years||0),t.calendar.balanceYearMonth&&t.calendar.balanceYearMonth(t,n),t.month+=e.months||0,gh(t),Xy(t),t.day+=(e.weeks||0)*7,t.day+=e.days||0,t.day+=r,k1(t),t.calendar.balanceDate&&t.calendar.balanceDate(t),t.year<1&&(t.year=1,t.month=1,t.day=1);let i=t.calendar.getYearsInEra(t);if(t.year>i){var s,a;let l=(s=(a=t.calendar).isInverseEra)===null||s===void 0?void 0:s.call(a,t);t.year=i,t.month=l?1:t.calendar.getMonthsInYear(t),t.day=l?1:t.calendar.getDaysInMonth(t)}t.month<1&&(t.month=1,t.day=1);let o=t.calendar.getMonthsInYear(t);return t.month>o&&(t.month=o,t.day=t.calendar.getDaysInMonth(t)),t.day=Math.max(1,Math.min(t.calendar.getDaysInMonth(t),t.day)),t}function hh(n,e){var t,r;!((t=(r=n.calendar).isInverseEra)===null||t===void 0)&&t.call(r,n)&&(e=-e),n.year+=e}function gh(n){for(;n.month<1;)hh(n,-1),n.month+=n.calendar.getMonthsInYear(n);let e=0;for(;n.month>(e=n.calendar.getMonthsInYear(n));)n.month-=e,hh(n,1)}function k1(n){for(;n.day<1;)n.month--,gh(n),n.day+=n.calendar.getDaysInMonth(n);for(;n.day>n.calendar.getDaysInMonth(n);)n.day-=n.calendar.getDaysInMonth(n),n.month++,gh(n)}function Xy(n){n.month=Math.max(1,Math.min(n.calendar.getMonthsInYear(n),n.month)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day))}function Vi(n){n.calendar.constrainDate&&n.calendar.constrainDate(n),n.year=Math.max(1,Math.min(n.calendar.getYearsInEra(n),n.year)),Xy(n)}function kg(n){let e={};for(let t in n)typeof n[t]=="number"&&(e[t]=-n[t]);return e}function Jy(n,e){return Jd(n,kg(e))}function Tg(n,e){let t=n.copy();return e.era!=null&&(t.era=e.era),e.year!=null&&(t.year=e.year),e.month!=null&&(t.month=e.month),e.day!=null&&(t.day=e.day),Vi(t),t}function Fa(n,e){let t=n.copy();return e.hour!=null&&(t.hour=e.hour),e.minute!=null&&(t.minute=e.minute),e.second!=null&&(t.second=e.second),e.millisecond!=null&&(t.millisecond=e.millisecond),Qy(t),t}function T1(n){n.second+=Math.floor(n.millisecond/1e3),n.millisecond=Pl(n.millisecond,1e3),n.minute+=Math.floor(n.second/60),n.second=Pl(n.second,60),n.hour+=Math.floor(n.minute/60),n.minute=Pl(n.minute,60);let e=Math.floor(n.hour/24);return n.hour=Pl(n.hour,24),e}function Qy(n){n.millisecond=Math.max(0,Math.min(n.millisecond,1e3)),n.second=Math.max(0,Math.min(n.second,59)),n.minute=Math.max(0,Math.min(n.minute,59)),n.hour=Math.max(0,Math.min(n.hour,23))}function Pl(n,e){let t=n%e;return t<0&&(t+=e),t}function eb(n,e){return n.hour+=e.hours||0,n.minute+=e.minutes||0,n.second+=e.seconds||0,n.millisecond+=e.milliseconds||0,T1(n)}function tb(n,e){let t=n.copy();return eb(t,e),t}function P1(n,e){return tb(n,kg(e))}function Pg(n,e,t,r){let i=n.copy();switch(e){case"era":{let o=n.calendar.getEras(),l=o.indexOf(n.era);if(l<0)throw new Error("Invalid era: "+n.era);l=Or(l,t,0,o.length-1,r==null?void 0:r.round),i.era=o[l],Vi(i);break}case"year":var s,a;!((s=(a=i.calendar).isInverseEra)===null||s===void 0)&&s.call(a,i)&&(t=-t),i.year=Or(n.year,t,-1/0,9999,r==null?void 0:r.round),i.year===-1/0&&(i.year=1),i.calendar.balanceYearMonth&&i.calendar.balanceYearMonth(i,n);break;case"month":i.month=Or(n.month,t,1,n.calendar.getMonthsInYear(n),r==null?void 0:r.round);break;case"day":i.day=Or(n.day,t,1,n.calendar.getDaysInMonth(n),r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return n.calendar.balanceDate&&n.calendar.balanceDate(i),Vi(i),i}function Ag(n,e,t,r){let i=n.copy();switch(e){case"hour":{let s=n.hour,a=0,o=23;if((r==null?void 0:r.hourCycle)===12){let l=s>=12;a=l?12:0,o=l?23:11}i.hour=Or(s,t,a,o,r==null?void 0:r.round);break}case"minute":i.minute=Or(n.minute,t,0,59,r==null?void 0:r.round);break;case"second":i.second=Or(n.second,t,0,59,r==null?void 0:r.round);break;case"millisecond":i.millisecond=Or(n.millisecond,t,0,999,r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return i}function Or(n,e,t,r,i=!1){if(i){n+=Math.sign(e),n<t&&(n=r);let s=Math.abs(e);e>0?n=Math.ceil(n/s)*s:n=Math.floor(n/s)*s,n>r&&(n=t)}else n+=e,n<t?n=r-(t-n-1):n>r&&(n=t+(n-r-1));return n}function nb(n,e){let t;if(e.years!=null&&e.years!==0||e.months!=null&&e.months!==0||e.weeks!=null&&e.weeks!==0||e.days!=null&&e.days!==0){let i=Jd(ai(n),{years:e.years,months:e.months,weeks:e.weeks,days:e.days});t=rr(i,n.timeZone)}else t=si(n)-n.offset;t+=e.milliseconds||0,t+=(e.seconds||0)*1e3,t+=(e.minutes||0)*6e4,t+=(e.hours||0)*36e5;let r=$t(t,n.timeZone);return Pn(r,n.calendar)}function A1(n,e){return nb(n,kg(e))}function M1(n,e,t,r){switch(e){case"hour":{let i=0,s=23;if((r==null?void 0:r.hourCycle)===12){let m=n.hour>=12;i=m?12:0,s=m?23:11}let a=ai(n),o=Pn(Fa(a,{hour:i}),new Fs),l=[rr(o,n.timeZone,"earlier"),rr(o,n.timeZone,"later")].filter(m=>$t(m,n.timeZone).day===o.day)[0],c=Pn(Fa(a,{hour:s}),new Fs),u=[rr(c,n.timeZone,"earlier"),rr(c,n.timeZone,"later")].filter(m=>$t(m,n.timeZone).day===c.day).pop(),d=si(n)-n.offset,h=Math.floor(d/Qs),f=d%Qs;return d=Or(h,t,Math.floor(l/Qs),Math.floor(u/Qs),r==null?void 0:r.round)*Qs+f,Pn($t(d,n.timeZone),n.calendar)}case"minute":case"second":case"millisecond":return Ag(n,e,t,r);case"era":case"year":case"month":case"day":{let i=Pg(ai(n),e,t,r),s=rr(i,n.timeZone);return Pn($t(s,n.timeZone),n.calendar)}default:throw new Error("Unsupported field "+e)}}function O1(n,e,t){let r=ai(n),i=Fa(Tg(r,e),e);if(i.compare(r)===0)return n;let s=rr(i,n.timeZone,t);return Pn($t(s,n.timeZone),n.calendar)}const C1=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})$/,D1=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?$/,E1=/^([+-]\d{6}|\d{4})-(\d{2})-(\d{2})(?:T(\d{2}))?(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?(?:([+-]\d{2})(?::?(\d{2}))?)?\[(.*?)\]$/;function rb(n){let e=n.match(C1);if(!e)throw new Error("Invalid ISO 8601 date string: "+n);let t=new oi(Nt(e[1],0,9999),Nt(e[2],1,12),1);return t.day=Nt(e[3],0,t.calendar.getDaysInMonth(t)),t}function ib(n){let e=n.match(D1);if(!e)throw new Error("Invalid ISO 8601 date time string: "+n);let t=Nt(e[1],-9999,9999),r=t<1?"BC":"AD",i=new Er(r,t<1?-t+1:t,Nt(e[2],1,12),1,e[4]?Nt(e[4],0,23):0,e[5]?Nt(e[5],0,59):0,e[6]?Nt(e[6],0,59):0,e[7]?Nt(e[7],0,1/0)*1e3:0);return i.day=Nt(e[3],0,i.calendar.getDaysInMonth(i)),i}function sb(n,e){let t=n.match(E1);if(!t)throw new Error("Invalid ISO 8601 date time string: "+n);let r=Nt(t[1],-9999,9999),i=r<1?"BC":"AD",s=new Zn(i,r<1?-r+1:r,Nt(t[2],1,12),1,t[10],0,t[4]?Nt(t[4],0,23):0,t[5]?Nt(t[5],0,59):0,t[6]?Nt(t[6],0,59):0,t[7]?Nt(t[7],0,1/0)*1e3:0);s.day=Nt(t[3],0,s.calendar.getDaysInMonth(s));let a=ai(s),o;if(t[8]){var l;if(s.offset=Nt(t[8],-23,23)*36e5+Nt((l=t[9])!==null&&l!==void 0?l:"0",0,59)*6e4,o=si(s)-s.offset,!y1(a,s.timeZone).includes(o))throw new Error(`Offset ${lb(s.offset)} is invalid for ${Mg(s)} in ${s.timeZone}`)}else o=rr(ai(a),s.timeZone,e);return $t(o,s.timeZone)}function Nt(n,e,t){let r=Number(n);if(r<e||r>t)throw new RangeError(`Value out of range: ${e} <= ${r} <= ${t}`);return r}function ab(n){return`${String(n.hour).padStart(2,"0")}:${String(n.minute).padStart(2,"0")}:${String(n.second).padStart(2,"0")}${n.millisecond?String(n.millisecond/1e3).slice(1):""}`}function ob(n){let e=Pn(n,new Fs),t;return e.era==="BC"?t=e.year===1?"0000":"-"+String(Math.abs(1-e.year)).padStart(6,"00"):t=String(e.year).padStart(4,"0"),`${t}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function Mg(n){return`${ob(n)}T${ab(n)}`}function lb(n){let e=Math.sign(n)<0?"-":"+";n=Math.abs(n);let t=Math.floor(n/36e5),r=n%36e5/6e4;return`${e}${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function I1(n){return`${Mg(n)}${lb(n.offset)}[${n.timeZone}]`}function R1(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qd(n,e,t){R1(n,e),e.set(n,t)}function Og(n){let e=typeof n[0]=="object"?n.shift():new Fs,t;if(typeof n[0]=="string")t=n.shift();else{let a=e.getEras();t=a[a.length-1]}let r=n.shift(),i=n.shift(),s=n.shift();return[e,t,r,i,s]}var N1=new WeakMap;class oi{copy(){return this.era?new oi(this.calendar,this.era,this.year,this.month,this.day):new oi(this.calendar,this.year,this.month,this.day)}add(e){return Jd(this,e)}subtract(e){return Jy(this,e)}set(e){return Tg(this,e)}cycle(e,t,r){return Pg(this,e,t,r)}toDate(e){return Ky(this,e)}toString(){return ob(this)}compare(e){return Hy(this,e)}constructor(...e){Qd(this,N1,{writable:!0,value:void 0});let[t,r,i,s,a]=Og(e);this.calendar=t,this.era=r,this.year=i,this.month=s,this.day=a,Vi(this)}}var F1=new WeakMap;class Cg{copy(){return new Cg(this.hour,this.minute,this.second,this.millisecond)}add(e){return tb(this,e)}subtract(e){return P1(this,e)}set(e){return Fa(this,e)}cycle(e,t,r){return Ag(this,e,t,r)}toString(){return ab(this)}compare(e){return Zy(this,e)}constructor(e=0,t=0,r=0,i=0){Qd(this,F1,{writable:!0,value:void 0}),this.hour=e,this.minute=t,this.second=r,this.millisecond=i,Qy(this)}}var L1=new WeakMap;class Er{copy(){return this.era?new Er(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new Er(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return Jd(this,e)}subtract(e){return Jy(this,e)}set(e){return Tg(Fa(this,e),e)}cycle(e,t,r){switch(e){case"era":case"year":case"month":case"day":return Pg(this,e,t,r);default:return Ag(this,e,t,r)}}toDate(e,t){return Ky(this,e,t)}toString(){return Mg(this)}compare(e){let t=Hy(this,e);return t===0?Zy(this,ai(e)):t}constructor(...e){Qd(this,L1,{writable:!0,value:void 0});let[t,r,i,s,a]=Og(e);this.calendar=t,this.era=r,this.year=i,this.month=s,this.day=a,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Vi(this)}}var j1=new WeakMap;class Zn{copy(){return this.era?new Zn(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new Zn(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return nb(this,e)}subtract(e){return A1(this,e)}set(e,t){return O1(this,e,t)}cycle(e,t,r){return M1(this,e,t,r)}toDate(){return w1(this)}toString(){return I1(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-x1(e,this.timeZone).toDate().getTime()}constructor(...e){Qd(this,j1,{writable:!0,value:void 0});let[t,r,i,s,a]=Og(e),o=e.shift(),l=e.shift();this.calendar=t,this.era=r,this.year=i,this.month=s,this.day=a,this.timeZone=o,this.offset=l,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Vi(this)}}let Mf=new Map;class jr{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,t){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(t)}`}formatRangeToParts(e,t){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let r=this.formatter.formatToParts(e),i=this.formatter.formatToParts(t);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return V1()&&(this.resolvedHourCycle||(this.resolvedHourCycle=U1(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,t={}){this.formatter=cb(e,t),this.options=t}}const B1={true:{ja:"h11"},false:{}};function cb(n,e={}){if(typeof e.hour12=="boolean"&&z1()){e={...e};let i=B1[String(e.hour12)][n.split("-")[0]],s=e.hour12?"h12":"h23";e.hourCycle=i??s,delete e.hour12}let t=n+(e?Object.entries(e).sort((i,s)=>i[0]<s[0]?-1:1).join():"");if(Mf.has(t))return Mf.get(t);let r=new Intl.DateTimeFormat(n,e);return Mf.set(t,r),r}let Of=null;function z1(){return Of==null&&(Of=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),Of}let Cf=null;function V1(){return Cf==null&&(Cf=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),Cf}function U1(n,e){if(!e.timeStyle&&!e.hour)return;n=n.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),n+=(n.includes("-u-")?"":"-u")+"-nu-latn";let t=cb(n,{...e,timeZone:void 0}),r=parseInt(t.formatToParts(new Date(2020,2,3,0)).find(s=>s.type==="hour").value,10),i=parseInt(t.formatToParts(new Date(2020,2,3,23)).find(s=>s.type==="hour").value,10);if(r===0&&i===23)return"h23";if(r===24&&i===23)return"h24";if(r===0&&i===11)return"h11";if(r===12&&i===11)return"h12";throw new Error("Unexpected hour cycle result")}function W1(){if(!Gd)return null;let n=document.querySelector("[data-bits-announcer]");if(!Un(n)){const r=document.createElement("div");r.style.cssText=kx,r.setAttribute("data-bits-announcer",""),r.appendChild(e("assertive")),r.appendChild(e("polite")),n=r,document.body.insertBefore(n,document.body.firstChild)}function e(r){const i=document.createElement("div");return i.role="log",i.ariaLive=r,i.setAttribute("aria-relevant","additions"),i}function t(r){if(!Un(n))return null;const i=n.querySelector(`[aria-live="${r}"]`);return Un(i)?i:null}return{getLog:t}}function H1(){const n=W1();function e(t,r="assertive",i=7500){if(!n||!Gd)return;const s=n.getLog(r),a=document.createElement("div");return typeof t=="number"?t=t.toString():t===null?t="Empty":t=t.trim(),a.innerText=t,r==="assertive"?s==null||s.replaceChildren(a):s==null||s.appendChild(a),setTimeout(()=>{a.remove()},i)}return{announce:e}}const Z1={defaultValue:void 0,granularity:"day"};function Y1(n){const e={...Z1,...n},{defaultValue:t,granularity:r}=e;if(Array.isArray(t)&&t.length)return t[t.length-1];if(t&&!Array.isArray(t))return t;{const i=new Date,s=i.getFullYear(),a=i.getMonth()+1,o=i.getDate();return["hour","minute","second"].includes(r??"day")?new Er(s,a,o,0,0,0):new oi(s,a,o)}}function ub(n,e){let t;return e instanceof Zn?t=sb(n):e instanceof Er?t=ib(n):t=rb(n),t.calendar!==e.calendar?Pn(t,e.calendar):t}function Cr(n,e=Sn()){return n instanceof Zn?n.toDate():n.toDate(e)}function $1(n){if(n instanceof oi)return"date";if(n instanceof Er)return"datetime";if(n instanceof Zn)return"zoneddatetime";throw new Error("Unknown date type")}function G1(n,e){switch(e){case"date":return rb(n);case"datetime":return ib(n);case"zoneddatetime":return sb(n);default:throw new Error(`Unknown date type: ${e}`)}}function K1(n){return n instanceof Er}function db(n){return n instanceof Zn}function mh(n){return K1(n)||db(n)}function q1(n){if(n instanceof Date){const e=n.getFullYear(),t=n.getMonth()+1;return new Date(e,t,0).getDate()}else return n.set({day:100}).day}function La(n,e){return n.compare(e)<0}function X1(n,e){return n.compare(e)>0}function J1(n,e,t){const r=Uy(n,t);return e>r?n.subtract({days:r+7-e}):e===r?n:n.subtract({days:r-e})}function Q1(n,e,t){const r=Uy(n,t),i=e===0?6:e-1;return r===i?n:r>i?n.add({days:7-r+i}):n.add({days:i-r})}const eS={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function tS(n){let e=n;function t(f){e=f}function r(){return e}function i(f,m){return new jr(e,m).format(f)}function s(f,m=!0){return mh(f)&&m?i(Cr(f),{dateStyle:"long",timeStyle:"long"}):i(Cr(f),{dateStyle:"long"})}function a(f){return new jr(e,{month:"long",year:"numeric"}).format(f)}function o(f){return new jr(e,{month:"long"}).format(f)}function l(f){return new jr(e,{year:"numeric"}).format(f)}function c(f,m){return db(f)?new jr(e,{...m,timeZone:f.timeZone}).formatToParts(Cr(f)):new jr(e,m).formatToParts(Cr(f))}function u(f,m="narrow"){return new jr(e,{weekday:m}).format(f)}function d(f,m=void 0){var y;return((y=new jr(e,{hour:"numeric",minute:"numeric",hourCycle:m===24?"h23":void 0}).formatToParts(f).find(_=>_.type==="dayPeriod"))==null?void 0:y.value)==="PM"?"PM":"AM"}function h(f,m,p={}){const v={...eS,...p},_=c(f,v).find(w=>w.type===m);return _?_.value:""}return{setLocale:t,getLocale:r,fullMonth:o,fullYear:l,fullMonthAndYear:a,toParts:c,custom:i,part:h,dayPeriod:d,selectedDate:s,dayOfWeek:u}}function nS(n,e){const t=[];for(let r=0;r<n.length;r+=e)t.push(n.slice(r,r+e));return t}function Df(n,e){return n>=0&&n<e.length}function fb(n,e,t){const r=e.toLowerCase();if(r.endsWith(" ")){const d=r.slice(0,-1);if(n.filter(p=>p.toLowerCase().startsWith(d)).length<=1)return fb(n,d,t);const f=t==null?void 0:t.toLowerCase();if(f&&f.startsWith(d)&&f.charAt(d.length)===" "&&e.trim()===d)return t;const m=n.filter(p=>p.toLowerCase().startsWith(r));if(m.length>0){const p=t?n.indexOf(t):-1;return Bm(m,Math.max(p,0)).find(_=>_!==t)||t}}const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s.toLowerCase(),o=t?n.indexOf(t):-1;let l=Bm(n,Math.max(o,0));s.length===1&&(l=l.filter(d=>d!==t));const u=l.find(d=>d==null?void 0:d.toLowerCase().startsWith(a));return u!==t?u:void 0}function Bm(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function rS(n){return!(!Un(n)||!n.hasAttribute("data-bits-day"))}function zm(n,e){const t=[];let r=n.add({days:1});const i=e;for(;r.compare(i)<0;)t.push(r),r=r.add({days:1});return t}function Ef(n){const{dateObj:e,weekStartsOn:t,fixedWeeks:r,locale:i}=n,s=q1(e),a=Array.from({length:s},(v,y)=>e.set({day:y+1})),o=fh(e),l=m1(e),c=J1(o,t,i),u=Q1(l,t,i),d=zm(c.subtract({days:1}),o),h=zm(l,u.add({days:1})),f=d.length+a.length+h.length;if(r&&f<42){const v=42-f;let y=h[h.length-1];y||(y=e.add({months:1}).set({day:1}));let _=v;h.length===0&&(_=v-1,h.push(y));const w=Array.from({length:_},(x,k)=>{const A=k+1;return y.add({days:A})});h.push(...w)}const m=d.concat(a,h),p=nS(m,7);return{value:e,dates:m,weeks:p}}function gl(n){const{numberOfMonths:e,dateObj:t,...r}=n,i=[];if(!e||e===1)return i.push(Ef({...r,dateObj:t})),i;i.push(Ef({...r,dateObj:t}));for(let s=1;s<e;s++){const a=t.add({months:s});i.push(Ef({...r,dateObj:a}))}return i}function If(n){return n?Array.from(n.querySelectorAll("[data-bits-day]:not([data-disabled]):not([data-outside-visible-months])")).filter(t=>Un(t)):[]}function Vm(n,e){const t=n.getAttribute("data-value");t&&(e.current=ub(t,e.current))}function iS({node:n,add:e,placeholder:t,calendarNode:r,isPrevButtonDisabled:i,isNextButtonDisabled:s,months:a,numberOfMonths:o}){var d,h;const l=If(r);if(!l.length)return;const u=l.indexOf(n)+e;if(Df(u,l)){const f=l[u];return Vm(f,t),f.focus()}if(u<0){if(i)return;const f=(d=a[0])==null?void 0:d.value;if(!f)return;t.current=f.subtract({months:o}),Yt(()=>{const m=If(r);if(!m.length)return;const p=m.length-Math.abs(u);if(Df(p,m)){const v=m[p];return Vm(v,t),v.focus()}})}if(u>=l.length){if(s)return;const f=(h=a[0])==null?void 0:h.value;if(!f)return;t.current=f.add({months:o}),Yt(()=>{const m=If(r);if(!m.length)return;const p=u-l.length;if(Df(p,m))return m[p].focus()})}}const Um=[zi,Bi,fl,dl],Wm=[qi,Ki];function sS({event:n,handleCellClick:e,shiftFocus:t,placeholderValue:r}){const i=n.target;if(!rS(i)||!Um.includes(n.key)&&!Wm.includes(n.key))return;n.preventDefault();const s={[zi]:7,[Bi]:-7,[fl]:-1,[dl]:1};if(Um.includes(n.key)){const a=s[n.key];a!==void 0&&t(i,a)}if(Wm.includes(n.key)){const a=i.getAttribute("data-value");if(!a)return;e(n,ub(a,r))}}function aS({months:n,setMonths:e,numberOfMonths:t,pagedNavigation:r,weekStartsOn:i,locale:s,fixedWeeks:a,setPlaceholder:o}){var c;const l=(c=n[0])==null?void 0:c.value;if(l)if(r)o(l.add({months:t}));else{const u=gl({dateObj:l.add({months:1}),weekStartsOn:i,locale:s,fixedWeeks:a,numberOfMonths:t});e(u);const d=u[0];if(!d)return;o(d.value.set({day:1}))}}function oS({months:n,setMonths:e,numberOfMonths:t,pagedNavigation:r,weekStartsOn:i,locale:s,fixedWeeks:a,setPlaceholder:o}){var c;const l=(c=n[0])==null?void 0:c.value;if(l)if(r)o(l.subtract({months:t}));else{const u=gl({dateObj:l.subtract({months:1}),weekStartsOn:i,locale:s,fixedWeeks:a,numberOfMonths:t});e(u);const d=u[0];if(!d)return;o(d.value.set({day:1}))}}function lS({months:n,formatter:e,weekdayFormat:t}){if(!n.length)return[];const i=n[0].weeks[0];return i?i.map(s=>e.dayOfWeek(Cr(s),t)):[]}function cS(n){const e=n.weekStartsOn.current,t=n.locale.current,r=n.fixedWeeks.current,i=n.numberOfMonths.current;bt(()=>{const s=n.placeholder.current;if(!s)return;const a={weekStartsOn:e,locale:t,fixedWeeks:r,numberOfMonths:i};n.setMonths(gl({...a,dateObj:s}))})}function uS({calendarNode:n,label:e,accessibleHeadingId:t}){const r=document.createElement("div");r.style.cssText=yy({border:"0px",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"});const i=document.createElement("div");return i.textContent=e,i.id=t,i.role="heading",i.ariaLevel="2",n.insertBefore(r,n.firstChild),r.appendChild(i),()=>{var a;const s=document.getElementById(t);s&&((a=r.parentElement)==null||a.removeChild(r),s.remove())}}function dS({placeholder:n,getVisibleMonths:e,weekStartsOn:t,locale:r,fixedWeeks:i,numberOfMonths:s,setMonths:a}){Qe(()=>{n.current,bt(()=>{if(e().some(l=>Sg(l,n.current)))return;const o={weekStartsOn:t.current,locale:r.current,fixedWeeks:i.current,numberOfMonths:s.current};a(gl({...o,dateObj:n.current}))})})}function fS({maxValue:n,months:e,disabled:t}){var s;if(!n||!e.length)return!1;if(t)return!0;const r=(s=e[e.length-1])==null?void 0:s.value;if(!r)return!1;const i=r.add({months:1}).set({day:1});return X1(i,n)}function hS({minValue:n,months:e,disabled:t}){var s;if(!n||!e.length)return!1;if(t)return!0;const r=(s=e[0])==null?void 0:s.value;if(!r)return!1;const i=r.subtract({months:1}).set({day:35});return La(i,n)}function gS({months:n,locale:e,formatter:t}){if(!n.length)return"";if(e!==t.getLocale()&&t.setLocale(e),n.length===1){const u=Cr(n[0].value);return`${t.fullMonthAndYear(u)}`}const r=Cr(n[0].value),i=Cr(n[n.length-1].value),s=t.fullMonth(r),a=t.fullMonth(i),o=t.fullYear(r),l=t.fullYear(i);return o===l?`${s} - ${a} ${l}`:`${s} ${o} - ${a} ${l}`}function mS({fullCalendarLabel:n,id:e,isInvalid:t,disabled:r,readonly:i}){return{id:e,role:"application","aria-label":n,"data-invalid":qx(t),"data-disabled":At(r),"data-readonly":_i(i)}}function pS(n){if(!Gd)return;const e=Array.from(n.querySelectorAll("[data-bits-day]:not([aria-disabled=true])"));if(e.length===0)return;const t=e[0],r=t==null?void 0:t.getAttribute("data-value"),i=t==null?void 0:t.getAttribute("data-type");if(!(!r||!i))return G1(r,i)}function vS({ref:n,placeholder:e,defaultPlaceholder:t,minValue:r,maxValue:i,isDateDisabled:s}){function a(o){return!!(s.current(o)||r.current&&La(o,r.current)||i.current&&La(i.current,o))}Ht(()=>n.current,()=>{n.current&&e.current&&Tn(e.current,t)&&a(t)&&(e.current=pS(n.current)??t)})}function yS(n,e){return!n||!e?n:mh(n)&&mh(e)?n.set({hour:e.hour,minute:e.minute,millisecond:e.millisecond,second:e.second}):n}var fo,Gc,Kc,qc,Xc,Jc,Qc,eu,tu,nu;class bS{constructor(e){N(this,"opts");z(this,fo,ve(Kt([])));z(this,Gc,O(()=>this.months.map(e=>e.value)));N(this,"announcer");N(this,"formatter");N(this,"accessibleHeadingId",Ue());z(this,Kc,O(()=>lS({months:this.months,formatter:this.formatter,weekdayFormat:this.opts.weekdayFormat.current})));z(this,qc,O(()=>fS({maxValue:this.opts.maxValue.current,months:this.months,disabled:this.opts.disabled.current})));z(this,Xc,O(()=>hS({minValue:this.opts.minValue.current,months:this.months,disabled:this.opts.disabled.current})));z(this,Jc,O(()=>{const e=this.opts.value.current,t=this.opts.isDateDisabled.current,r=this.opts.isDateUnavailable.current;if(Array.isArray(e)){if(!e.length)return!1;for(const i of e)if(t(i)||r(i))return!0}else{if(!e)return!1;if(t(e)||r(e))return!0}return!1}));z(this,Qc,O(()=>gS({months:this.months,formatter:this.formatter,locale:this.opts.locale.current})));z(this,eu,O(()=>`${this.opts.calendarLabel.current} ${this.headingValue}`));z(this,tu,O(()=>({months:this.months,weekdays:this.weekdays})));z(this,nu,O(()=>({...mS({fullCalendarLabel:this.fullCalendarLabel,id:this.opts.id.current,isInvalid:this.isInvalid,disabled:this.opts.disabled.current,readonly:this.opts.readonly.current}),[this.getBitsAttr("root")]:"",onkeydown:this.onkeydown})));this.opts=e,this.announcer=H1(),this.formatter=tS(this.opts.locale.current),this.setMonths=this.setMonths.bind(this),this.nextPage=this.nextPage.bind(this),this.prevPage=this.prevPage.bind(this),this.prevYear=this.prevYear.bind(this),this.nextYear=this.nextYear.bind(this),this.setYear=this.setYear.bind(this),this.setMonth=this.setMonth.bind(this),this.isOutsideVisibleMonths=this.isOutsideVisibleMonths.bind(this),this.isDateDisabled=this.isDateDisabled.bind(this),this.isDateSelected=this.isDateSelected.bind(this),this.shiftFocus=this.shiftFocus.bind(this),this.handleCellClick=this.handleCellClick.bind(this),this.handleMultipleUpdate=this.handleMultipleUpdate.bind(this),this.handleSingleUpdate=this.handleSingleUpdate.bind(this),this.onkeydown=this.onkeydown.bind(this),this.getBitsAttr=this.getBitsAttr.bind(this),He(e),this.months=gl({dateObj:this.opts.placeholder.current,weekStartsOn:this.opts.weekStartsOn.current,locale:this.opts.locale.current,fixedWeeks:this.opts.fixedWeeks.current,numberOfMonths:this.opts.numberOfMonths.current}),Qe(()=>{var r;if(bt(()=>this.opts.initialFocus.current)){const i=(r=this.opts.ref.current)==null?void 0:r.querySelector("[data-focused]");i&&i.focus()}}),Qe(()=>this.opts.ref.current?uS({calendarNode:this.opts.ref.current,label:this.fullCalendarLabel,accessibleHeadingId:this.accessibleHeadingId}):void 0),Qe(()=>{this.formatter.getLocale()!==this.opts.locale.current&&this.formatter.setLocale(this.opts.locale.current)}),dS({placeholder:this.opts.placeholder,getVisibleMonths:()=>this.visibleMonths,weekStartsOn:this.opts.weekStartsOn,locale:this.opts.locale,fixedWeeks:this.opts.fixedWeeks,numberOfMonths:this.opts.numberOfMonths,setMonths:t=>this.months=t}),cS({fixedWeeks:this.opts.fixedWeeks,locale:this.opts.locale,numberOfMonths:this.opts.numberOfMonths,placeholder:this.opts.placeholder,setMonths:this.setMonths,weekStartsOn:this.opts.weekStartsOn}),Qe(()=>{const t=document.getElementById(this.accessibleHeadingId);t&&(t.textContent=this.fullCalendarLabel)}),Ht(()=>this.opts.value.current,()=>{const t=this.opts.value.current;if(Array.isArray(t)&&t.length){const r=t[t.length-1];r&&this.opts.placeholder.current!==r&&(this.opts.placeholder.current=r)}else!Array.isArray(t)&&t&&this.opts.placeholder.current!==t&&(this.opts.placeholder.current=t)}),vS({placeholder:e.placeholder,defaultPlaceholder:e.defaultPlaceholder,isDateDisabled:e.isDateDisabled,maxValue:e.maxValue,minValue:e.minValue,ref:e.ref})}get months(){return g(P(this,fo))}set months(e){J(P(this,fo),e,!0)}get visibleMonths(){return g(P(this,Gc))}setMonths(e){this.months=e}get weekdays(){return g(P(this,Kc))}nextPage(){aS({fixedWeeks:this.opts.fixedWeeks.current,locale:this.opts.locale.current,numberOfMonths:this.opts.numberOfMonths.current,pagedNavigation:this.opts.pagedNavigation.current,setMonths:this.setMonths,setPlaceholder:e=>this.opts.placeholder.current=e,weekStartsOn:this.opts.weekStartsOn.current,months:this.months})}prevPage(){oS({fixedWeeks:this.opts.fixedWeeks.current,locale:this.opts.locale.current,numberOfMonths:this.opts.numberOfMonths.current,pagedNavigation:this.opts.pagedNavigation.current,setMonths:this.setMonths,setPlaceholder:e=>this.opts.placeholder.current=e,weekStartsOn:this.opts.weekStartsOn.current,months:this.months})}nextYear(){this.opts.placeholder.current=this.opts.placeholder.current.add({years:1})}prevYear(){this.opts.placeholder.current=this.opts.placeholder.current.subtract({years:1})}setYear(e){this.opts.placeholder.current=this.opts.placeholder.current.set({year:e})}setMonth(e){this.opts.placeholder.current=this.opts.placeholder.current.set({month:e})}get isNextButtonDisabled(){return g(P(this,qc))}get isPrevButtonDisabled(){return g(P(this,Xc))}get isInvalid(){return g(P(this,Jc))}get headingValue(){return g(P(this,Qc))}get fullCalendarLabel(){return g(P(this,eu))}isOutsideVisibleMonths(e){return!this.visibleMonths.some(t=>Sg(e,t))}isDateDisabled(e){if(this.opts.isDateDisabled.current(e)||this.opts.disabled.current)return!0;const t=this.opts.minValue.current,r=this.opts.maxValue.current;return!!(t&&La(e,t)||r&&La(r,e))}isDateSelected(e){const t=this.opts.value.current;return Array.isArray(t)?t.some(r=>Tn(r,e)):t?Tn(t,e):!1}shiftFocus(e,t){return iS({node:e,add:t,placeholder:this.opts.placeholder,calendarNode:this.opts.ref.current,isPrevButtonDisabled:this.isPrevButtonDisabled,isNextButtonDisabled:this.isNextButtonDisabled,months:this.months,numberOfMonths:this.opts.numberOfMonths.current})}handleCellClick(e,t){var s,a,o,l,c,u;if(this.opts.readonly.current||(a=(s=this.opts.isDateDisabled).current)!=null&&a.call(s,t)||(l=(o=this.opts.isDateUnavailable).current)!=null&&l.call(o,t))return;const r=this.opts.value.current;if(this.opts.type.current==="multiple")(Array.isArray(r)||r===void 0)&&(this.opts.value.current=this.handleMultipleUpdate(r,t));else if(!Array.isArray(r)){const d=this.handleSingleUpdate(r,t);d?this.announcer.announce(`Selected Date: ${this.formatter.selectedDate(d,!1)}`,"polite"):this.announcer.announce("Selected date is now empty.","polite",5e3),this.opts.value.current=yS(d,r),d!==void 0&&((u=(c=this.opts.onDateSelect)==null?void 0:c.current)==null||u.call(c))}}handleMultipleUpdate(e,t){if(!e)return[t];if(!Array.isArray(e))return;const r=e.findIndex(s=>Tn(s,t)),i=this.opts.preventDeselect.current;if(r===-1)return[...e,t];if(i)return e;{const s=e.filter(a=>!Tn(a,t));if(!s.length){this.opts.placeholder.current=t;return}return s}}handleSingleUpdate(e,t){if(!e)return t;if(!this.opts.preventDeselect.current&&Tn(e,t)){this.opts.placeholder.current=t;return}return t}onkeydown(e){sS({event:e,handleCellClick:this.handleCellClick,shiftFocus:this.shiftFocus,placeholderValue:this.opts.placeholder.current})}get snippetProps(){return g(P(this,tu))}getBitsAttr(e){return`data-bits-calendar-${e}`}get props(){return g(P(this,nu))}}fo=new WeakMap,Gc=new WeakMap,Kc=new WeakMap,qc=new WeakMap,Xc=new WeakMap,Jc=new WeakMap,Qc=new WeakMap,eu=new WeakMap,tu=new WeakMap,nu=new WeakMap;var ru,iu;class _S{constructor(e,t){N(this,"opts");N(this,"root");z(this,ru,O(()=>this.root.headingValue));z(this,iu,O(()=>({id:this.opts.id.current,"aria-hidden":Ey(!0),"data-disabled":At(this.root.opts.disabled.current),"data-readonly":_i(this.root.opts.readonly.current),[this.root.getBitsAttr("heading")]:""})));this.opts=e,this.root=t,He(e)}get headingValue(){return g(P(this,ru))}get props(){return g(P(this,iu))}}ru=new WeakMap,iu=new WeakMap;var su,au,ou,lu,cu,uu,du,fu,hu,gu,mu,pu,vu;class xS{constructor(e,t){N(this,"opts");N(this,"root");z(this,su,O(()=>Cr(this.opts.date.current)));z(this,au,O(()=>this.root.isDateDisabled(this.opts.date.current)));z(this,ou,O(()=>this.root.opts.isDateUnavailable.current(this.opts.date.current)));z(this,lu,O(()=>h1(this.opts.date.current,Sn())));z(this,cu,O(()=>!Sg(this.opts.date.current,this.opts.month.current)));z(this,uu,O(()=>this.root.isOutsideVisibleMonths(this.opts.date.current)));z(this,du,O(()=>Tn(this.opts.date.current,this.root.opts.placeholder.current)));z(this,fu,O(()=>this.root.isDateSelected(this.opts.date.current)));z(this,hu,O(()=>this.root.formatter.custom(this.cellDate,{weekday:"long",month:"long",day:"numeric",year:"numeric"})));z(this,gu,O(()=>({disabled:this.isDisabled,unavailable:this.isUnavailable,selected:this.isSelectedDate})));z(this,mu,O(()=>this.isDisabled||this.isOutsideMonth&&this.root.opts.disableDaysOutsideMonth.current||this.isUnavailable));z(this,pu,O(()=>({"data-unavailable":Jx(this.isUnavailable),"data-today":this.isDateToday?"":void 0,"data-outside-month":this.isOutsideMonth?"":void 0,"data-outside-visible-months":this.isOutsideVisibleMonths?"":void 0,"data-focused":this.isFocusedDate?"":void 0,"data-selected":Iy(this.isSelectedDate),"data-value":this.opts.date.current.toString(),"data-type":$1(this.opts.date.current),"data-disabled":At(this.isDisabled||this.isOutsideMonth&&this.root.opts.disableDaysOutsideMonth.current)})));z(this,vu,O(()=>({id:this.opts.id.current,role:"gridcell","aria-selected":_g(this.isSelectedDate),"aria-disabled":bi(this.ariaDisabled),...this.sharedDataAttrs,[this.root.getBitsAttr("cell")]:""})));this.opts=e,this.root=t,He(e)}get cellDate(){return g(P(this,su))}get isDisabled(){return g(P(this,au))}get isUnavailable(){return g(P(this,ou))}get isDateToday(){return g(P(this,lu))}get isOutsideMonth(){return g(P(this,cu))}get isOutsideVisibleMonths(){return g(P(this,uu))}get isFocusedDate(){return g(P(this,du))}get isSelectedDate(){return g(P(this,fu))}get labelText(){return g(P(this,hu))}get snippetProps(){return g(P(this,gu))}get ariaDisabled(){return g(P(this,mu))}get sharedDataAttrs(){return g(P(this,pu))}get props(){return g(P(this,vu))}}su=new WeakMap,au=new WeakMap,ou=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,du=new WeakMap,fu=new WeakMap,hu=new WeakMap,gu=new WeakMap,mu=new WeakMap,pu=new WeakMap,vu=new WeakMap;var yu,bu,_u;class wS{constructor(e,t){N(this,"opts");N(this,"cell");z(this,yu,O(()=>this.cell.isOutsideMonth&&this.cell.root.opts.disableDaysOutsideMonth.current||this.cell.isDisabled?void 0:this.cell.isFocusedDate?0:-1));z(this,bu,O(()=>({disabled:this.cell.isDisabled,unavailable:this.cell.isUnavailable,selected:this.cell.isSelectedDate,day:`${this.cell.opts.date.current.day}`})));z(this,_u,O(()=>({id:this.opts.id.current,role:"button","aria-label":this.cell.labelText,"aria-disabled":bi(this.cell.ariaDisabled),...this.cell.sharedDataAttrs,tabindex:g(P(this,yu)),[this.cell.root.getBitsAttr("day")]:"","data-bits-day":"",onclick:this.onclick})));this.opts=e,this.cell=t,this.onclick=this.onclick.bind(this),He(e)}onclick(e){this.cell.isDisabled||this.cell.root.handleCellClick(e,this.cell.opts.date.current)}get snippetProps(){return g(P(this,bu))}get props(){return g(P(this,_u))}}yu=new WeakMap,bu=new WeakMap,_u=new WeakMap;var xu,wu;class SS{constructor(e,t){N(this,"opts");N(this,"root");z(this,xu,O(()=>this.root.isNextButtonDisabled));z(this,wu,O(()=>({id:this.opts.id.current,role:"button",type:"button","aria-label":"Next","aria-disabled":bi(this.isDisabled),"data-disabled":At(this.isDisabled),disabled:this.isDisabled,[this.root.getBitsAttr("next-button")]:"",onclick:this.onclick})));this.opts=e,this.root=t,this.onclick=this.onclick.bind(this),He(e)}get isDisabled(){return g(P(this,xu))}onclick(e){this.isDisabled||this.root.nextPage()}get props(){return g(P(this,wu))}}xu=new WeakMap,wu=new WeakMap;var Su,ku;class kS{constructor(e,t){N(this,"opts");N(this,"root");z(this,Su,O(()=>this.root.isPrevButtonDisabled));z(this,ku,O(()=>({id:this.opts.id.current,role:"button",type:"button","aria-label":"Previous","aria-disabled":bi(this.isDisabled),"data-disabled":At(this.isDisabled),disabled:this.isDisabled,[this.root.getBitsAttr("prev-button")]:"",onclick:this.onclick})));this.opts=e,this.root=t,this.onclick=this.onclick.bind(this),He(e)}get isDisabled(){return g(P(this,Su))}onclick(e){this.isDisabled||this.root.prevPage()}get props(){return g(P(this,ku))}}Su=new WeakMap,ku=new WeakMap;var Tu;class TS{constructor(e,t){N(this,"opts");N(this,"root");z(this,Tu,O(()=>({id:this.opts.id.current,tabindex:-1,role:"grid","aria-readonly":Xx(this.root.opts.readonly.current),"aria-disabled":bi(this.root.opts.disabled.current),"data-readonly":_i(this.root.opts.readonly.current),"data-disabled":At(this.root.opts.disabled.current),[this.root.getBitsAttr("grid")]:""})));this.opts=e,this.root=t,He(e)}get props(){return g(P(this,Tu))}}Tu=new WeakMap;var Pu;class PS{constructor(e,t){N(this,"opts");N(this,"root");z(this,Pu,O(()=>({id:this.opts.id.current,"data-disabled":At(this.root.opts.disabled.current),"data-readonly":_i(this.root.opts.readonly.current),[this.root.getBitsAttr("grid-body")]:""})));this.opts=e,this.root=t,He(e)}get props(){return g(P(this,Pu))}}Pu=new WeakMap;var Au;class AS{constructor(e,t){N(this,"opts");N(this,"root");z(this,Au,O(()=>({id:this.opts.id.current,"data-disabled":At(this.root.opts.disabled.current),"data-readonly":_i(this.root.opts.readonly.current),[this.root.getBitsAttr("grid-head")]:""})));this.opts=e,this.root=t,He(e)}get props(){return g(P(this,Au))}}Au=new WeakMap;var Mu;class MS{constructor(e,t){N(this,"opts");N(this,"root");z(this,Mu,O(()=>({id:this.opts.id.current,"data-disabled":At(this.root.opts.disabled.current),"data-readonly":_i(this.root.opts.readonly.current),[this.root.getBitsAttr("grid-row")]:""})));this.opts=e,this.root=t,He(e)}get props(){return g(P(this,Mu))}}Mu=new WeakMap;var Ou;class OS{constructor(e,t){N(this,"opts");N(this,"root");z(this,Ou,O(()=>({id:this.opts.id.current,"data-disabled":At(this.root.opts.disabled.current),"data-readonly":_i(this.root.opts.readonly.current),[this.root.getBitsAttr("head-cell")]:""})));this.opts=e,this.root=t,He(e)}get props(){return g(P(this,Ou))}}Ou=new WeakMap;var Cu;class CS{constructor(e,t){N(this,"opts");N(this,"root");z(this,Cu,O(()=>({id:this.opts.id.current,"data-disabled":At(this.root.opts.disabled.current),"data-readonly":_i(this.root.opts.readonly.current),[this.root.getBitsAttr("header")]:""})));this.opts=e,this.root=t,He(e)}get props(){return g(P(this,Cu))}}Cu=new WeakMap;const Xn=new fn("Calendar.Root | RangeCalender.Root"),hb=new fn("Calendar.Cell | RangeCalendar.Cell");function DS(n){return Xn.set(new bS(n))}function ES(n){return new TS(n,Xn.get())}function IS(n){return hb.set(new xS(n,Xn.get()))}function RS(n){return new SS(n,Xn.get())}function NS(n){return new kS(n,Xn.get())}function FS(n){return new wS(n,hb.get())}function LS(n){return new PS(n,Xn.get())}function jS(n){return new AS(n,Xn.get())}function BS(n){return new MS(n,Xn.get())}function zS(n){return new OS(n,Xn.get())}function VS(n){return new CS(n,Xn.get())}function US(n){return new _S(n,Xn.get())}var WS=$("<div><!></div>");function HS(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"value",15),s=S(e,"onValueChange",3,_t),a=S(e,"placeholder",15),o=S(e,"onPlaceholderChange",3,_t),l=S(e,"weekdayFormat",3,"narrow"),c=S(e,"weekStartsOn",3,0),u=S(e,"pagedNavigation",3,!1),d=S(e,"isDateDisabled",3,()=>!1),h=S(e,"isDateUnavailable",3,()=>!1),f=S(e,"fixedWeeks",3,!1),m=S(e,"numberOfMonths",3,1),p=S(e,"locale",3,"en"),v=S(e,"calendarLabel",3,"Event"),y=S(e,"disabled",3,!1),_=S(e,"readonly",3,!1),w=S(e,"minValue",3,void 0),x=S(e,"maxValue",3,void 0),k=S(e,"preventDeselect",3,!1),A=S(e,"disableDaysOutsideMonth",3,!0),C=S(e,"initialFocus",3,!1),E=ye(e,["$$slots","$$events","$$legacy","child","children","id","ref","value","onValueChange","placeholder","onPlaceholderChange","weekdayFormat","weekStartsOn","pagedNavigation","isDateDisabled","isDateUnavailable","fixedWeeks","numberOfMonths","locale","calendarLabel","disabled","readonly","minValue","maxValue","preventDeselect","type","disableDaysOutsideMonth","initialFocus"]);const R=Y1({defaultValue:i()});if(a()===void 0&&a(R),i()===void 0){const L=e.type==="single"?void 0:[];i(L)}const U=DS({id:V.with(()=>t()),ref:V.with(()=>r(),L=>r(L)),weekdayFormat:V.with(()=>l()),weekStartsOn:V.with(()=>c()),pagedNavigation:V.with(()=>u()),isDateDisabled:V.with(()=>d()),isDateUnavailable:V.with(()=>h()),fixedWeeks:V.with(()=>f()),numberOfMonths:V.with(()=>m()),locale:V.with(()=>p()),calendarLabel:V.with(()=>v()),readonly:V.with(()=>_()),disabled:V.with(()=>y()),minValue:V.with(()=>w()),maxValue:V.with(()=>x()),disableDaysOutsideMonth:V.with(()=>A()),initialFocus:V.with(()=>C()),placeholder:V.with(()=>a(),L=>{a(L),o()(L)}),preventDeselect:V.with(()=>k()),value:V.with(()=>i(),L=>{i(L),s()(L)}),type:V.with(()=>e.type),defaultPlaceholder:R}),F=O(()=>ze(E,U.props));var B=I(),K=T(B);{var Y=L=>{var W=I(),j=T(W),H=vt(()=>({props:g(F),...U.snippetProps}));ae(j,()=>e.child,()=>g(H)),b(L,W)},D=L=>{var W=WS();let j;var H=ee(W);ae(H,()=>e.children??Ae,()=>U.snippetProps),Q(W),de(()=>j=Oe(W,j,{...g(F)})),b(L,W)};pe(K,L=>{e.child?L(Y):L(D,!1)})}b(n,B),ne()}var ZS=$("<div><!></div>");function YS(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=FS({id:V.with(()=>r()),ref:V.with(()=>t(),d=>t(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h),m=vt(()=>({props:g(a),...s.snippetProps}));ae(f,()=>e.child,()=>g(m)),b(d,h)},u=d=>{var h=ZS();let f;var m=ee(h);{var p=y=>{var _=I(),w=T(_);ae(w,()=>e.children??Ae,()=>s.snippetProps),b(y,_)},v=y=>{var _=Ee();de(()=>Xe(_,s.cell.opts.date.current.day)),b(y,_)};pe(m,y=>{e.children?y(p):y(v,!1)})}Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var $S=$("<table><!></table>");function GS(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=ES({id:V.with(()=>r()),ref:V.with(()=>t(),d=>t(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=$S();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var KS=$("<tbody><!></tbody>");function qS(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=LS({id:V.with(()=>r()),ref:V.with(()=>t(),d=>t(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=KS();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var XS=$("<td><!></td>");function JS(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id","date","month"]);const s=IS({id:V.with(()=>r()),ref:V.with(()=>t(),d=>t(d)),date:V.with(()=>e.date),month:V.with(()=>e.month)}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h),m=vt(()=>({props:g(a),...s.snippetProps}));ae(f,()=>e.child,()=>g(m)),b(d,h)},u=d=>{var h=XS();let f;var m=ee(h);ae(m,()=>e.children??Ae,()=>s.snippetProps),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var QS=$("<thead><!></thead>");function ek(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=jS({id:V.with(()=>r()),ref:V.with(()=>t(),d=>t(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=QS();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var tk=$("<th><!></th>");function nk(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=zS({id:V.with(()=>r()),ref:V.with(()=>t(),d=>t(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=tk();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var rk=$("<tr><!></tr>");function ik(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=BS({id:V.with(()=>r()),ref:V.with(()=>t(),d=>t(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=rk();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var sk=$("<header><!></header>");function ak(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=VS({id:V.with(()=>r()),ref:V.with(()=>t(),d=>t(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=sk();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var ok=$("<div><!></div>");function lk(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=US({id:V.with(()=>r()),ref:V.with(()=>t(),d=>t(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a),headingValue:s.headingValue})),b(d,h)},u=d=>{var h=ok();let f;var m=ee(h);{var p=y=>{var _=I(),w=T(_);ae(w,()=>e.children??Ae,()=>({headingValue:s.headingValue})),b(y,_)},v=y=>{var _=Ee();de(()=>Xe(_,s.headingValue)),b(y,_)};pe(m,y=>{e.children?y(p):y(v,!1)})}Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var ck=$("<button><!></button>");function uk(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const s=RS({id:V.with(()=>t()),ref:V.with(()=>r(),d=>r(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=ck();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var dk=$("<button><!></button>");function fk(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const s=NS({id:V.with(()=>t()),ref:V.with(()=>r(),d=>r(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=dk();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}const hk=["top","right","bottom","left"],li=Math.min,kn=Math.max,pc=Math.round,Al=Math.floor,or=n=>({x:n,y:n}),gk={left:"right",right:"left",bottom:"top",top:"bottom"},mk={start:"end",end:"start"};function ph(n,e,t){return kn(n,li(e,t))}function Ir(n,e){return typeof n=="function"?n(e):n}function Rr(n){return n.split("-")[0]}function $s(n){return n.split("-")[1]}function Dg(n){return n==="x"?"y":"x"}function Eg(n){return n==="y"?"height":"width"}function ci(n){return["top","bottom"].includes(Rr(n))?"y":"x"}function Ig(n){return Dg(ci(n))}function pk(n,e,t){t===void 0&&(t=!1);const r=$s(n),i=Ig(n),s=Eg(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=vc(a)),[a,vc(a)]}function vk(n){const e=vc(n);return[vh(n),e,vh(e)]}function vh(n){return n.replace(/start|end/g,e=>mk[e])}function yk(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function bk(n,e,t,r){const i=$s(n);let s=yk(Rr(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(vh)))),s}function vc(n){return n.replace(/left|right|bottom|top/g,e=>gk[e])}function _k(n){return{top:0,right:0,bottom:0,left:0,...n}}function gb(n){return typeof n!="number"?_k(n):{top:n,right:n,bottom:n,left:n}}function yc(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Hm(n,e,t){let{reference:r,floating:i}=n;const s=ci(e),a=Ig(e),o=Eg(a),l=Rr(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch($s(e)){case"start":f[a]-=h*(t&&c?-1:1);break;case"end":f[a]+=h*(t&&c?-1:1);break}return f}const xk=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=Hm(c,r,l),h=r,f={},m=0;for(let p=0;p<o.length;p++){const{name:v,fn:y}=o[p],{x:_,y:w,data:x,reset:k}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:n,floating:e}});u=_??u,d=w??d,f={...f,[v]:{...f[v],...x}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):k.rects),{x:u,y:d}=Hm(c,h,l)),p=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function ja(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ir(e,n),m=gb(f),v=o[h?d==="floating"?"reference":"floating":d],y=yc(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(v)))==null||t?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),_=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),x=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},k=yc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:w,strategy:l}):_);return{top:(y.top-k.top+m.top)/x.y,bottom:(k.bottom-y.bottom+m.bottom)/x.y,left:(y.left-k.left+m.left)/x.x,right:(k.right-y.right+m.right)/x.x}}const wk=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Ir(n,e)||{};if(c==null)return{};const d=gb(u),h={x:t,y:r},f=Ig(i),m=Eg(f),p=await a.getDimensions(c),v=f==="y",y=v?"top":"left",_=v?"bottom":"right",w=v?"clientHeight":"clientWidth",x=s.reference[m]+s.reference[f]-h[f]-s.floating[m],k=h[f]-s.reference[f],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let C=A?A[w]:0;(!C||!await(a.isElement==null?void 0:a.isElement(A)))&&(C=o.floating[w]||s.floating[m]);const E=x/2-k/2,R=C/2-p[m]/2-1,U=li(d[y],R),F=li(d[_],R),B=U,K=C-p[m]-F,Y=C/2-p[m]/2+E,D=ph(B,Y,K),L=!l.arrow&&$s(i)!=null&&Y!==D&&s.reference[m]/2-(Y<B?U:F)-p[m]/2<0,W=L?Y<B?Y-B:Y-K:0;return{[f]:h[f]+W,data:{[f]:D,centerOffset:Y-D-W,...L&&{alignmentOffset:W}},reset:L}}}),Sk=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...v}=Ir(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const y=Rr(i),_=ci(o),w=Rr(o)===o,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(w||!p?[vc(o)]:vk(o)),A=m!=="none";!h&&A&&k.push(...bk(o,p,m,x));const C=[o,...k],E=await ja(e,v),R=[];let U=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&R.push(E[y]),d){const Y=pk(i,a,x);R.push(E[Y[0]],E[Y[1]])}if(U=[...U,{placement:i,overflows:R}],!R.every(Y=>Y<=0)){var F,B;const Y=(((F=s.flip)==null?void 0:F.index)||0)+1,D=C[Y];if(D)return{data:{index:Y,overflows:U},reset:{placement:D}};let L=(B=U.filter(W=>W.overflows[0]<=0).sort((W,j)=>W.overflows[1]-j.overflows[1])[0])==null?void 0:B.placement;if(!L)switch(f){case"bestFit":{var K;const W=(K=U.filter(j=>{if(A){const H=ci(j.placement);return H===_||H==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(H=>H>0).reduce((H,G)=>H+G,0)]).sort((j,H)=>j[1]-H[1])[0])==null?void 0:K[0];W&&(L=W);break}case"initialPlacement":L=o;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function Zm(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Ym(n){return hk.some(e=>n[e]>=0)}const kk=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ir(n,e);switch(r){case"referenceHidden":{const s=await ja(e,{...i,elementContext:"reference"}),a=Zm(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Ym(a)}}}case"escaped":{const s=await ja(e,{...i,altBoundary:!0}),a=Zm(s,t.floating);return{data:{escapedOffsets:a,escaped:Ym(a)}}}default:return{}}}}};async function Tk(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Rr(t),o=$s(t),l=ci(t)==="y",c=["left","top"].includes(a)?-1:1,u=s&&l?-1:1,d=Ir(e,n);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof m=="number"&&(f=o==="end"?m*-1:m),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const Pk=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await Tk(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Ak=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x:y,y:_}=v;return{x:y,y:_}}},...l}=Ir(n,e),c={x:t,y:r},u=await ja(e,l),d=ci(Rr(i)),h=Dg(d);let f=c[h],m=c[d];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",_=f+u[v],w=f-u[y];f=ph(_,f,w)}if(a){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",_=m+u[v],w=m-u[y];m=ph(_,m,w)}const p=o.fn({...e,[h]:f,[d]:m});return{...p,data:{x:p.x-t,y:p.y-r,enabled:{[h]:s,[d]:a}}}}}},Mk=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Ir(n,e),u={x:t,y:r},d=ci(i),h=Dg(d);let f=u[h],m=u[d];const p=Ir(o,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=h==="y"?"height":"width",x=s.reference[h]-s.floating[w]+v.mainAxis,k=s.reference[h]+s.reference[w]-v.mainAxis;f<x?f=x:f>k&&(f=k)}if(c){var y,_;const w=h==="y"?"width":"height",x=["top","left"].includes(Rr(i)),k=s.reference[d]-s.floating[w]+(x&&((y=a.offset)==null?void 0:y[d])||0)+(x?0:v.crossAxis),A=s.reference[d]+s.reference[w]+(x?0:((_=a.offset)==null?void 0:_[d])||0)-(x?v.crossAxis:0);m<k?m=k:m>A&&(m=A)}return{[h]:f,[d]:m}}}},Ok=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Ir(n,e),u=await ja(e,c),d=Rr(i),h=$s(i),f=ci(i)==="y",{width:m,height:p}=s.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=d,v=h==="end"?"top":"bottom");const _=p-u.top-u.bottom,w=m-u.left-u.right,x=li(p-u[v],_),k=li(m-u[y],w),A=!e.middlewareData.shift;let C=x,E=k;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(E=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),A&&!h){const U=kn(u.left,0),F=kn(u.right,0),B=kn(u.top,0),K=kn(u.bottom,0);f?E=m-2*(U!==0||F!==0?U+F:kn(u.left,u.right)):C=p-2*(B!==0||K!==0?B+K:kn(u.top,u.bottom))}await l({...e,availableWidth:E,availableHeight:C});const R=await a.getDimensions(o.floating);return m!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function ef(){return typeof window<"u"}function Gs(n){return mb(n)?(n.nodeName||"").toLowerCase():"#document"}function Mn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function mr(n){var e;return(e=(mb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function mb(n){return ef()?n instanceof Node||n instanceof Mn(n).Node:!1}function Yn(n){return ef()?n instanceof Element||n instanceof Mn(n).Element:!1}function cr(n){return ef()?n instanceof HTMLElement||n instanceof Mn(n).HTMLElement:!1}function $m(n){return!ef()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Mn(n).ShadowRoot}function ml(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=$n(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function Ck(n){return["table","td","th"].includes(Gs(n))}function tf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Rg(n){const e=Ng(),t=Yn(n)?$n(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Dk(n){let e=ui(n);for(;cr(e)&&!Ls(e);){if(Rg(e))return e;if(tf(e))return null;e=ui(e)}return null}function Ng(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ls(n){return["html","body","#document"].includes(Gs(n))}function $n(n){return Mn(n).getComputedStyle(n)}function nf(n){return Yn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ui(n){if(Gs(n)==="html")return n;const e=n.assignedSlot||n.parentNode||$m(n)&&n.host||mr(n);return $m(e)?e.host:e}function pb(n){const e=ui(n);return Ls(e)?n.ownerDocument?n.ownerDocument.body:n.body:cr(e)&&ml(e)?e:pb(e)}function Ba(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=pb(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=Mn(i);if(s){const o=yh(a);return e.concat(a,a.visualViewport||[],ml(i)?i:[],o&&t?Ba(o):[])}return e.concat(i,Ba(i,[],t))}function yh(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function vb(n){const e=$n(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=cr(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,o=pc(t)!==s||pc(r)!==a;return o&&(t=s,r=a),{width:t,height:r,$:o}}function Fg(n){return Yn(n)?n:n.contextElement}function gs(n){const e=Fg(n);if(!cr(e))return or(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=vb(e);let a=(s?pc(t.width):t.width)/r,o=(s?pc(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Ek=or(0);function yb(n){const e=Mn(n);return!Ng()||!e.visualViewport?Ek:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ik(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Mn(n)?!1:e}function Ui(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=Fg(n);let a=or(1);e&&(r?Yn(r)&&(a=gs(r)):a=gs(n));const o=Ik(s,t,r)?yb(s):or(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const h=Mn(s),f=r&&Yn(r)?Mn(r):r;let m=h,p=yh(m);for(;p&&r&&f!==m;){const v=gs(p),y=p.getBoundingClientRect(),_=$n(p),w=y.left+(p.clientLeft+parseFloat(_.paddingLeft))*v.x,x=y.top+(p.clientTop+parseFloat(_.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=w,c+=x,m=Mn(p),p=yh(m)}}return yc({width:u,height:d,x:l,y:c})}function Lg(n,e){const t=nf(n).scrollLeft;return e?e.left+t:Ui(mr(n)).left+t}function bb(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Lg(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Rk(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=mr(r),o=e?tf(e.floating):!1;if(r===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},c=or(1);const u=or(0),d=cr(r);if((d||!d&&!s)&&((Gs(r)!=="body"||ml(a))&&(l=nf(r)),cr(r))){const f=Ui(r);c=gs(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=a&&!d&&!s?bb(a,l,!0):or(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:t.y*c.y-l.scrollTop*c.y+u.y+h.y}}function Nk(n){return Array.from(n.getClientRects())}function Fk(n){const e=mr(n),t=nf(n),r=n.ownerDocument.body,i=kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+Lg(n);const o=-t.scrollTop;return $n(r).direction==="rtl"&&(a+=kn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Lk(n,e){const t=Mn(n),r=mr(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=Ng();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function jk(n,e){const t=Ui(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=cr(n)?gs(n):or(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function Gm(n,e,t){let r;if(e==="viewport")r=Lk(n,t);else if(e==="document")r=Fk(mr(n));else if(Yn(e))r=jk(e,t);else{const i=yb(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yc(r)}function _b(n,e){const t=ui(n);return t===e||!Yn(t)||Ls(t)?!1:$n(t).position==="fixed"||_b(t,e)}function Bk(n,e){const t=e.get(n);if(t)return t;let r=Ba(n,[],!1).filter(o=>Yn(o)&&Gs(o)!=="body"),i=null;const s=$n(n).position==="fixed";let a=s?ui(n):n;for(;Yn(a)&&!Ls(a);){const o=$n(a),l=Rg(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ml(a)&&!l&&_b(n,a))?r=r.filter(u=>u!==a):i=o,a=ui(a)}return e.set(n,r),r}function zk(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?tf(e)?[]:Bk(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((c,u)=>{const d=Gm(e,u,i);return c.top=kn(d.top,c.top),c.right=li(d.right,c.right),c.bottom=li(d.bottom,c.bottom),c.left=kn(d.left,c.left),c},Gm(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Vk(n){const{width:e,height:t}=vb(n);return{width:e,height:t}}function Uk(n,e,t){const r=cr(e),i=mr(e),s=t==="fixed",a=Ui(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=or(0);if(r||!r&&!s)if((Gs(e)!=="body"||ml(i))&&(o=nf(e)),r){const h=Ui(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=Lg(i));const c=i&&!r&&!s?bb(i,o):or(0),u=a.left+o.scrollLeft-l.x-c.x,d=a.top+o.scrollTop-l.y-c.y;return{x:u,y:d,width:a.width,height:a.height}}function Rf(n){return $n(n).position==="static"}function Km(n,e){if(!cr(n)||$n(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return mr(n)===t&&(t=t.ownerDocument.body),t}function xb(n,e){const t=Mn(n);if(tf(n))return t;if(!cr(n)){let i=ui(n);for(;i&&!Ls(i);){if(Yn(i)&&!Rf(i))return i;i=ui(i)}return t}let r=Km(n,e);for(;r&&Ck(r)&&Rf(r);)r=Km(r,e);return r&&Ls(r)&&Rf(r)&&!Rg(r)?t:r||Dk(n)||t}const Wk=async function(n){const e=this.getOffsetParent||xb,t=this.getDimensions,r=await t(n.floating);return{reference:Uk(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Hk(n){return $n(n).direction==="rtl"}const Zk={convertOffsetParentRelativeRectToViewportRelativeRect:Rk,getDocumentElement:mr,getClippingRect:zk,getOffsetParent:xb,getElementRects:Wk,getClientRects:Nk,getDimensions:Vk,getScale:gs,isElement:Yn,isRTL:Hk};function wb(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Yk(n,e){let t=null,r;const i=mr(n);function s(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||e(),!h||!f)return;const m=Al(d),p=Al(i.clientWidth-(u+h)),v=Al(i.clientHeight-(d+f)),y=Al(u),w={rootMargin:-m+"px "+-p+"px "+-v+"px "+-y+"px",threshold:kn(0,li(1,l))||1};let x=!0;function k(A){const C=A[0].intersectionRatio;if(C!==l){if(!x)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!wb(c,n.getBoundingClientRect())&&a(),x=!1}try{t=new IntersectionObserver(k,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(k,w)}t.observe(n)}return a(!0),s}function bh(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Fg(n),u=i||s?[...c?Ba(c):[],...Ba(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",t,{passive:!0}),s&&y.addEventListener("resize",t)});const d=c&&o?Yk(c,t):null;let h=-1,f=null;a&&(f=new ResizeObserver(y=>{let[_]=y;_&&_.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let m,p=l?Ui(n):null;l&&v();function v(){const y=Ui(n);p&&!wb(p,y)&&t(),p=y,m=requestAnimationFrame(v)}return t(),()=>{var y;u.forEach(_=>{i&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const Sb=Pk,kb=Ak,Tb=Sk,$k=Ok,Gk=kk,Pb=wk,Kk=Mk,Ab=(n,e,t)=>{const r=new Map,i={platform:Zk,...t},s={...i.platform,_c:r};return xk(n,e,{...i,platform:s})};function ea(n){return typeof n=="function"?n():n}function Mb(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function qm(n,e){const t=Mb(n);return Math.round(e*t)/t}function js(n){return{[`--bits-${n}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`--bits-${n}-content-available-width`]:"var(--bits-floating-available-width)",[`--bits-${n}-content-available-height`]:"var(--bits-floating-available-height)",[`--bits-${n}-anchor-width`]:"var(--bits-floating-anchor-width)",[`--bits-${n}-anchor-height`]:"var(--bits-floating-anchor-height)"}}function qk(n){const e=n.whileElementsMounted,t=O(()=>ea(n.open)??!0),r=O(()=>ea(n.middleware)),i=O(()=>ea(n.transform)??!0),s=O(()=>ea(n.placement)??"bottom"),a=O(()=>ea(n.strategy)??"absolute"),o=n.reference;let l=ve(0),c=ve(0);const u=V(null);let d=ve(Kt(g(a))),h=ve(Kt(g(s))),f=ve(Kt({})),m=ve(!1);const p=O(()=>{const k={position:g(d),left:"0",top:"0"};if(!u.current)return k;const A=qm(u.current,g(l)),C=qm(u.current,g(c));return g(i)?{...k,transform:`translate(${A}px, ${C}px)`,...Mb(u.current)>=1.5&&{willChange:"transform"}}:{position:g(d),left:`${A}px`,top:`${C}px`}});let v;function y(){o.current===null||u.current===null||Ab(o.current,u.current,{middleware:g(r),placement:g(s),strategy:g(a)}).then(k=>{J(l,k.x,!0),J(c,k.y,!0),J(d,k.strategy,!0),J(h,k.placement,!0),J(f,k.middlewareData,!0),J(m,!0)})}function _(){typeof v=="function"&&(v(),v=void 0)}function w(){if(_(),e===void 0){y();return}o.current===null||u.current===null||(v=e(o.current,u.current,y))}function x(){g(t)||J(m,!1)}return Qe(y),Qe(w),Qe(x),Qe(()=>_),{floating:u,reference:o,get strategy(){return g(d)},get placement(){return g(h)},get middlewareData(){return g(f)},get isPositioned(){return g(m)},get floatingStyles(){return g(p)},get update(){return y}}}const Xk={top:"bottom",right:"left",bottom:"top",left:"right"};class Jk{constructor(){N(this,"anchorNode",V(null));N(this,"customAnchorNode",V(null));N(this,"triggerNode",V(null));Qe(()=>{this.customAnchorNode.current?typeof this.customAnchorNode.current=="string"?this.anchorNode.current=document.querySelector(this.customAnchorNode.current):this.anchorNode.current=this.customAnchorNode.current:this.anchorNode.current=this.triggerNode.current})}}var ho,Du,go,Eu,mo,Iu,po,Ru,Nu,vo,yo,bo,_o,Fu,Lu,ju,Bu,zu,Vu,xo,Uu,Wu,Hu,Zu;class Qk{constructor(e,t){N(this,"opts");N(this,"root");N(this,"contentRef",V(null));N(this,"wrapperRef",V(null));N(this,"arrowRef",V(null));N(this,"arrowId",V(Ue()));z(this,ho,O(()=>{if(typeof this.opts.style=="string")return Tx(this.opts.style);if(!this.opts.style)return{}}));z(this,Du);z(this,go,new Iw(()=>this.arrowRef.current??void 0));z(this,Eu,O(()=>{var e;return((e=P(this,go))==null?void 0:e.width)??0}));z(this,mo,O(()=>{var e;return((e=P(this,go))==null?void 0:e.height)??0}));z(this,Iu,O(()=>{var e;return((e=this.opts.side)==null?void 0:e.current)+(this.opts.align.current!=="center"?`-${this.opts.align.current}`:"")}));z(this,po,O(()=>Array.isArray(this.opts.collisionBoundary.current)?this.opts.collisionBoundary.current:[this.opts.collisionBoundary.current]));z(this,Ru,O(()=>g(P(this,po)).length>0));z(this,Nu,O(()=>({padding:this.opts.collisionPadding.current,boundary:g(P(this,po)).filter(Ix),altBoundary:this.hasExplicitBoundaries})));z(this,vo,ve(void 0));z(this,yo,ve(void 0));z(this,bo,ve(void 0));z(this,_o,ve(void 0));z(this,Fu,O(()=>[Sb({mainAxis:this.opts.sideOffset.current+g(P(this,mo)),alignmentAxis:this.opts.alignOffset.current}),this.opts.avoidCollisions.current&&kb({mainAxis:!0,crossAxis:!1,limiter:this.opts.sticky.current==="partial"?Kk():void 0,...this.detectOverflowOptions}),this.opts.avoidCollisions.current&&Tb({...this.detectOverflowOptions}),$k({...this.detectOverflowOptions,apply:({rects:e,availableWidth:t,availableHeight:r})=>{const{width:i,height:s}=e.reference;J(P(this,vo),t,!0),J(P(this,yo),r,!0),J(P(this,bo),i,!0),J(P(this,_o),s,!0)}}),this.arrowRef.current&&Pb({element:this.arrowRef.current,padding:this.opts.arrowPadding.current}),sT({arrowWidth:g(P(this,Eu)),arrowHeight:g(P(this,mo))}),this.opts.hideWhenDetached.current&&Gk({strategy:"referenceHidden",...this.detectOverflowOptions})].filter(Boolean)));N(this,"floating");z(this,Lu,O(()=>aT(this.floating.placement)));z(this,ju,O(()=>oT(this.floating.placement)));z(this,Bu,O(()=>{var e;return((e=this.floating.middlewareData.arrow)==null?void 0:e.x)??0}));z(this,zu,O(()=>{var e;return((e=this.floating.middlewareData.arrow)==null?void 0:e.y)??0}));z(this,Vu,O(()=>{var e;return((e=this.floating.middlewareData.arrow)==null?void 0:e.centerOffset)!==0}));z(this,xo,ve());z(this,Uu,O(()=>Xk[this.placedSide]));z(this,Wu,O(()=>{var e,t,r;return{id:this.opts.wrapperId.current,"data-bits-floating-content-wrapper":"",style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${(e=this.floating.middlewareData.transformOrigin)==null?void 0:e.x} ${(t=this.floating.middlewareData.transformOrigin)==null?void 0:t.y}`,"--bits-floating-available-width":`${g(P(this,vo))}px`,"--bits-floating-available-height":`${g(P(this,yo))}px`,"--bits-floating-anchor-width":`${g(P(this,bo))}px`,"--bits-floating-anchor-height":`${g(P(this,_o))}px`,...((r=this.floating.middlewareData.hide)==null?void 0:r.referenceHidden)&&{visibility:"hidden","pointer-events":"none"},...g(P(this,ho))},dir:this.opts.dir.current}}));z(this,Hu,O(()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:yy({...g(P(this,ho))})})));z(this,Zu,O(()=>({position:"absolute",left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[this.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[this.placedSide],visibility:this.cannotCenterArrow?"hidden":void 0})));this.opts=e,this.root=t,e.customAnchor&&(this.root.customAnchorNode.current=e.customAnchor.current),Ht(()=>e.customAnchor.current,r=>{this.root.customAnchorNode.current=r}),He({id:this.opts.wrapperId,ref:this.wrapperRef,deps:()=>this.opts.enabled.current}),He({id:this.opts.id,ref:this.contentRef,deps:()=>this.opts.enabled.current}),this.floating=qk({strategy:()=>this.opts.strategy.current,placement:()=>g(P(this,Iu)),middleware:()=>this.middleware,reference:this.root.anchorNode,whileElementsMounted:(...r)=>{var s;return bh(...r,{animationFrame:((s=P(this,Du))==null?void 0:s.current)==="always"})},open:()=>this.opts.enabled.current}),Qe(()=>{var r;this.floating.isPositioned&&((r=this.opts.onPlaced)==null||r.current())}),Ht(()=>this.contentRef.current,r=>{r&&(this.contentZIndex=window.getComputedStyle(r).zIndex)}),Qe(()=>{this.floating.floating.current=this.wrapperRef.current})}get hasExplicitBoundaries(){return g(P(this,Ru))}get detectOverflowOptions(){return g(P(this,Nu))}get middleware(){return g(P(this,Fu))}get placedSide(){return g(P(this,Lu))}get placedAlign(){return g(P(this,ju))}get arrowX(){return g(P(this,Bu))}get arrowY(){return g(P(this,zu))}get cannotCenterArrow(){return g(P(this,Vu))}get contentZIndex(){return g(P(this,xo))}set contentZIndex(e){J(P(this,xo),e,!0)}get arrowBaseSide(){return g(P(this,Uu))}get wrapperProps(){return g(P(this,Wu))}get props(){return g(P(this,Hu))}get arrowStyle(){return g(P(this,Zu))}}ho=new WeakMap,Du=new WeakMap,go=new WeakMap,Eu=new WeakMap,mo=new WeakMap,Iu=new WeakMap,po=new WeakMap,Ru=new WeakMap,Nu=new WeakMap,vo=new WeakMap,yo=new WeakMap,bo=new WeakMap,_o=new WeakMap,Fu=new WeakMap,Lu=new WeakMap,ju=new WeakMap,Bu=new WeakMap,zu=new WeakMap,Vu=new WeakMap,xo=new WeakMap,Uu=new WeakMap,Wu=new WeakMap,Hu=new WeakMap,Zu=new WeakMap;class eT{constructor(e,t){N(this,"opts");N(this,"root");N(this,"ref",V(null));this.opts=e,this.root=t,e.virtualEl&&e.virtualEl.current?t.triggerNode=V.from(e.virtualEl.current):He({id:e.id,ref:this.ref,onRefChange:r=>{t.triggerNode.current=r}})}}const jg=new fn("Floating.Root"),tT=new fn("Floating.Content");function nT(){return jg.set(new Jk)}function rT(n){return tT.set(new Qk(n,jg.get()))}function iT(n){return new eT(n,jg.get())}function sT(n){return{name:"transformOrigin",options:n,fn(e){var v,y,_;const{placement:t,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[c,u]=Bg(t),d={start:"0%",center:"50%",end:"100%"}[u],h=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,f=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let m="",p="";return c==="bottom"?(m=a?d:`${h}px`,p=`${-l}px`):c==="top"?(m=a?d:`${h}px`,p=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=a?d:`${f}px`):c==="left"&&(m=`${r.floating.width+l}px`,p=a?d:`${f}px`),{data:{x:m,y:p}}}}}function Bg(n){const[e,t="center"]=n.split("-");return[e,t]}function aT(n){return Bg(n)[0]}function oT(n){return Bg(n)[1]}function zg(n,e){te(e,!0),nT();var t=I(),r=T(t);ae(r,()=>e.children??Ae),b(n,t),ne()}function Ob(n,e=1e4,t=_t){let r=null,i=ve(Kt(n));function s(){return window.setTimeout(()=>{J(i,n,!0),t(n)},e)}return Qe(()=>()=>{r&&clearTimeout(r)}),V.with(()=>g(i),a=>{J(i,a,!0),t(a),r&&clearTimeout(r),r=s()})}function lT(n){const e=Ob("",1e3),t=a=>a.focus(),r=()=>document.activeElement;function i(a,o){var f;if(!o.length)return;e.current=e.current+a;const l=r(),c=((f=o.find(m=>m===l))==null?void 0:f.textContent)??"",u=o.map(m=>m.textContent??""),d=fb(u,e.current,c),h=o.find(m=>m.textContent===d);return h&&t(h),h}function s(){e.current=""}return{search:e,handleTypeaheadSearch:i,resetTypeahead:s}}function Vg(n,e){te(e,!0),iT({id:V.with(()=>e.id),virtualEl:V.with(()=>e.virtualEl)});var t=I(),r=T(t);ae(r,()=>e.children??Ae),b(n,t),ne()}function cT(n,e){te(e,!0);let t=S(e,"side",3,"bottom"),r=S(e,"sideOffset",3,0),i=S(e,"align",3,"center"),s=S(e,"alignOffset",3,0),a=S(e,"arrowPadding",3,0),o=S(e,"avoidCollisions",3,!0),l=S(e,"collisionBoundary",19,()=>[]),c=S(e,"collisionPadding",3,0),u=S(e,"hideWhenDetached",3,!1),d=S(e,"onPlaced",3,()=>{}),h=S(e,"sticky",3,"partial"),f=S(e,"updatePositionStrategy",3,"optimized"),m=S(e,"strategy",3,"fixed"),p=S(e,"dir",3,"ltr"),v=S(e,"style",19,()=>({})),y=S(e,"wrapperId",19,Ue),_=S(e,"customAnchor",3,null);const w=rT({side:V.with(()=>t()),sideOffset:V.with(()=>r()),align:V.with(()=>i()),alignOffset:V.with(()=>s()),id:V.with(()=>e.id),arrowPadding:V.with(()=>a()),avoidCollisions:V.with(()=>o()),collisionBoundary:V.with(()=>l()),collisionPadding:V.with(()=>c()),hideWhenDetached:V.with(()=>u()),onPlaced:V.with(()=>d()),sticky:V.with(()=>h()),updatePositionStrategy:V.with(()=>f()),strategy:V.with(()=>m()),dir:V.with(()=>p()),style:V.with(()=>v()),enabled:V.with(()=>e.enabled),wrapperId:V.with(()=>y()),customAnchor:V.with(()=>_())}),x=O(()=>ze(w.wrapperProps,{style:{pointerEvents:"auto"}}));var k=I(),A=T(k);ae(A,()=>e.content??Ae,()=>({props:w.props,wrapperProps:g(x)})),b(n,k),ne()}function uT(n,e){te(e,!0),yi(()=>{var i;(i=e.onPlaced)==null||i.call(e)});var t=I(),r=T(t);ae(r,()=>e.content??Ae,()=>({props:{},wrapperProps:{}})),b(n,t),ne()}const dT="data-separator-root";var Yu;class fT{constructor(e){N(this,"opts");z(this,Yu,O(()=>({id:this.opts.id.current,role:this.opts.decorative.current?"none":"separator","aria-orientation":xg(this.opts.orientation.current),"aria-hidden":Ey(this.opts.decorative.current),"data-orientation":qn(this.opts.orientation.current),[dT]:""})));this.opts=e,He(e)}get props(){return g(P(this,Yu))}}Yu=new WeakMap;function hT(n){return new fT(n)}var gT=$("<div><!></div>");function mT(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"decorative",3,!1),s=S(e,"orientation",3,"horizontal"),a=ye(e,["$$slots","$$events","$$legacy","id","ref","child","children","decorative","orientation"]);const o=hT({ref:V.with(()=>r(),f=>r(f)),id:V.with(()=>t()),decorative:V.with(()=>i()),orientation:V.with(()=>s())}),l=O(()=>ze(a,o.props));var c=I(),u=T(c);{var d=f=>{var m=I(),p=T(m);ae(p,()=>e.child,()=>({props:g(l)})),b(f,m)},h=f=>{var m=gT();let p;var v=ee(m);ae(v,()=>e.children??Ae),Q(m),de(()=>p=Oe(m,p,{...g(l)})),b(f,m)};pe(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ne()}function pT(n,e){let t=S(e,"isStatic",3,!1),r=ye(e,["$$slots","$$events","$$legacy","content","isStatic","onPlaced"]);var i=I(),s=T(i);{var a=l=>{uT(l,{get content(){return e.content},get onPlaced(){return e.onPlaced}})},o=l=>{cT(l,Te({get content(){return e.content},get onPlaced(){return e.onPlaced}},()=>r))};pe(s,l=>{t()?l(a):l(o,!1)})}b(n,i)}var vT=$("<!> <!>",1);function Cb(n,e){te(e,!0);let t=S(e,"interactOutsideBehavior",3,"close"),r=S(e,"trapFocus",3,!0),i=S(e,"isValidEvent",3,()=>!1),s=S(e,"customAnchor",3,null),a=S(e,"isStatic",3,!1),o=ye(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);pT(n,{get isStatic(){return a()},get id(){return e.id},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get enabled(){return e.enabled},content:(c,u)=>{let d=()=>u==null?void 0:u().props,h=()=>u==null?void 0:u().wrapperProps;var f=vT(),m=T(f);{var p=w=>{Om(w,{get preventScroll(){return e.preventScroll}})},v=(w,x)=>{{var k=A=>{Om(A,{get preventScroll(){return e.preventScroll}})};pe(w,A=>{e.forceMount||A(k)},x)}};pe(m,w=>{e.forceMount&&e.enabled?w(p):w(v,!1)})}var y=q(m,2);const _=O(()=>e.enabled&&r());Rx(y,{get id(){return e.id},get onOpenAutoFocus(){return e.onOpenAutoFocus},get onCloseAutoFocus(){return e.onCloseAutoFocus},get loop(){return e.loop},get trapFocus(){return g(_)},get forceMount(){return e.forceMount},focusScope:(x,k)=>{let A=()=>k==null?void 0:k().props;Nx(x,{get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get enabled(){return e.enabled},children:(C,E)=>{Fx(C,{get id(){return e.id},get onInteractOutside(){return e.onInteractOutside},get onFocusOutside(){return e.onFocusOutside},get interactOutsideBehavior(){return t()},get isValidEvent(){return i()},get enabled(){return e.enabled},children:(U,F)=>{let B=()=>F==null?void 0:F().props;Lx(U,{get id(){return e.id},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get enabled(){return e.enabled},children:(K,Y)=>{var D=I(),L=T(D),W=vt(()=>({props:ze(o,d(),B(),A(),{style:{pointerEvents:"auto"}}),wrapperProps:h()}));ae(L,()=>e.popper??Ae,()=>g(W)),b(K,D)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{focusScope:!0}}),b(c,f)},$$slots:{content:!0}}),ne()}function Ug(n,e){let t=S(e,"interactOutsideBehavior",3,"close"),r=S(e,"trapFocus",3,!0),i=S(e,"isValidEvent",3,()=>!1),s=S(e,"customAnchor",3,null),a=S(e,"isStatic",3,!1),o=ye(e,["$$slots","$$events","$$legacy","popper","present","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic"]);Oy(n,Te({get id(){return e.id},get present(){return e.present}},()=>o,{presence:c=>{Cb(c,Te({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get isStatic(){return a()},get enabled(){return e.present},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return t()},get loop(){return e.loop},get trapFocus(){return r()},get isValidEvent(){return i()},get onFocusOutside(){return e.onFocusOutside},forceMount:!1},()=>o))},$$slots:{presence:!0}}))}function Wg(n,e){let t=S(e,"interactOutsideBehavior",3,"close"),r=S(e,"trapFocus",3,!0),i=S(e,"isValidEvent",3,()=>!1),s=S(e,"customAnchor",3,null),a=S(e,"isStatic",3,!1),o=ye(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);Cb(n,Te({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get isStatic(){return a()},get enabled(){return e.enabled},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return t()},get loop(){return e.loop},get trapFocus(){return r()},get isValidEvent(){return i()},get onFocusOutside(){return e.onFocusOutside}},()=>o,{forceMount:!0}))}function _h(n,e){te(e,!0);let t=S(e,"mounted",15,!1),r=S(e,"onMountedChange",3,_t);Rw(()=>(t(!0),r()(!0),()=>{t(!1),r()(!1)})),ne()}function yT(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function bT(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}const _T="data-command-root",xT="data-command-input",wT="data-command-empty",Db="data-command-group",Eb="data-command-group-items",Ib="data-command-group-heading",Rb="data-command-item",ST="data-command-input-label",Ei="data-value",ta=`[${Db}]`,Nf=`[${Eb}]`,kT=`[${Ib}]`,Nb=`[${Rb}]`,Ff=`${Nb}:not([aria-disabled="true"])`,Ks=new fn("Command.Root"),pl=new fn("Command.Group"),Xm={search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}};var _s,wo,So,ko,To,Po,Ao,Mo,Ze,Fb,ql,xh,Xl,da,Jl,as,Lb,wh,Sh,kh,$u;class TT{constructor(e){z(this,Ze);N(this,"opts");z(this,_s,!1);N(this,"sortAfterTick",!1);N(this,"sortAndFilterAfterTick",!1);N(this,"allItems",new Set);N(this,"allGroups",new Map);N(this,"allIds",new Map);z(this,wo,ve(0));z(this,So,ve(null));z(this,ko,ve(null));z(this,To,ve(null));z(this,Po,ve(Xm));z(this,Ao,ve(Kt(Xm)));z(this,Mo,ve(!1));z(this,$u,O(()=>({id:this.opts.id.current,role:"application",[_T]:"",tabindex:-1,onkeydown:this.onkeydown})));this.opts=e;const t={...this._commandState,value:this.opts.value.current??""};this._commandState=t,this.commandState=t,He(e),this.onkeydown=this.onkeydown.bind(this),Qe(()=>{this._commandState.search!==""&&(this.searchHasHadValue=!0)})}get key(){return g(P(this,wo))}set key(e){J(P(this,wo),e,!0)}get viewportNode(){return g(P(this,So))}set viewportNode(e){J(P(this,So),e,!0)}get inputNode(){return g(P(this,ko))}set inputNode(e){J(P(this,ko),e,!0)}get labelNode(){return g(P(this,To))}set labelNode(e){J(P(this,To),e,!0)}get commandState(){return g(P(this,Po))}set commandState(e){J(P(this,Po),e)}get _commandState(){return g(P(this,Ao))}set _commandState(e){J(P(this,Ao),e,!0)}get searchHasHadValue(){return g(P(this,Mo))}set searchHasHadValue(e){J(P(this,Mo),e,!0)}setState(e,t,r){Object.is(this._commandState[e],t)||(this._commandState[e]=t,e==="search"?(Le(this,Ze,Jl).call(this),Le(this,Ze,Xl).call(this),Le(this,Ze,da).call(this),Yt(()=>{Le(this,Ze,da).call(this)})):e==="value"&&(r||Le(this,Ze,Lb).call(this)),Le(this,Ze,ql).call(this))}setValue(e,t){e!==this.opts.value.current&&e===""&&Yt(()=>{this.key++}),this.setState("value",e,t),this.opts.value.current=e}getValidItems(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(Ff)).filter(r=>!!r):[]}updateSelectedToIndex(e){const r=this.getValidItems()[e];r&&this.setValue(r.getAttribute(Ei)??"")}updateSelectedByItem(e){const t=Le(this,Ze,as).call(this),r=this.getValidItems(),i=r.findIndex(a=>a===t);let s=r[i+e];this.opts.loop.current&&(s=i+e<0?r[r.length-1]:i+e===r.length?r[0]:r[i+e]),s&&this.setValue(s.getAttribute(Ei)??"")}updateSelectedByGroup(e){const t=Le(this,Ze,as).call(this);let r=t==null?void 0:t.closest(ta),i;for(;r&&!i;)r=e>0?yT(r,ta):bT(r,ta),i=r==null?void 0:r.querySelector(Ff);i?this.setValue(i.getAttribute(Ei)??""):this.updateSelectedByItem(e)}registerValue(e,t,r){var i;return t===((i=this.allIds.get(e))==null?void 0:i.value)?_t:(this.allIds.set(e,{value:t,keywords:r}),this._commandState.filtered.items.set(e,Le(this,Ze,xh).call(this,t,r)),this.sortAfterTick||(this.sortAfterTick=!0,Yt(()=>{Le(this,Ze,Xl).call(this),this.sortAfterTick=!1})),()=>{this.allIds.delete(e)})}registerItem(e,t){return this.allItems.add(e),t&&(this.allGroups.has(t)?this.allGroups.get(t).add(e):this.allGroups.set(t,new Set([e]))),this.sortAndFilterAfterTick||(this.sortAndFilterAfterTick=!0,Yt(()=>{Le(this,Ze,Jl).call(this),Le(this,Ze,Xl).call(this),this.sortAndFilterAfterTick=!1})),Le(this,Ze,ql).call(this),()=>{const r=Le(this,Ze,as).call(this);this.allIds.delete(e),this.allItems.delete(e),this.commandState.filtered.items.delete(e),Le(this,Ze,Jl).call(this),(r==null?void 0:r.getAttribute("id"))===e&&Le(this,Ze,da).call(this),Le(this,Ze,ql).call(this)}}registerGroup(e){return this.allGroups.has(e)||this.allGroups.set(e,new Set),()=>{this.allIds.delete(e),this.allGroups.delete(e)}}onkeydown(e){switch(e.key){case nw:case tw:{this.opts.vimBindings.current&&e.ctrlKey&&Le(this,Ze,Sh).call(this,e);break}case zi:Le(this,Ze,Sh).call(this,e);break;case ew:case Qx:{this.opts.vimBindings.current&&e.ctrlKey&&Le(this,Ze,kh).call(this,e);break}case Bi:Le(this,Ze,kh).call(this,e);break;case bg:e.preventDefault(),this.updateSelectedToIndex(0);break;case yg:e.preventDefault(),Le(this,Ze,wh).call(this);break;case qi:if(!e.isComposing&&e.keyCode!==229){e.preventDefault();const t=Le(this,Ze,as).call(this);t&&(t==null||t.click())}}}get props(){return g(P(this,$u))}}_s=new WeakMap,wo=new WeakMap,So=new WeakMap,ko=new WeakMap,To=new WeakMap,Po=new WeakMap,Ao=new WeakMap,Mo=new WeakMap,Ze=new WeakSet,Fb=function(){return Ra(this._commandState)},ql=function(){P(this,_s)||(gt(this,_s,!0),Yt(()=>{var r,i;gt(this,_s,!1);const e=Le(this,Ze,Fb).call(this);!Object.is(this.commandState,e)&&(this.commandState=e,(i=(r=this.opts.onStateChange)==null?void 0:r.current)==null||i.call(r,e))}))},xh=function(e,t){const r=this.opts.filter.current??zb;return e?r(e,this._commandState.search,t):0},Xl=function(){var a;if(!this._commandState.search||this.opts.shouldFilter.current===!1){this.commandState.value||Le(this,Ze,da).call(this);return}const e=this._commandState.filtered.items,t=[];for(const o of this._commandState.filtered.groups){const l=this.allGroups.get(o);let c=0;if(!l){t.push([o,c]);continue}for(const u of l){const d=e.get(u);c=Math.max(d??0,c)}t.push([o,c])}const r=this.viewportNode,i=this.getValidItems().sort((o,l)=>{const c=o.getAttribute("id"),u=l.getAttribute("id"),d=e.get(c)??0;return(e.get(u)??0)-d});for(const o of i){const l=o.closest(Nf);if(l){const c=o.parentElement===l?o:o.closest(`${Nf} > *`);c&&l.appendChild(c)}else{const c=o.parentElement===r?o:o.closest(`${Nf} > *`);c&&(r==null||r.appendChild(c))}}const s=t.sort((o,l)=>l[1]-o[1]);for(const o of s){const l=r==null?void 0:r.querySelector(`${ta}[${Ei}="${encodeURIComponent(o[0])}"]`);(a=l==null?void 0:l.parentElement)==null||a.appendChild(l)}},da=function(){Yt(()=>{const e=this.getValidItems().find(r=>r.getAttribute("aria-disabled")!=="true"),t=e==null?void 0:e.getAttribute(Ei);this.setValue(t||"")})},Jl=function(){var t,r;if(!this._commandState.search||this.opts.shouldFilter.current===!1){this._commandState.filtered.count=this.allItems.size;return}this._commandState.filtered.groups=new Set;let e=0;for(const i of this.allItems){const s=((t=this.allIds.get(i))==null?void 0:t.value)??"",a=((r=this.allIds.get(i))==null?void 0:r.keywords)??[],o=Le(this,Ze,xh).call(this,s,a);this._commandState.filtered.items.set(i,o),o>0&&e++}for(const[i,s]of this.allGroups)for(const a of s){const o=this._commandState.filtered.items.get(a);if(o&&o>0){this._commandState.filtered.groups.add(i);break}}this._commandState.filtered.count=e},as=function(){const e=this.opts.ref.current;if(!e)return;const t=e.querySelector(`${Ff}[data-selected]`);if(t)return t},Lb=function(){Yt(()=>{var i,s,a,o;const e=Le(this,Ze,as).call(this);if(!e)return;const t=(i=e.parentElement)==null?void 0:i.parentElement;if(!t)return;const r=jx(t);if(r&&((s=r.dataset)==null?void 0:s.value)===((a=e.dataset)==null?void 0:a.value)){const l=(o=e==null?void 0:e.closest(ta))==null?void 0:o.querySelector(kT);l==null||l.scrollIntoView({block:"nearest"});return}e.scrollIntoView({block:"nearest"})})},wh=function(){return this.updateSelectedToIndex(this.getValidItems().length-1)},Sh=function(e){e.preventDefault(),e.metaKey?Le(this,Ze,wh).call(this):e.altKey?this.updateSelectedByGroup(1):this.updateSelectedByItem(1)},kh=function(e){e.preventDefault(),e.metaKey?this.updateSelectedToIndex(0):e.altKey?this.updateSelectedByGroup(-1):this.updateSelectedByItem(-1)},$u=new WeakMap;var Oo,Gu,Ku;class PT{constructor(e,t){N(this,"opts");N(this,"root");z(this,Oo,!0);z(this,Gu,O(()=>this.root._commandState.filtered.count===0&&P(this,Oo)===!1&&this.root.searchHasHadValue||this.opts.forceMount.current));z(this,Ku,O(()=>({id:this.opts.id.current,role:"presentation",[wT]:""})));this.opts=e,this.root=t,vy(()=>{gt(this,Oo,!1)}),He({...e,deps:()=>this.shouldRender})}get shouldRender(){return g(P(this,Gu))}get props(){return g(P(this,Ku))}}Oo=new WeakMap,Gu=new WeakMap,Ku=new WeakMap;var Co,qu,Do,Xu;class AT{constructor(e,t){N(this,"opts");N(this,"root");z(this,Co,ve(null));z(this,qu,O(()=>this.opts.forceMount.current||this.root.opts.shouldFilter.current===!1||!this.root.commandState.search?!0:this.root.commandState.filtered.groups.has(this.opts.id.current)));z(this,Do,ve(""));z(this,Xu,O(()=>({id:this.opts.id.current,role:"presentation",hidden:this.shouldRender?void 0:!0,"data-value":this.trueValue,[Db]:""})));this.opts=e,this.root=t,this.trueValue=e.value.current,He({...e,deps:()=>this.shouldRender}),Ht(()=>this.opts.id.current,()=>this.root.registerGroup(this.opts.id.current)),Qe(()=>{var r;if(this.opts.value.current)return this.trueValue=this.opts.value.current,this.root.registerValue(this.opts.id.current,this.opts.value.current);if(this.headingNode&&this.headingNode.textContent)return this.trueValue=this.headingNode.textContent.trim().toLowerCase(),this.root.registerValue(this.opts.id.current,this.trueValue);if((r=this.opts.ref.current)!=null&&r.textContent)return this.trueValue=this.opts.ref.current.textContent.trim().toLowerCase(),this.root.registerValue(this.opts.id.current,this.trueValue)})}get headingNode(){return g(P(this,Co))}set headingNode(e){J(P(this,Co),e,!0)}get shouldRender(){return g(P(this,qu))}get trueValue(){return g(P(this,Do))}set trueValue(e){J(P(this,Do),e,!0)}get props(){return g(P(this,Xu))}}Co=new WeakMap,qu=new WeakMap,Do=new WeakMap,Xu=new WeakMap;var Ju;class MT{constructor(e,t){N(this,"opts");N(this,"group");z(this,Ju,O(()=>({id:this.opts.id.current,[Ib]:""})));this.opts=e,this.group=t,He({...e,onRefChange:r=>{this.group.headingNode=r}})}get props(){return g(P(this,Ju))}}Ju=new WeakMap;var Qu;class OT{constructor(e,t){N(this,"opts");N(this,"group");z(this,Qu,O(()=>{var e;return{id:this.opts.id.current,role:"group",[Eb]:"","aria-labelledby":((e=this.group.headingNode)==null?void 0:e.id)??void 0}}));this.opts=e,this.group=t,He(e)}get props(){return g(P(this,Qu))}}Qu=new WeakMap;var ed,td;class CT{constructor(e,t){N(this,"opts");N(this,"root");z(this,ed,O(()=>{var t;const e=(t=this.root.viewportNode)==null?void 0:t.querySelector(`${Nb}[${Ei}="${encodeURIComponent(this.root.opts.value.current)}"]`);if(e)return(e==null?void 0:e.getAttribute("id"))??void 0}));z(this,td,O(()=>{var e,t;return{id:this.opts.id.current,type:"text",[xT]:"",autocomplete:"off",autocorrect:"off",spellcheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":Kd(!0),"aria-controls":((e=this.root.viewportNode)==null?void 0:e.id)??void 0,"aria-labelledby":((t=this.root.labelNode)==null?void 0:t.id)??void 0,"aria-activedescendant":g(P(this,ed))}}));this.opts=e,this.root=t,He({...e,onRefChange:r=>{this.root.inputNode=r}}),Ht(()=>this.opts.ref.current,()=>{const r=this.opts.ref.current;r&&this.opts.autofocus.current&&Cy(10,()=>r.focus())}),Ht(()=>this.opts.value.current,()=>{this.root.commandState.search!==this.opts.value.current&&this.root.setState("search",this.opts.value.current)})}get props(){return g(P(this,td))}}ed=new WeakMap,td=new WeakMap;var Ni,nd,Eo,rd,id,Gi,jb,Th,sd;class DT{constructor(e,t){z(this,Gi);N(this,"opts");N(this,"root");z(this,Ni,null);z(this,nd,O(()=>{var e;return this.opts.forceMount.current||((e=P(this,Ni))==null?void 0:e.opts.forceMount.current)===!0}));z(this,Eo,ve(""));z(this,rd,O(()=>{if(this.opts.ref.current,g(P(this,nd))||this.root.opts.shouldFilter.current===!1||!this.root.commandState.search)return!0;const e=this.root.commandState.filtered.items.get(this.opts.id.current);return e===void 0?!1:e>0}));z(this,id,O(()=>this.root.opts.value.current===this.trueValue&&this.trueValue!==""));z(this,sd,O(()=>({id:this.opts.id.current,"aria-disabled":bi(this.opts.disabled.current),"aria-selected":_g(this.isSelected),"data-disabled":At(this.opts.disabled.current),"data-selected":Iy(this.isSelected),"data-value":this.trueValue,[Rb]:"",role:"option",onpointermove:this.onpointermove,onclick:this.onclick})));this.opts=e,this.root=t,gt(this,Ni,pl.getOr(null)),this.trueValue=e.value.current,He({...e,deps:()=>!!this.root.commandState.search}),Ht([()=>this.opts.id.current,()=>{var r;return(r=P(this,Ni))==null?void 0:r.opts.id.current},()=>this.opts.forceMount.current,()=>this.opts.ref.current],()=>{var r;if(!this.opts.forceMount.current)return this.root.registerItem(this.opts.id.current,(r=P(this,Ni))==null?void 0:r.opts.id.current)}),Ht([()=>this.opts.value.current,()=>this.opts.ref.current],()=>{this.opts.ref.current&&(!this.opts.value.current&&this.opts.ref.current.textContent&&(this.trueValue=this.opts.ref.current.textContent.trim()),this.root.registerValue(this.opts.id.current,this.trueValue,e.keywords.current.map(r=>r.trim())),this.opts.ref.current.setAttribute(Ei,this.trueValue))}),this.onclick=this.onclick.bind(this),this.onpointermove=this.onpointermove.bind(this)}get trueValue(){return g(P(this,Eo))}set trueValue(e){J(P(this,Eo),e,!0)}get shouldRender(){return g(P(this,rd))}get isSelected(){return g(P(this,id))}onpointermove(e){this.opts.disabled.current||this.root.opts.disablePointerSelection.current||Le(this,Gi,Th).call(this)}onclick(e){this.opts.disabled.current||Le(this,Gi,jb).call(this)}get props(){return g(P(this,sd))}}Ni=new WeakMap,nd=new WeakMap,Eo=new WeakMap,rd=new WeakMap,id=new WeakMap,Gi=new WeakSet,jb=function(){var e;this.opts.disabled.current||(Le(this,Gi,Th).call(this),(e=this.opts.onSelect)==null||e.current())},Th=function(){this.opts.disabled.current||this.root.setValue(this.trueValue,!0)},sd=new WeakMap;var ad;class ET{constructor(e,t){N(this,"opts");N(this,"root");z(this,ad,O(()=>{var e;return{id:this.opts.id.current,[ST]:"",for:(e=this.opts.for)==null?void 0:e.current,style:Px}}));this.opts=e,this.root=t,He({...e,onRefChange:r=>{this.root.labelNode=r}})}get props(){return g(P(this,ad))}}ad=new WeakMap;function IT(n){return Ks.set(new TT(n))}function RT(n){return new PT(n,Ks.get())}function NT(n){const e=pl.getOr(null);return new DT({...n,group:e},Ks.get())}function FT(n){return pl.set(new AT(n,Ks.get()))}function LT(n){return new MT(n,pl.get())}function jT(n){return new OT(n,pl.get())}function BT(n){return new CT(n,Ks.get())}function zT(n){return new ET(n,Ks.get())}var VT=$("<label><!></label>");function UT(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children"]);const s=zT({id:V.with(()=>t()),ref:V.with(()=>r(),u=>r(u))}),a=O(()=>ze(i,s.props));var o=VT();let l;var c=ee(o);ae(c,()=>e.children??Ae),Q(o),de(()=>l=Oe(o,l,{...g(a)})),b(n,o),ne()}var WT=$("<!> <!>",1),HT=$("<div><!> <!></div>");function ZT(n,e){te(e,!0);const t=R=>{UT(R,{children:(U,F)=>{De();var B=Ee();de(()=>Xe(B,d())),b(U,B)},$$slots:{default:!0}})};let r=S(e,"id",19,Ue),i=S(e,"ref",15,null),s=S(e,"value",15,""),a=S(e,"onValueChange",3,_t),o=S(e,"onStateChange",3,_t),l=S(e,"loop",3,!1),c=S(e,"shouldFilter",3,!0),u=S(e,"filter",3,zb),d=S(e,"label",3,""),h=S(e,"vimBindings",3,!0),f=S(e,"disablePointerSelection",3,!1),m=ye(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","onStateChange","loop","shouldFilter","filter","label","vimBindings","disablePointerSelection","children","child"]);const p=IT({id:V.with(()=>r()),ref:V.with(()=>i(),R=>i(R)),filter:V.with(()=>u()),shouldFilter:V.with(()=>c()),loop:V.with(()=>l()),value:V.with(()=>s(),R=>{s(R),a()(R)}),vimBindings:V.with(()=>h()),disablePointerSelection:V.with(()=>f()),onStateChange:V.with(()=>o())}),v=R=>p.updateSelectedToIndex(R),y=R=>p.updateSelectedByGroup(R),_=R=>p.updateSelectedByItem(R),w=()=>p.getValidItems(),x=O(()=>ze(m,p.props));var k=I(),A=T(k);{var C=R=>{var U=WT(),F=T(U);t(F);var B=q(F,2);ae(B,()=>e.child,()=>({props:g(x)})),b(R,U)},E=R=>{var U=HT();let F;var B=ee(U);t(B);var K=q(B,2);ae(K,()=>e.children??Ae),Q(U),de(()=>F=Oe(U,F,{...g(x)})),b(R,U)};pe(A,R=>{e.child?R(C):R(E,!1)})}return b(n,k),ne({updateSelectedToIndex:v,updateSelectedByGroup:y,updateSelectedByItem:_,getValidItems:w})}var YT=$("<div><!></div>");function $T(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"forceMount",3,!1),s=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child","forceMount"]);const a=RT({id:V.with(()=>t()),ref:V.with(()=>r(),d=>r(d)),forceMount:V.with(()=>i())}),o=O(()=>ze(a.props,s));var l=I(),c=T(l);{var u=d=>{var h=I(),f=T(h);{var m=v=>{var y=I(),_=T(y);ae(_,()=>e.child,()=>({props:g(o)})),b(v,y)},p=v=>{var y=YT();let _;var w=ee(y);ae(w,()=>e.children??Ae),Q(y),de(()=>_=Oe(y,_,{...g(o)})),b(v,y)};pe(f,v=>{e.child?v(m):v(p,!1)})}b(d,h)};pe(c,d=>{a.shouldRender&&d(u)})}b(n,l),ne()}var GT=$("<div><!></div>");function KT(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"value",3,""),s=S(e,"forceMount",3,!1),a=ye(e,["$$slots","$$events","$$legacy","id","ref","value","forceMount","children","child"]);const o=FT({id:V.with(()=>t()),ref:V.with(()=>r(),f=>r(f)),forceMount:V.with(()=>s()),value:V.with(()=>i())}),l=O(()=>ze(a,o.props));var c=I(),u=T(c);{var d=f=>{var m=I(),p=T(m);ae(p,()=>e.child,()=>({props:g(l)})),b(f,m)},h=f=>{var m=GT();let p;var v=ee(m);ae(v,()=>e.children??Ae),Q(m),de(()=>p=Oe(m,p,{...g(l)})),b(f,m)};pe(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ne()}var qT=$("<div><!></div>");function XT(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=LT({id:V.with(()=>t()),ref:V.with(()=>r(),d=>r(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=qT();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var JT=$("<div><!></div>"),QT=$('<div style="display: contents;"><!></div>');function eP(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=jT({id:V.with(()=>t()),ref:V.with(()=>r(),d=>r(d))}),a=O(()=>ze(i,s.props));var o=QT(),l=ee(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=JT();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}Q(o),b(n,o),ne()}var tP=$("<input>");function nP(n,e){te(e,!0);let t=S(e,"value",15,""),r=S(e,"autofocus",3,!1),i=S(e,"id",19,Ue),s=S(e,"ref",15,null),a=ye(e,["$$slots","$$events","$$legacy","value","autofocus","id","ref","child"]);const o=BT({id:V.with(()=>i()),ref:V.with(()=>s(),f=>s(f)),value:V.with(()=>t(),f=>{t(f)}),autofocus:V.with(()=>r()??!1)}),l=O(()=>ze(a,o.props));var c=I(),u=T(c);{var d=f=>{var m=I(),p=T(m);ae(p,()=>e.child,()=>({props:g(l)})),b(f,m)},h=f=>{var m=tP();Da(m);let p;de(()=>p=Oe(m,p,{...g(l)})),fw(m,t),b(f,m)};pe(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ne()}var rP=$("<div><!></div>"),iP=$('<div style="display: contents;" data-item-wrapper=""><!></div>');function sP(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"value",3,""),s=S(e,"disabled",3,!1),a=S(e,"onSelect",3,_t),o=S(e,"forceMount",3,!1),l=S(e,"keywords",19,()=>[]),c=ye(e,["$$slots","$$events","$$legacy","id","ref","value","disabled","children","child","onSelect","forceMount","keywords"]);const u=NT({id:V.with(()=>t()),ref:V.with(()=>r(),m=>r(m)),value:V.with(()=>i()),disabled:V.with(()=>s()),onSelect:V.with(()=>a()),forceMount:V.with(()=>o()),keywords:V.with(()=>l())}),d=O(()=>ze(c,u.props));var h=I(),f=T(h);Bx(f,()=>u.root.key,m=>{var p=iP(),v=ee(p);{var y=_=>{var w=I(),x=T(w);{var k=C=>{var E=I(),R=T(E);ae(R,()=>e.child,()=>({props:g(d)})),b(C,E)},A=C=>{var E=rP();let R;var U=ee(E);ae(U,()=>e.children??Ae),Q(E),de(()=>R=Oe(E,R,{...g(d)})),b(C,E)};pe(x,C=>{e.child?C(k):C(A,!1)})}b(_,w)};pe(v,_=>{u.shouldRender&&_(y)})}Q(p),de(()=>ii(p,"data-value",u.trueValue)),b(m,p)}),b(n,h),ne()}const Jm=1,aP=.9,oP=.8,lP=.17,Lf=.1,jf=.999,cP=.9999,uP=.99,dP=/[\\/_+.#"@[({&]/,fP=/[\\/_+.#"@[({&]/g,hP=/[\s-]/,Bb=/[\s-]/g;function Ph(n,e,t,r,i,s,a){if(s===e.length)return i===n.length?Jm:uP;const o=`${i},${s}`;if(a[o]!==void 0)return a[o];const l=r.charAt(s);let c=t.indexOf(l,i),u=0,d,h,f,m;for(;c>=0;)d=Ph(n,e,t,r,c+1,s+1,a),d>u&&(c===i?d*=Jm:dP.test(n.charAt(c-1))?(d*=oP,f=n.slice(i,c-1).match(fP),f&&i>0&&(d*=jf**f.length)):hP.test(n.charAt(c-1))?(d*=aP,m=n.slice(i,c-1).match(Bb),m&&i>0&&(d*=jf**m.length)):(d*=lP,i>0&&(d*=jf**(c-i))),n.charAt(c)!==e.charAt(s)&&(d*=cP)),(d<Lf&&t.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&t.charAt(c-1)!==r.charAt(s))&&(h=Ph(n,e,t,r,c+1,s+2,a),h*Lf>d&&(d=h*Lf)),d>u&&(u=d),c=t.indexOf(l,c+1);return a[o]=u,u}function Qm(n){return n.toLowerCase().replace(Bb," ")}function zb(n,e,t){return n=t&&t.length>0?`${`${n} ${t==null?void 0:t.join(" ")}`}`:n,Ph(n,e,Qm(n),Qm(e),0,0,{})}const gP=[qi,Ki],mP=[zi,rw,bg],Vb=[Bi,iw,yg],pP=[...mP,...Vb];function us(n){return n.pointerType==="mouse"}function Ub(n){const e=O(()=>n.enabled()),t=Ob(!1,300,a=>{var o;g(e)&&((o=n.setIsPointerInTransit)==null||o.call(n,a))});let r=ve(null);function i(){J(r,null),t.current=!1}function s(a,o){const l=a.currentTarget;if(!Un(l))return;const c={x:a.clientX,y:a.clientY},u=vP(c,l.getBoundingClientRect()),d=yP(c,u),h=bP(o.getBoundingClientRect()),f=xP([...d,...h]);J(r,f,!0),t.current=!0}return Ht([n.triggerNode,n.contentNode,n.enabled],([a,o,l])=>{if(!a||!o||!l)return;const c=d=>{s(d,o)},u=d=>{s(d,a)};return by(Fi(a,"pointerleave",c),Fi(o,"pointerleave",u))}),Ht(()=>g(r),()=>Fi(document,"pointermove",o=>{var h,f;if(!g(r))return;const l=o.target;if(!Ea(l))return;const c={x:o.clientX,y:o.clientY},u=((h=n.triggerNode())==null?void 0:h.contains(l))||((f=n.contentNode())==null?void 0:f.contains(l)),d=!_P(c,g(r));u?i():d&&(i(),n.onPointerExit())})),{isPointerInTransit:t}}function vP(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yP(n,e,t=5){const r=t*1.5;switch(e){case"top":return[{x:n.x-t,y:n.y+t},{x:n.x,y:n.y-r},{x:n.x+t,y:n.y+t}];case"bottom":return[{x:n.x-t,y:n.y-t},{x:n.x,y:n.y+r},{x:n.x+t,y:n.y-t}];case"left":return[{x:n.x+t,y:n.y-t},{x:n.x-r,y:n.y},{x:n.x+t,y:n.y+t}];case"right":return[{x:n.x-t,y:n.y-t},{x:n.x+r,y:n.y},{x:n.x-t,y:n.y+t}]}}function bP(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function _P(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s].x,l=e[s].y,c=e[a].x,u=e[a].y;l>r!=u>r&&t<(c-o)*(r-l)/(u-l)+o&&(i=!i)}return i}function xP(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),wP(e)}function wP(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}function Sa(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function SP(n,e){if(!hg(n,Sa()))return kP(n,e);const t=zx(Dy(n).body,Sa());e==="prev"&&t.reverse();const r=t.indexOf(n);return r===-1?document.body:t.slice(r+1)[0]}function kP(n,e){if(!Vx(n,Sa()))return document.body;const t=Ux(Dy(n).body,Sa());e==="prev"&&t.reverse();const r=t.indexOf(n);return r===-1?document.body:t.slice(r+1).find(s=>hg(s,Sa()))??document.body}const Wb="data-context-menu-trigger",TP=new fn("Menu.Root"),Hg=new fn("Menu.Root | Menu.Sub"),Hb=new fn("Menu.Content"),PP=new Hx("bitsmenuopen",{bubbles:!1,cancelable:!0});var Io,Ro;class AP{constructor(e){N(this,"opts");N(this,"isUsingKeyboard",new Mh);z(this,Io,ve(!1));z(this,Ro,ve(!1));this.opts=e}get ignoreCloseAutoFocus(){return g(P(this,Io))}set ignoreCloseAutoFocus(e){J(P(this,Io),e,!0)}get isPointerInTransit(){return g(P(this,Ro))}set isPointerInTransit(e){J(P(this,Ro),e,!0)}getAttr(e){return`data-${this.opts.variant.current}-${e}`}}Io=new WeakMap,Ro=new WeakMap;var No,Fo;class MP{constructor(e,t,r){N(this,"opts");N(this,"root");N(this,"parentMenu");N(this,"contentId",V.with(()=>""));z(this,No,ve(null));z(this,Fo,ve(null));this.opts=e,this.root=t,this.parentMenu=r,r&&Ht(()=>r.opts.open.current,()=>{r.opts.open.current||(this.opts.open.current=!1)})}get contentNode(){return g(P(this,No))}set contentNode(e){J(P(this,No),e,!0)}get triggerNode(){return g(P(this,Fo))}set triggerNode(e){J(P(this,Fo),e,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}No=new WeakMap,Fo=new WeakMap;var Lo,jo,Bo,zo,Vo,ri,Zb,Ql,od,ld;class OP{constructor(e,t){z(this,ri);N(this,"opts");N(this,"parentMenu");z(this,Lo,ve(""));z(this,jo,0);z(this,Bo);N(this,"rovingFocusGroup");z(this,zo,ve(!1));z(this,Vo);N(this,"onCloseAutoFocus",e=>{this.opts.onCloseAutoFocus.current(e),!(e.defaultPrevented||P(this,Vo))&&this.parentMenu.triggerNode&&hg(this.parentMenu.triggerNode)&&this.parentMenu.triggerNode.focus()});N(this,"onOpenAutoFocus",e=>{if(e.defaultPrevented)return;e.preventDefault();const t=this.parentMenu.contentNode;t==null||t.focus()});z(this,od,O(()=>({open:this.parentMenu.opts.open.current})));z(this,ld,O(()=>({id:this.opts.id.current,role:"menu","aria-orientation":xg("vertical"),[this.parentMenu.root.getAttr("content")]:"","data-state":gr(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"}})));N(this,"popperProps",{onCloseAutoFocus:e=>this.onCloseAutoFocus(e)});this.opts=e,this.parentMenu=t,t.contentId=e.id,gt(this,Vo,e.isSub??!1),this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),He({...e,deps:()=>this.parentMenu.opts.open.current,onRefChange:r=>{this.parentMenu.contentNode!==r&&(this.parentMenu.contentNode=r)}}),Ub({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>{var r;return this.parentMenu.opts.open.current&&!!((r=this.parentMenu.triggerNode)!=null&&r.hasAttribute(this.parentMenu.root.getAttr("sub-trigger")))},onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:r=>{this.parentMenu.root.isPointerInTransit=r}}),gt(this,Bo,lT().handleTypeaheadSearch),this.rovingFocusGroup=qd({rootNodeId:this.parentMenu.contentId,candidateAttr:this.parentMenu.root.getAttr("item"),loop:this.opts.loop,orientation:V.with(()=>"vertical")}),Ht(()=>this.parentMenu.contentNode,r=>{if(!r)return;const i=()=>{Yt(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return PP.listen(r,i)}),Qe(()=>{this.parentMenu.opts.open.current||window.clearTimeout(P(this,jo))})}get search(){return g(P(this,Lo))}set search(e){J(P(this,Lo),e,!0)}get mounted(){return g(P(this,zo))}set mounted(e){J(P(this,zo),e,!0)}handleTabKeyDown(e){let t=this.parentMenu;for(;t.parentMenu!==null;)t=t.parentMenu;if(!t.triggerNode)return;e.preventDefault();const r=SP(t.triggerNode,e.shiftKey?"prev":"next");r?(this.parentMenu.root.ignoreCloseAutoFocus=!0,t.onClose(),Yt(()=>{r.focus(),Yt(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):document.body.focus()}onkeydown(e){var c,u;if(e.defaultPrevented)return;if(e.key===sw){this.handleTabKeyDown(e);return}const t=e.target,r=e.currentTarget;if(!Un(t)||!Un(r))return;const i=((c=t.closest(`[${this.parentMenu.root.getAttr("content")}]`))==null?void 0:c.id)===this.parentMenu.contentId.current,s=e.ctrlKey||e.altKey||e.metaKey,a=e.key.length===1;if(this.rovingFocusGroup.handleKeydown(t,e)||e.code==="Space")return;const l=Le(this,ri,Zb).call(this);i&&!s&&a&&P(this,Bo).call(this,e.key,l),((u=e.target)==null?void 0:u.id)===this.parentMenu.contentId.current&&pP.includes(e.key)&&(e.preventDefault(),Vb.includes(e.key)&&l.reverse(),Zx(l))}onblur(e){var t,r;Ea(e.currentTarget)&&Ea(e.target)&&((r=(t=e.currentTarget).contains)!=null&&r.call(t,e.target)||(window.clearTimeout(P(this,jo)),this.search=""))}onfocus(e){this.parentMenu.root.isUsingKeyboard.current&&Yt(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return Le(this,ri,Ql).call(this)}onItemLeave(e){if(e.currentTarget.hasAttribute(this.parentMenu.root.getAttr("sub-trigger"))||Le(this,ri,Ql).call(this)||this.parentMenu.root.isUsingKeyboard.current)return;const t=this.parentMenu.contentNode;t==null||t.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!Le(this,ri,Ql).call(this)}handleInteractOutside(e){var r;if(!Yx(e.target))return;const t=(r=this.parentMenu.triggerNode)==null?void 0:r.id;if(e.target.id===t){e.preventDefault();return}e.target.closest(`#${t}`)&&e.preventDefault()}get snippetProps(){return g(P(this,od))}get props(){return g(P(this,ld))}}Lo=new WeakMap,jo=new WeakMap,Bo=new WeakMap,zo=new WeakMap,Vo=new WeakMap,ri=new WeakSet,Zb=function(){const e=this.parentMenu.contentNode;return e?Array.from(e.querySelectorAll(`[${this.parentMenu.root.getAttr("item")}]:not([data-disabled])`)):[]},Ql=function(){return this.parentMenu.root.isPointerInTransit},od=new WeakMap,ld=new WeakMap;var xs,cd;class CP{constructor(e,t){N(this,"opts");N(this,"content");z(this,xs,ve(!1));z(this,cd,O(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":bi(this.opts.disabled.current),"data-disabled":At(this.opts.disabled.current),"data-highlighted":g(P(this,xs))?"":void 0,[this.content.parentMenu.root.getAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur})));this.opts=e,this.content=t,this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this),He({...e,deps:()=>this.content.mounted})}onpointermove(e){if(!e.defaultPrevented&&us(e))if(this.opts.disabled.current)this.content.onItemLeave(e);else{if(this.content.onItemEnter())return;const r=e.currentTarget;if(!Un(r))return;r.focus()}}onpointerleave(e){e.defaultPrevented||us(e)&&this.content.onItemLeave(e)}onfocus(e){Yt(()=>{e.defaultPrevented||this.opts.disabled.current||J(P(this,xs),!0)})}onblur(e){Yt(()=>{e.defaultPrevented||J(P(this,xs),!1)})}get props(){return g(P(this,cd))}}xs=new WeakMap,cd=new WeakMap;var Uo,ud,Yb,dd;class DP{constructor(e,t){z(this,ud);N(this,"opts");N(this,"item");z(this,Uo,!1);N(this,"root");z(this,dd,O(()=>ze(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown})));this.opts=e,this.item=t,this.root=t.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}onkeydown(e){const t=this.item.content.search!=="";if(!(this.item.opts.disabled.current||t&&e.key===Ki)&&gP.includes(e.key)){if(!Un(e.currentTarget))return;e.currentTarget.click(),e.preventDefault()}}onclick(e){this.item.opts.disabled.current||Le(this,ud,Yb).call(this)}onpointerup(e){var t;if(!e.defaultPrevented&&!P(this,Uo)){if(!Un(e.currentTarget))return;(t=e.currentTarget)==null||t.click()}}onpointerdown(e){gt(this,Uo,!0)}get props(){return g(P(this,dd))}}Uo=new WeakMap,ud=new WeakSet,Yb=function(){if(this.item.opts.disabled.current)return;const e=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});this.opts.onSelect.current(e),Yt(()=>{if(e.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()})},dd=new WeakMap;var ws,Ss,wn,Vr,Ah,fd;class EP{constructor(e,t){z(this,wn);N(this,"opts");N(this,"parentMenu");z(this,ws,ve(Kt({x:0,y:0})));N(this,"virtualElement",V({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...g(P(this,ws))})}));z(this,Ss,null);z(this,fd,O(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"data-disabled":At(this.opts.disabled.current),"data-state":gr(this.parentMenu.opts.open.current),[Wb]:"",tabindex:-1,onpointerdown:this.onpointerdown,onpointermove:this.onpointermove,onpointercancel:this.onpointercancel,onpointerup:this.onpointerup,oncontextmenu:this.oncontextmenu})));this.opts=e,this.parentMenu=t,this.oncontextmenu=this.oncontextmenu.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointermove=this.onpointermove.bind(this),this.onpointercancel=this.onpointercancel.bind(this),this.onpointerup=this.onpointerup.bind(this),He({...e,onRefChange:r=>{this.parentMenu.triggerNode=r},deps:()=>this.parentMenu.opts.open.current}),Ht(()=>g(P(this,ws)),r=>{this.virtualElement.current={getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...r})}}),Qe(()=>{this.opts.disabled.current&&Le(this,wn,Vr).call(this)}),_y(()=>Le(this,wn,Vr).call(this))}oncontextmenu(e){var t;this.opts.disabled.current||(Le(this,wn,Vr).call(this),Le(this,wn,Ah).call(this,e),e.preventDefault(),(t=this.parentMenu.contentNode)==null||t.focus())}onpointerdown(e){this.opts.disabled.current||us(e)||(Le(this,wn,Vr).call(this),gt(this,Ss,window.setTimeout(()=>Le(this,wn,Ah).call(this,e),700)))}onpointermove(e){this.opts.disabled.current||us(e)||Le(this,wn,Vr).call(this)}onpointercancel(e){this.opts.disabled.current||us(e)||Le(this,wn,Vr).call(this)}onpointerup(e){this.opts.disabled.current||us(e)||Le(this,wn,Vr).call(this)}get props(){return g(P(this,fd))}}ws=new WeakMap,Ss=new WeakMap,wn=new WeakSet,Vr=function(){P(this,Ss)!==null&&window.clearTimeout(P(this,Ss))},Ah=function(e){J(P(this,ws),{x:e.clientX,y:e.clientY},!0),this.parentMenu.onOpen()},fd=new WeakMap;function IP(n){const e=new AP(n);return Wx.set({get ignoreCloseAutoFocus(){return e.ignoreCloseAutoFocus}}),TP.set(e)}function RP(n,e){return Hg.set(new MP(e,n,null))}function NP(n){return new EP(n,Hg.get())}function FP(n){return Hb.set(new OP(n,Hg.get()))}function LP(n){const e=new CP(n,Hb.get());return new DP(n,e)}function jP(n,e){te(e,!0);let t=S(e,"open",15,!1),r=S(e,"dir",3,"ltr"),i=S(e,"onOpenChange",3,_t);const s=IP({variant:V.with(()=>"context-menu"),dir:V.with(()=>r()),onClose:()=>{var a;t(!1),(a=i())==null||a(!1)}});RP(s,{open:V.with(()=>t(),a=>{t(a),i()(a)})}),zg(n,{children:(a,o)=>{var l=I(),c=T(l);ae(c,()=>e.children??Ae),b(a,l)},$$slots:{default:!0}}),ne()}var BP=$("<div><!></div>");function zP(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=S(e,"disabled",3,!1),s=S(e,"onSelect",3,_t),a=S(e,"closeOnSelect",3,!0),o=ye(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","onSelect","closeOnSelect"]);const l=LP({id:V.with(()=>r()),disabled:V.with(()=>i()),onSelect:V.with(()=>s()),ref:V.with(()=>t(),m=>t(m)),closeOnSelect:V.with(()=>a())}),c=O(()=>ze(o,l.props));var u=I(),d=T(u);{var h=m=>{var p=I(),v=T(p);ae(v,()=>e.child,()=>({props:g(c)})),b(m,p)},f=m=>{var p=BP();let v;var y=ee(p);ae(y,()=>e.children??Ae),Q(p),de(()=>v=Oe(p,v,{...g(c)})),b(m,p)};pe(d,m=>{e.child?m(h):m(f,!1)})}b(n,u),ne()}var VP=$("<div><div><!></div></div>"),UP=$("<!> <!>",1),WP=$("<div><div><!></div></div>"),HP=$("<!> <!>",1);function ZP(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"loop",3,!0),s=S(e,"onInteractOutside",3,_t),a=S(e,"onCloseAutoFocus",3,_t),o=S(e,"onOpenAutoFocus",3,_t),l=S(e,"preventScroll",3,!0),c=S(e,"onEscapeKeydown",3,_t),u=S(e,"forceMount",3,!1),d=S(e,"trapFocus",3,!0),h=ye(e,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","preventScroll","onEscapeKeydown","forceMount","trapFocus"]);const f=FP({id:V.with(()=>t()),loop:V.with(()=>i()),ref:V.with(()=>r(),A=>r(A)),onCloseAutoFocus:V.with(()=>a())}),m=O(()=>ze(h,f.props));function p(A){s()(A),!A.defaultPrevented&&f.parentMenu.onClose()}function v(A){c()(A),!A.defaultPrevented&&f.parentMenu.onClose()}function y(A){if("button"in A&&A.button===2){const C=A.target;return C?C.closest(`[${Wb}]`)!==f.parentMenu.triggerNode:!1}return!1}var _=I(),w=T(_);{var x=A=>{Wg(A,Te(()=>g(m),()=>f.popperProps,{side:"right",sideOffset:2,align:"start",get enabled(){return f.parentMenu.opts.open.current},get preventScroll(){return l()},onInteractOutside:p,onEscapeKeydown:v,get onOpenAutoFocus(){return o()},isValidEvent:y,get trapFocus(){return d()},get loop(){return i()},get id(){return t()},popper:(E,R)=>{let U=()=>R==null?void 0:R().props,F=()=>R==null?void 0:R().wrapperProps;var B=UP();const K=O(()=>ze(U(),{style:js("context-menu")}));var Y=T(B);{var D=j=>{var H=I(),G=T(H),le=vt(()=>({props:g(K),wrapperProps:F(),...f.snippetProps}));ae(G,()=>e.child,()=>g(le)),b(j,H)},L=j=>{var H=VP();let G;var le=ee(H);let ie;var he=ee(le);ae(he,()=>e.children??Ae),Q(le),Q(H),de(()=>{G=Oe(H,G,{...F()}),ie=Oe(le,ie,{...g(K)})}),b(j,H)};pe(Y,j=>{e.child?j(D):j(L,!1)})}var W=q(Y,2);_h(W,{get mounted(){return f.mounted},set mounted(j){f.mounted=j}}),b(E,B)},$$slots:{popper:!0}}))},k=(A,C)=>{{var E=R=>{Ug(R,Te(()=>g(m),()=>f.popperProps,{side:"right",sideOffset:2,align:"start",get present(){return f.parentMenu.opts.open.current},get preventScroll(){return l()},onInteractOutside:p,onEscapeKeydown:v,get onOpenAutoFocus(){return o()},isValidEvent:y,get trapFocus(){return d()},get loop(){return i()},get id(){return t()},popper:(F,B)=>{let K=()=>B==null?void 0:B().props,Y=()=>B==null?void 0:B().wrapperProps;var D=HP();const L=O(()=>ze(K(),{style:js("context-menu")}));var W=T(D);{var j=le=>{var ie=I(),he=T(ie),_e=vt(()=>({props:g(L),wrapperProps:Y(),...f.snippetProps}));ae(he,()=>e.child,()=>g(_e)),b(le,ie)},H=le=>{var ie=WP();let he;var _e=ee(ie);let Pe;var re=ee(_e);ae(re,()=>e.children??Ae),Q(_e),Q(ie),de(()=>{he=Oe(ie,he,{...Y()}),Pe=Oe(_e,Pe,{...g(L)})}),b(le,ie)};pe(W,le=>{e.child?le(j):le(H,!1)})}var G=q(W,2);_h(G,{get mounted(){return f.mounted},set mounted(le){f.mounted=le}}),b(F,D)},$$slots:{popper:!0}}))};pe(A,R=>{u()||R(E)},C)}};pe(w,A=>{u()?A(x):A(k,!1)})}b(n,_),ne()}var YP=$("<div><!></div>");function $P(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"disabled",3,!1),s=ye(e,["$$slots","$$events","$$legacy","id","ref","child","children","disabled"]);const a=NP({id:V.with(()=>t()),disabled:V.with(()=>i()),ref:V.with(()=>r(),u=>r(u))}),o=O(()=>ze(s,a.props,{style:{pointerEvents:"auto"}}));var l=I(),c=T(l);Z(c,()=>Vg,(u,d)=>{d(u,{get id(){return t()},get virtualEl(){return a.virtualElement},children:(h,f)=>{var m=I(),p=T(m);{var v=_=>{var w=I(),x=T(w);ae(x,()=>e.child,()=>({props:g(o)})),b(_,w)},y=_=>{var w=YP();let x;var k=ee(w);ae(k,()=>e.children??Ae),Q(w),de(()=>x=Oe(w,x,{...g(o)})),b(_,w)};pe(p,_=>{e.child?_(v):_(y,!1)})}b(h,m)},$$slots:{default:!0}})}),b(n,l),ne()}var Wo,Ho;class GP{constructor(e){N(this,"opts");z(this,Wo,ve(null));z(this,Ho,ve(null));this.opts=e}get contentNode(){return g(P(this,Wo))}set contentNode(e){J(P(this,Wo),e,!0)}get triggerNode(){return g(P(this,Ho))}set triggerNode(e){J(P(this,Ho),e,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}}Wo=new WeakMap,Ho=new WeakMap;var hd,$b,gd;class KP{constructor(e,t){z(this,hd);N(this,"opts");N(this,"root");z(this,gd,O(()=>({id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":Kd(this.root.opts.open.current),"data-state":gr(this.root.opts.open.current),"aria-controls":Le(this,hd,$b).call(this),"data-popover-trigger":"",disabled:this.opts.disabled.current,onkeydown:this.onkeydown,onclick:this.onclick})));this.opts=e,this.root=t,He({...e,onRefChange:r=>{this.root.triggerNode=r}}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.toggleOpen()}onkeydown(e){this.opts.disabled.current||(e.key===qi||e.key===Ki)&&(e.preventDefault(),this.root.toggleOpen())}get props(){return g(P(this,gd))}}hd=new WeakSet,$b=function(){var e,t;if(this.root.opts.open.current&&((e=this.root.contentNode)!=null&&e.id))return(t=this.root.contentNode)==null?void 0:t.id},gd=new WeakMap;var md,pd;class qP{constructor(e,t){N(this,"opts");N(this,"root");N(this,"onInteractOutside",e=>{this.opts.onInteractOutside.current(e),!(e.defaultPrevented||!Ea(e.target)||e.target.closest("[data-popover-trigger]")===this.root.triggerNode)&&this.root.handleClose()});N(this,"onEscapeKeydown",e=>{this.opts.onEscapeKeydown.current(e),!e.defaultPrevented&&this.root.handleClose()});N(this,"onCloseAutoFocus",e=>{var t;this.opts.onCloseAutoFocus.current(e),!e.defaultPrevented&&(e.preventDefault(),(t=this.root.triggerNode)==null||t.focus())});z(this,md,O(()=>({open:this.root.opts.open.current})));z(this,pd,O(()=>({id:this.opts.id.current,tabindex:-1,"data-state":gr(this.root.opts.open.current),"data-popover-content":"",style:{pointerEvents:"auto"}})));N(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onCloseAutoFocus:this.onCloseAutoFocus});this.opts=e,this.root=t,He({...e,deps:()=>this.root.opts.open.current,onRefChange:r=>{this.root.contentNode=r}})}get snippetProps(){return g(P(this,md))}get props(){return g(P(this,pd))}}md=new WeakMap,pd=new WeakMap;const Zg=new fn("Popover.Root");function XP(n){return Zg.set(new GP(n))}function JP(n){return new KP(n,Zg.get())}function QP(n){return new qP(n,Zg.get())}var eA=$("<div><div><!></div></div>"),tA=$("<div><div><!></div></div>");function nA(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=S(e,"forceMount",3,!1),s=S(e,"onCloseAutoFocus",3,_t),a=S(e,"onEscapeKeydown",3,_t),o=S(e,"onInteractOutside",3,_t),l=S(e,"trapFocus",3,!0),c=S(e,"preventScroll",3,!1),u=ye(e,["$$slots","$$events","$$legacy","child","children","ref","id","forceMount","onCloseAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll"]);const d=QP({id:V.with(()=>r()),ref:V.with(()=>t(),y=>t(y)),onInteractOutside:V.with(()=>o()),onEscapeKeydown:V.with(()=>a()),onCloseAutoFocus:V.with(()=>s())}),h=O(()=>ze(u,d.props));var f=I(),m=T(f);{var p=y=>{Wg(y,Te(()=>g(h),()=>d.popperProps,{get enabled(){return d.root.opts.open.current},get id(){return r()},get trapFocus(){return l()},get preventScroll(){return c()},loop:!0,forceMount:!0,popper:(w,x)=>{let k=()=>x==null?void 0:x().props,A=()=>x==null?void 0:x().wrapperProps;var C=I();const E=O(()=>ze(k(),{style:js("popover")}));var R=T(C);{var U=B=>{var K=I(),Y=T(K),D=vt(()=>({props:g(E),wrapperProps:A(),...d.snippetProps}));ae(Y,()=>e.child,()=>g(D)),b(B,K)},F=B=>{var K=eA();let Y;var D=ee(K);let L;var W=ee(D);ae(W,()=>e.children??Ae),Q(D),Q(K),de(()=>{Y=Oe(K,Y,{...A()}),L=Oe(D,L,{...g(E)})}),b(B,K)};pe(R,B=>{e.child?B(U):B(F,!1)})}b(w,C)},$$slots:{popper:!0}}))},v=(y,_)=>{{var w=x=>{Ug(x,Te(()=>g(h),()=>d.popperProps,{get present(){return d.root.opts.open.current},get id(){return r()},get trapFocus(){return l()},get preventScroll(){return c()},loop:!0,forceMount:!1,popper:(A,C)=>{let E=()=>C==null?void 0:C().props,R=()=>C==null?void 0:C().wrapperProps;var U=I();const F=O(()=>ze(E(),{style:js("popover")}));var B=T(U);{var K=D=>{var L=I(),W=T(L),j=vt(()=>({props:g(F),wrapperProps:R(),...d.snippetProps}));ae(W,()=>e.child,()=>g(j)),b(D,L)},Y=D=>{var L=tA();let W;var j=ee(L);let H;var G=ee(j);ae(G,()=>e.children??Ae),Q(j),Q(L),de(()=>{W=Oe(L,W,{...R()}),H=Oe(j,H,{...g(F)})}),b(D,L)};pe(B,D=>{e.child?D(K):D(Y,!1)})}b(A,U)},$$slots:{popper:!0}}))};pe(y,x=>{i()||x(w)},_)}};pe(m,y=>{i()?y(p):y(v,!1)})}b(n,f),ne()}var rA=$("<button><!></button>");function iA(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"type",3,"button"),s=S(e,"disabled",3,!1),a=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref","type","disabled"]);const o=JP({id:V.with(()=>t()),ref:V.with(()=>r(),c=>r(c)),disabled:V.with(()=>!!s())}),l=O(()=>ze(a,o.props,{type:i()}));Vg(n,{get id(){return t()},children:(c,u)=>{var d=I(),h=T(d);{var f=p=>{var v=I(),y=T(v);ae(y,()=>e.child,()=>({props:g(l)})),b(p,v)},m=p=>{var v=rA();let y;var _=ee(v);ae(_,()=>e.children??Ae),Q(v),de(()=>y=Oe(v,y,{...g(l)})),b(p,v)};pe(h,p=>{e.child?p(f):p(m,!1)})}b(c,d)},$$slots:{default:!0}}),ne()}const sA="data-link-preview-content",aA="data-link-preview-trigger";var Zo,Yo,$o,Go,Ko,qo;class oA{constructor(e){N(this,"opts");z(this,Zo,ve(!1));z(this,Yo,ve(!1));z(this,$o,ve(!1));N(this,"timeout",null);z(this,Go,ve(null));z(this,Ko,ve(!1));z(this,qo,ve(null));N(this,"isOpening",!1);this.opts=e,Ht(()=>this.opts.open.current,t=>{if(!t){this.hasSelection=!1;return}const i=Fi(document,"pointerup",()=>{this.containsSelection=!1,this.isPointerDownOnContent=!1,Cy(1,()=>{var o;((o=document.getSelection())==null?void 0:o.toString())!==""?this.hasSelection=!0:this.hasSelection=!1})});if(!this.contentNode)return;const s=Gx(this.contentNode);for(const a of s)a.setAttribute("tabindex","-1");return()=>{i(),this.hasSelection=!1,this.isPointerDownOnContent=!1}})}get hasSelection(){return g(P(this,Zo))}set hasSelection(e){J(P(this,Zo),e,!0)}get isPointerDownOnContent(){return g(P(this,Yo))}set isPointerDownOnContent(e){J(P(this,Yo),e,!0)}get containsSelection(){return g(P(this,$o))}set containsSelection(e){J(P(this,$o),e,!0)}get contentNode(){return g(P(this,Go))}set contentNode(e){J(P(this,Go),e,!0)}get contentMounted(){return g(P(this,Ko))}set contentMounted(e){J(P(this,Ko),e,!0)}get triggerNode(){return g(P(this,qo))}set triggerNode(e){J(P(this,qo),e,!0)}clearTimeout(){this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null)}handleOpen(){this.clearTimeout(),!this.opts.open.current&&(this.isOpening=!0,this.timeout=window.setTimeout(()=>{this.isOpening&&(this.opts.open.current=!0,this.isOpening=!1)},this.opts.openDelay.current))}immediateClose(){this.clearTimeout(),this.isOpening=!1,this.opts.open.current=!1}handleClose(){this.isOpening=!1,this.clearTimeout(),!this.isPointerDownOnContent&&!this.hasSelection&&(this.timeout=window.setTimeout(()=>{this.opts.open.current=!1},this.opts.closeDelay.current))}}Zo=new WeakMap,Yo=new WeakMap,$o=new WeakMap,Go=new WeakMap,Ko=new WeakMap,qo=new WeakMap;var vd;class lA{constructor(e,t){N(this,"opts");N(this,"root");z(this,vd,O(()=>{var e;return{id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":Kd(this.root.opts.open.current),"data-state":gr(this.root.opts.open.current),"aria-controls":(e=this.root.contentNode)==null?void 0:e.id,role:"button",[aA]:"",onpointerenter:this.onpointerenter,onfocus:this.onfocus,onblur:this.onblur,onpointerleave:this.onpointerleave}}));this.opts=e,this.root=t,this.onpointerenter=this.onpointerenter.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this),He({...e,onRefChange:r=>{this.root.triggerNode=r}})}onpointerenter(e){lh(e)||this.root.handleOpen()}onpointerleave(e){lh(e)||this.root.contentMounted||this.root.immediateClose()}onfocus(e){$x(e.currentTarget)&&this.root.handleOpen()}onblur(e){this.root.handleClose()}get props(){return g(P(this,vd))}}vd=new WeakMap;var yd,bd;class cA{constructor(e,t){N(this,"opts");N(this,"root");N(this,"onInteractOutside",e=>{this.opts.onInteractOutside.current(e),!e.defaultPrevented&&this.root.handleClose()});N(this,"onEscapeKeydown",e=>{var t,r;(r=(t=this.opts.onEscapeKeydown).current)==null||r.call(t,e),!e.defaultPrevented&&this.root.handleClose()});N(this,"onOpenAutoFocus",e=>{e.preventDefault()});N(this,"onCloseAutoFocus",e=>{e.preventDefault()});z(this,yd,O(()=>({open:this.root.opts.open.current})));z(this,bd,O(()=>({id:this.opts.id.current,tabindex:-1,"data-state":gr(this.root.opts.open.current),[sA]:"",onpointerdown:this.onpointerdown,onpointerenter:this.onpointerenter,onfocusout:this.onfocusout})));N(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus});this.opts=e,this.root=t,this.onpointerdown=this.onpointerdown.bind(this),this.onpointerenter=this.onpointerenter.bind(this),this.onfocusout=this.onfocusout.bind(this),He({...e,onRefChange:r=>{this.root.contentNode=r},deps:()=>this.root.opts.open.current}),Ub({triggerNode:()=>this.root.triggerNode,contentNode:()=>this.opts.ref.current,enabled:()=>this.root.opts.open.current,onPointerExit:()=>{this.root.handleClose()}}),_y(()=>{this.root.clearTimeout()})}onpointerdown(e){const t=e.target;Ea(t)&&(e.currentTarget.contains(t)&&(this.root.containsSelection=!0),this.root.hasSelection=!0,this.root.isPointerDownOnContent=!0)}onpointerenter(e){lh(e)||this.root.handleOpen()}onfocusout(e){e.preventDefault()}get snippetProps(){return g(P(this,yd))}get props(){return g(P(this,bd))}}yd=new WeakMap,bd=new WeakMap;const Yg=new fn("LinkPreview.Root");function uA(n){return Yg.set(new oA(n))}function dA(n){return new lA(n,Yg.get())}function fA(n){return new cA(n,Yg.get())}function hA(n,e){te(e,!0);let t=S(e,"open",15,!1),r=S(e,"onOpenChange",3,_t),i=S(e,"openDelay",3,700),s=S(e,"closeDelay",3,300);uA({open:V.with(()=>t(),l=>{t(l),r()(l)}),openDelay:V.with(()=>i()),closeDelay:V.with(()=>s())});var a=I(),o=T(a);Z(o,()=>zg,(l,c)=>{c(l,{children:(u,d)=>{var h=I(),f=T(h);ae(f,()=>e.children??Ae),b(u,h)},$$slots:{default:!0}})}),b(n,a),ne()}var gA=$("<div><div><!></div></div>"),mA=$("<div><div><!></div></div>"),pA=$("<!> <!>",1);function vA(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"side",3,"top"),s=S(e,"sideOffset",3,0),a=S(e,"align",3,"center"),o=S(e,"avoidCollisions",3,!0),l=S(e,"arrowPadding",3,0),c=S(e,"sticky",3,"partial"),u=S(e,"hideWhenDetached",3,!1),d=S(e,"collisionPadding",3,0),h=S(e,"onInteractOutside",3,_t),f=S(e,"onEscapeKeydown",3,_t),m=S(e,"forceMount",3,!1),p=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref","side","sideOffset","align","avoidCollisions","arrowPadding","sticky","hideWhenDetached","collisionPadding","onInteractOutside","onEscapeKeydown","forceMount"]);const v=fA({id:V.with(()=>t()),ref:V.with(()=>r(),C=>r(C)),onInteractOutside:V.with(()=>h()),onEscapeKeydown:V.with(()=>f())}),y=O(()=>({side:i(),sideOffset:s(),align:a(),avoidCollisions:o(),arrowPadding:l(),sticky:c(),hideWhenDetached:u(),collisionPadding:d()})),_=O(()=>ze(p,g(y),v.props));var w=I(),x=T(w);{var k=C=>{Wg(C,Te(()=>g(_),()=>v.popperProps,{get enabled(){return v.root.opts.open.current},get id(){return t()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!0,popper:(R,U)=>{let F=()=>U==null?void 0:U().props,B=()=>U==null?void 0:U().wrapperProps;var K=I();const Y=O(()=>ze(F(),{style:js("link-preview")}));var D=T(K);{var L=j=>{var H=I(),G=T(H),le=vt(()=>({props:g(Y),wrapperProps:B(),...v.snippetProps}));ae(G,()=>e.child,()=>g(le)),b(j,H)},W=j=>{var H=gA();let G;var le=ee(H);let ie;var he=ee(le);ae(he,()=>e.children??Ae),Q(le),Q(H),de(()=>{G=Oe(H,G,{...B()}),ie=Oe(le,ie,{...g(Y)})}),b(j,H)};pe(D,j=>{e.child?j(L):j(W,!1)})}b(R,K)},$$slots:{popper:!0}}))},A=(C,E)=>{{var R=U=>{Ug(U,Te(()=>g(_),()=>v.popperProps,{get present(){return v.root.opts.open.current},get id(){return t()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!1,popper:(B,K)=>{let Y=()=>K==null?void 0:K().props,D=()=>K==null?void 0:K().wrapperProps;var L=pA();const W=O(()=>ze(Y(),{style:js("link-preview")}));var j=T(L);{var H=ie=>{var he=I(),_e=T(he),Pe=vt(()=>({props:g(W),wrapperProps:D(),...v.snippetProps}));ae(_e,()=>e.child,()=>g(Pe)),b(ie,he)},G=ie=>{var he=mA();let _e;var Pe=ee(he);let re;var oe=ee(Pe);ae(oe,()=>e.children??Ae),Q(Pe),Q(he),de(()=>{_e=Oe(he,_e,{...D()}),re=Oe(Pe,re,{...g(W)})}),b(ie,he)};pe(j,ie=>{e.child?ie(H):ie(G,!1)})}var le=q(j,2);_h(le,{get mounted(){return v.root.contentMounted},set mounted(ie){v.root.contentMounted=ie}}),b(B,L)},$$slots:{popper:!0}}))};pe(C,U=>{m()||U(R)},E)}};pe(x,C=>{m()?C(k):C(A,!1)})}b(n,w),ne()}var yA=$("<a><!></a>");function bA(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"id",19,Ue),i=ye(e,["$$slots","$$events","$$legacy","ref","id","child","children"]);const s=dA({id:V.with(()=>r()),ref:V.with(()=>t(),c=>t(c))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);Z(l,()=>Vg,(c,u)=>{u(c,{get id(){return r()},children:(d,h)=>{var f=I(),m=T(f);{var p=y=>{var _=I(),w=T(_);ae(w,()=>e.child,()=>({props:g(a)})),b(y,_)},v=y=>{var _=yA();let w;var x=ee(_);ae(x,()=>e.children??Ae),Q(_),de(()=>w=Oe(_,w,{...g(a)})),b(y,_)};pe(m,y=>{e.child?y(p):y(v,!1)})}b(d,f)},$$slots:{default:!0}})}),b(n,o),ne()}function _A(n,e){te(e,!0);let t=S(e,"open",15,!1),r=S(e,"onOpenChange",3,_t);XP({open:V.with(()=>t(),i=>{t(i),r()(i)})}),zg(n,{children:(i,s)=>{var a=I(),o=T(a);ae(o,()=>e.children??Ae),b(i,a)},$$slots:{default:!0}}),ne()}const xA="data-tabs-root",wA="data-tabs-list",Gb="data-tabs-trigger",SA="data-tabs-content";var Xo,_d;class kA{constructor(e){N(this,"opts");N(this,"rovingFocusGroup");z(this,Xo,ve(Kt([])));N(this,"valueToTriggerId",new Cm);N(this,"valueToContentId",new Cm);z(this,_d,O(()=>({id:this.opts.id.current,"data-orientation":qn(this.opts.orientation.current),[xA]:""})));this.opts=e,He(e),this.rovingFocusGroup=qd({candidateAttr:Gb,rootNodeId:this.opts.id,loop:this.opts.loop,orientation:this.opts.orientation})}get triggerIds(){return g(P(this,Xo))}set triggerIds(e){J(P(this,Xo),e,!0)}registerTrigger(e,t){return this.triggerIds.push(e),this.valueToTriggerId.set(t,e),()=>{this.triggerIds=this.triggerIds.filter(r=>r!==e),this.valueToTriggerId.delete(t)}}registerContent(e,t){return this.valueToContentId.set(t,e),()=>{this.valueToContentId.delete(t)}}setValue(e){this.opts.value.current=e}get props(){return g(P(this,_d))}}Xo=new WeakMap,_d=new WeakMap;var xd,wd;class TA{constructor(e,t){N(this,"opts");N(this,"root");z(this,xd,O(()=>this.root.opts.disabled.current));z(this,wd,O(()=>({id:this.opts.id.current,role:"tablist","aria-orientation":xg(this.root.opts.orientation.current),"data-orientation":qn(this.root.opts.orientation.current),[wA]:"","data-disabled":At(g(P(this,xd)))})));this.opts=e,this.root=t,He(e)}get props(){return g(P(this,wd))}}xd=new WeakMap,wd=new WeakMap;var ks,Hr,Ts,Sd,Ps,ec,kd;class PA{constructor(e,t){z(this,Ps);N(this,"opts");N(this,"root");z(this,ks,O(()=>this.root.opts.value.current===this.opts.value.current));z(this,Hr,O(()=>this.opts.disabled.current||this.root.opts.disabled.current));z(this,Ts,ve(0));z(this,Sd,O(()=>this.root.valueToContentId.get(this.opts.value.current)));z(this,kd,O(()=>({id:this.opts.id.current,role:"tab","data-state":Kb(g(P(this,ks))),"data-value":this.opts.value.current,"data-orientation":qn(this.root.opts.orientation.current),"data-disabled":At(g(P(this,Hr))),"aria-selected":_g(g(P(this,ks))),"aria-controls":g(P(this,Sd)),[Gb]:"",disabled:Ry(g(P(this,Hr))),tabindex:g(P(this,Ts)),onclick:this.onclick,onfocus:this.onfocus,onkeydown:this.onkeydown})));this.opts=e,this.root=t,He(e),Ht([()=>this.opts.id.current,()=>this.opts.value.current],([r,i])=>this.root.registerTrigger(r,i)),Qe(()=>{this.root.triggerIds.length,g(P(this,ks))||!this.root.opts.value.current?J(P(this,Ts),0):J(P(this,Ts),-1)}),this.onfocus=this.onfocus.bind(this),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onfocus(e){this.root.opts.activationMode.current!=="automatic"||g(P(this,Hr))||Le(this,Ps,ec).call(this)}onclick(e){g(P(this,Hr))||Le(this,Ps,ec).call(this)}onkeydown(e){if(!g(P(this,Hr))){if(e.key===Ki||e.key===qi){e.preventDefault(),Le(this,Ps,ec).call(this);return}this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}get props(){return g(P(this,kd))}}ks=new WeakMap,Hr=new WeakMap,Ts=new WeakMap,Sd=new WeakMap,Ps=new WeakSet,ec=function(){this.root.opts.value.current!==this.opts.value.current&&this.root.setValue(this.opts.value.current)},kd=new WeakMap;var Jo,Td,Pd;class AA{constructor(e,t){N(this,"opts");N(this,"root");z(this,Jo,O(()=>this.root.opts.value.current===this.opts.value.current));z(this,Td,O(()=>this.root.valueToTriggerId.get(this.opts.value.current)));z(this,Pd,O(()=>({id:this.opts.id.current,role:"tabpanel",hidden:aw(!g(P(this,Jo))),tabindex:0,"data-value":this.opts.value.current,"data-state":Kb(g(P(this,Jo))),"aria-labelledby":g(P(this,Td)),[SA]:""})));this.opts=e,this.root=t,He(e),Ht([()=>this.opts.id.current,()=>this.opts.value.current],([r,i])=>this.root.registerContent(r,i))}get props(){return g(P(this,Pd))}}Jo=new WeakMap,Td=new WeakMap,Pd=new WeakMap;const rf=new fn("Tabs.Root");function MA(n){return rf.set(new kA(n))}function OA(n){return new PA(n,rf.get())}function CA(n){return new TA(n,rf.get())}function DA(n){return new AA(n,rf.get())}function Kb(n){return n?"active":"inactive"}var EA=$("<div><!></div>");function IA(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"value",15,""),s=S(e,"onValueChange",3,_t),a=S(e,"orientation",3,"horizontal"),o=S(e,"loop",3,!0),l=S(e,"activationMode",3,"automatic"),c=S(e,"disabled",3,!1),u=ye(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","orientation","loop","activationMode","disabled","children","child"]);const d=MA({id:V.with(()=>t()),value:V.with(()=>i(),y=>{i(y),s()(y)}),orientation:V.with(()=>a()),loop:V.with(()=>o()),activationMode:V.with(()=>l()),disabled:V.with(()=>c()),ref:V.with(()=>r(),y=>r(y))}),h=O(()=>ze(u,d.props));var f=I(),m=T(f);{var p=y=>{var _=I(),w=T(_);ae(w,()=>e.child,()=>({props:g(h)})),b(y,_)},v=y=>{var _=EA();let w;var x=ee(_);ae(x,()=>e.children??Ae),Q(_),de(()=>w=Oe(_,w,{...g(h)})),b(y,_)};pe(m,y=>{e.child?y(p):y(v,!1)})}b(n,f),ne()}var RA=$("<div><!></div>");function NA(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","children","child","id","ref","value"]);const s=DA({value:V.with(()=>e.value),id:V.with(()=>t()),ref:V.with(()=>r(),d=>r(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=RA();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var FA=$("<div><!></div>");function LA(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","child","children","id","ref"]);const s=CA({id:V.with(()=>t()),ref:V.with(()=>r(),d=>r(d))}),a=O(()=>ze(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=FA();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var jA=$("<button><!></button>");function BA(n,e){te(e,!0);let t=S(e,"disabled",3,!1),r=S(e,"id",19,Ue),i=S(e,"type",3,"button"),s=S(e,"ref",15,null),a=ye(e,["$$slots","$$events","$$legacy","child","children","disabled","id","type","value","ref"]);const o=OA({id:V.with(()=>r()),disabled:V.with(()=>t()??!1),value:V.with(()=>e.value),ref:V.with(()=>s(),f=>s(f))}),l=O(()=>ze(a,o.props,{type:i()}));var c=I(),u=T(c);{var d=f=>{var m=I(),p=T(m);ae(p,()=>e.child,()=>({props:g(l)})),b(f,m)},h=f=>{var m=jA();let p;var v=ee(m);ae(v,()=>e.children??Ae),Q(m),de(()=>p=Oe(m,p,{...g(l)})),b(f,m)};pe(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ne()}const zA="data-toggle-group-root",qb="data-toggle-group-item";var Ad;class Xb{constructor(e){N(this,"opts");N(this,"rovingFocusGroup");z(this,Ad,O(()=>({id:this.opts.id.current,[zA]:"",role:"group","data-orientation":qn(this.opts.orientation.current),"data-disabled":At(this.opts.disabled.current)})));this.opts=e,this.rovingFocusGroup=qd({candidateAttr:qb,rootNodeId:e.id,loop:e.loop,orientation:e.orientation}),He(e)}get props(){return g(P(this,Ad))}}Ad=new WeakMap;var Md;class VA extends Xb{constructor(t){super(t);N(this,"opts");N(this,"isMulti",!1);z(this,Md,O(()=>this.opts.value.current!==""));this.opts=t}get anyPressed(){return g(P(this,Md))}includesItem(t){return this.opts.value.current===t}toggleItem(t,r){this.includesItem(t)?this.opts.value.current="":(this.opts.value.current=t,this.rovingFocusGroup.setCurrentTabStopId(r))}}Md=new WeakMap;var Od;class UA extends Xb{constructor(t){super(t);N(this,"opts");N(this,"isMulti",!0);z(this,Od,O(()=>this.opts.value.current.length>0));this.opts=t}get anyPressed(){return g(P(this,Od))}includesItem(t){return this.opts.value.current.includes(t)}toggleItem(t,r){this.includesItem(t)?this.opts.value.current=this.opts.value.current.filter(i=>i!==t):(this.opts.value.current=[...this.opts.value.current,t],this.rovingFocusGroup.setCurrentTabStopId(r))}}Od=new WeakMap;var Zr,Cd,Jb,Dd,Ed,Id,As,Rd,Nd;class WA{constructor(e,t){z(this,Cd);N(this,"opts");N(this,"root");z(this,Zr,O(()=>this.opts.disabled.current||this.root.opts.disabled.current));z(this,Dd,O(()=>this.root.includesItem(this.opts.value.current)));z(this,Ed,O(()=>this.root.isMulti?void 0:ow(this.isPressed)));z(this,Id,O(()=>this.root.isMulti?lw(this.isPressed):void 0));z(this,As,ve(0));z(this,Rd,O(()=>({pressed:this.isPressed})));z(this,Nd,O(()=>({id:this.opts.id.current,role:this.root.isMulti?void 0:"radio",tabindex:g(P(this,As)),"data-orientation":qn(this.root.opts.orientation.current),"data-disabled":At(g(P(this,Zr))),"data-state":HA(this.isPressed),"data-value":this.opts.value.current,"aria-pressed":g(P(this,Id)),"aria-checked":g(P(this,Ed)),disabled:Ry(g(P(this,Zr))),[qb]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=t,He(e),Qe(()=>{this.root.opts.rovingFocus.current?J(P(this,As),this.root.rovingFocusGroup.getTabIndex(this.opts.ref.current),!0):J(P(this,As),0)}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){g(P(this,Zr))||this.root.toggleItem(this.opts.value.current,this.opts.id.current)}onkeydown(e){if(!g(P(this,Zr))){if(e.key===qi||e.key===Ki){e.preventDefault(),Le(this,Cd,Jb).call(this);return}this.root.opts.rovingFocus.current&&this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}get isPressed(){return g(P(this,Dd))}get snippetProps(){return g(P(this,Rd))}get props(){return g(P(this,Nd))}}Zr=new WeakMap,Cd=new WeakSet,Jb=function(){g(P(this,Zr))||this.root.toggleItem(this.opts.value.current,this.opts.id.current)},Dd=new WeakMap,Ed=new WeakMap,Id=new WeakMap,As=new WeakMap,Rd=new WeakMap,Nd=new WeakMap;function HA(n){return n?"on":"off"}const Qb=new fn("ToggleGroup.Root");function ZA(n){const{type:e,...t}=n,r=e==="single"?new VA(t):new UA(t);return Qb.set(r)}function YA(n){return new WA(n,Qb.get())}var $A=$("<div><!></div>");function GA(n,e){te(e,!0);let t=S(e,"id",19,Ue),r=S(e,"ref",15,null),i=S(e,"value",15),s=S(e,"onValueChange",3,_t),a=S(e,"disabled",3,!1),o=S(e,"loop",3,!0),l=S(e,"orientation",3,"horizontal"),c=S(e,"rovingFocus",3,!0),u=ye(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","type","disabled","loop","orientation","rovingFocus","child","children"]);if(i()===void 0){const y=e.type==="single"?"":[];i(y)}const d=ZA({id:V.with(()=>t()),value:V.with(()=>i(),y=>{i(y),s()(y)}),disabled:V.with(()=>a()),loop:V.with(()=>o()),orientation:V.with(()=>l()),rovingFocus:V.with(()=>c()),type:e.type,ref:V.with(()=>r(),y=>r(y))}),h=O(()=>ze(u,d.props));var f=I(),m=T(f);{var p=y=>{var _=I(),w=T(_);ae(w,()=>e.child,()=>({props:g(h)})),b(y,_)},v=y=>{var _=$A();let w;var x=ee(_);ae(x,()=>e.children??Ae),Q(_),de(()=>w=Oe(_,w,{...g(h)})),b(y,_)};pe(m,y=>{e.child?y(p):y(v,!1)})}b(n,f),ne()}var KA=$("<button><!></button>");function qA(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"disabled",3,!1),i=S(e,"id",19,Ue),s=S(e,"type",3,"button"),a=ye(e,["$$slots","$$events","$$legacy","children","child","ref","value","disabled","id","type"]);const o=YA({id:V.with(()=>i()),value:V.with(()=>e.value),disabled:V.with(()=>r()??!1),ref:V.with(()=>t(),f=>t(f))}),l=O(()=>ze(a,o.props,{type:s()}));var c=I(),u=T(c);{var d=f=>{var m=I(),p=T(m),v=vt(()=>({props:g(l),...o.snippetProps}));ae(p,()=>e.child,()=>g(v)),b(f,m)},h=f=>{var m=KA();let p;var v=ee(m);ae(v,()=>e.children??Ae,()=>o.snippetProps),Q(m),de(()=>p=Oe(m,p,{...g(l)})),b(f,m)};pe(u,f=>{e.child?f(d):f(h,!1)})}b(n,c),ne()}let na=ve(!1);const En=class En{constructor(){Qe(()=>(En._refs===0&&(En._cleanup=bx(()=>{const e=[],t=i=>{J(na,!1)},r=i=>{J(na,!0)};return e.push(Fi(document,"pointerdown",t,{capture:!0}),Fi(document,"pointermove",t,{capture:!0}),Fi(document,"keydown",r,{capture:!0})),by(...e)})),En._refs++,()=>{var e;En._refs--,En._refs===0&&(J(na,!1),(e=En._cleanup)==null||e.call(En))}))}get current(){return g(na)}set current(e){J(na,e,!0)}};N(En,"_refs",0),N(En,"_cleanup");let Mh=En;function XA(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"calendar-days"},()=>t,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"M8 14h.01"}],["path",{d:"M12 14h.01"}],["path",{d:"M16 14h.01"}],["path",{d:"M8 18h.01"}],["path",{d:"M12 18h.01"}],["path",{d:"M16 18h.01"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function JA(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"check"},()=>t,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function QA(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"chevron-left"},()=>t,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function eM(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"chevron-right"},()=>t,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function tM(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"chevrons-up-down"},()=>t,{iconNode:[["path",{d:"m7 15 5 5 5-5"}],["path",{d:"m7 9 5-5 5 5"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function nM(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"clock"},()=>t,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function rM(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"play"},()=>t,{iconNode:[["polygon",{points:"6 3 20 12 6 21 6 3"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function e_(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"plus"},()=>t,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function iM(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"square"},()=>t,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}function t_(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]);hr(n,Te({name:"x"},()=>t,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(i,s)=>{var a=I(),o=T(a);vn(o,e,"default",{},null),b(i,a)},$$slots:{default:!0}}))}var sM=$('<div class="flex items-center justify-between space-x-4"><div class="flex items-center space-x-4"><!> <div><p class="text-sm font-medium leading-none"> </p> <p class="text-sm text-blue-500"><a>Contact</a></p></div></div></div>');function aM(n,e){te(e,!0),Qe(()=>console.log("DETAILS",e.details));var t=sM(),r=ee(t),i=ee(r);dg(i,{get project(){return e.project},get userID(){return e.details.id}});var s=q(i,2),a=ee(s),o=ee(a);Q(a);var l=q(a,2),c=ee(l);Q(l),Q(s),Q(r),Q(t),de(()=>{Xe(o,`${e.details.firstName??""} ${e.details.lastName??""}`),ii(c,"href",`mailto:${e.details.email??""}`)}),b(n,t),ne()}var nt;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},n.find=(i,s)=>{for(const a of i)if(s(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(nt||(nt={}));var Oh;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Oh||(Oh={}));const ke=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),kr=n=>{switch(typeof n){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return isNaN(n)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(n)?ke.array:n===null?ke.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ke.promise:typeof Map<"u"&&n instanceof Map?ke.map:typeof Set<"u"&&n instanceof Set?ke.set:typeof Date<"u"&&n instanceof Date?ke.date:ke.object;default:return ke.unknown}},ce=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oM=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class On extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let o=r,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof On))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}On.create=n=>new On(n);const Bs=(n,e)=>{let t;switch(n.code){case ce.invalid_type:n.received===ke.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ce.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,nt.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:t=`Unrecognized key(s) in object: ${nt.joinValues(n.keys,", ")}`;break;case ce.invalid_union:t="Invalid input";break;case ce.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${nt.joinValues(n.options)}`;break;case ce.invalid_enum_value:t=`Invalid enum value. Expected ${nt.joinValues(n.options)}, received '${n.received}'`;break;case ce.invalid_arguments:t="Invalid function arguments";break;case ce.invalid_return_type:t="Invalid function return type";break;case ce.invalid_date:t="Invalid date";break;case ce.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:nt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ce.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ce.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ce.custom:t="Invalid input";break;case ce.invalid_intersection_types:t="Intersection results could not be merged";break;case ce.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ce.not_finite:t="Number must be finite";break;default:t=e.defaultError,nt.assertNever(n)}return{message:t}};let n_=Bs;function lM(n){n_=n}function bc(){return n_}const _c=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},cM=[];function we(n,e){const t=bc(),r=_c({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Bs?void 0:Bs].filter(i=>!!i)});n.common.issues.push(r)}class an{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Be;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return an.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Be;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),ds=n=>({status:"dirty",value:n}),dn=n=>({status:"valid",value:n}),Ch=n=>n.status==="aborted",Dh=n=>n.status==="dirty",Wi=n=>n.status==="valid",za=n=>typeof Promise<"u"&&n instanceof Promise;function xc(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function r_(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Me;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Me||(Me={}));var fa,ha;class ur{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ep=(n,e)=>{if(Wi(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new On(n.common.issues);return this._error=t,this._error}}};function We(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var l,c;const{message:u}=n;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??t)!==null&&c!==void 0?c:o.defaultError}},description:i}}class $e{get description(){return this._def.description}_getType(e){return kr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:kr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new an,ctx:{common:e.parent.common,data:e.data,parsedType:kr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(za(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:kr(e)},s=this._parseSync({data:e,path:i.path,parent:i});return ep(i,s)}"~validate"(e){var t,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:kr(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Wi(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(t=s==null?void 0:s.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Wi(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:kr(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(za(i)?i:Promise.resolve(i));return ep(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:ce.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Gn({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Hn.create(this,this._def)}nullable(){return gi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wn.create(this)}promise(){return Vs.create(this,this._def)}or(e){return Ha.create([this,e],this._def)}and(e){return Za.create(this,e,this._def)}transform(e){return new Gn({...We(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new qa({...We(this._def),innerType:this,defaultValue:t,typeName:fe.ZodDefault})}brand(){return new $g({typeName:fe.ZodBranded,type:this,...We(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Xa({...We(this._def),innerType:this,catchValue:t,typeName:fe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return vl.create(this,e)}readonly(){return Ja.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const uM=/^c[^\s-]{8,}$/i,dM=/^[0-9a-z]+$/,fM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gM=/^[a-z0-9_-]{21}$/i,mM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,pM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bf;const bM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_M=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,xM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,SM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,i_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TM=new RegExp(`^${i_}$`);function s_(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function PM(n){return new RegExp(`^${s_(n)}$`)}function a_(n){let e=`${i_}T${s_(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function AM(n,e){return!!((e==="v4"||!e)&&bM.test(n)||(e==="v6"||!e)&&xM.test(n))}function MM(n,e){if(!mM.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function OM(n,e){return!!((e==="v4"||!e)&&_M.test(n)||(e==="v6"||!e)&&wM.test(n))}class zn extends $e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const s=this._getOrReturnCtx(e);return we(s,{code:ce.invalid_type,expected:ke.string,received:s.parsedType}),Be}const r=new an;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:ce.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:ce.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?we(i,{code:ce.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&we(i,{code:ce.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")vM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"email",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Bf||(Bf=new RegExp(yM,"u")),Bf.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"emoji",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")hM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"uuid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")gM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"nanoid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")uM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"cuid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")dM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"cuid2",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")fM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"ulid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),we(i,{validation:"url",code:ce.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"regex",code:ce.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),we(i,{code:ce.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),we(i,{code:ce.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),we(i,{code:ce.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?a_(s).test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{code:ce.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?TM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{code:ce.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?PM(s).test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{code:ce.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?pM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"duration",code:ce.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?AM(e.data,s.version)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"ip",code:ce.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?MM(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"jwt",code:ce.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?OM(e.data,s.version)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"cidr",code:ce.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?SM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"base64",code:ce.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?kM.test(e.data)||(i=this._getOrReturnCtx(e,i),we(i,{validation:"base64url",code:ce.invalid_string,message:s.message}),r.dirty()):nt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:ce.invalid_string,...Me.errToObj(r)})}_addCheck(e){return new zn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Me.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Me.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Me.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Me.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Me.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Me.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Me.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Me.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Me.errToObj(t)})}nonempty(e){return this.min(1,Me.errToObj(e))}trim(){return new zn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}zn.create=n=>{var e;return new zn({checks:[],typeName:fe.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...We(n)})};function CM(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class di extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const s=this._getOrReturnCtx(e);return we(s,{code:ce.invalid_type,expected:ke.number,received:s.parsedType}),Be}let r;const i=new an;for(const s of this._def.checks)s.kind==="int"?nt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),we(r,{code:ce.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ce.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ce.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?CM(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),we(r,{code:ce.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),we(r,{code:ce.not_finite,message:s.message}),i.dirty()):nt.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Me.toString(t))}setLimit(e,t,r,i){return new di({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Me.toString(i)}]})}_addCheck(e){return new di({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}di.create=n=>new di({checks:[],typeName:fe.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...We(n)});class fi extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.bigint)return this._getInvalidInput(e);let r;const i=new an;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ce.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ce.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ce.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):nt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return we(t,{code:ce.invalid_type,expected:ke.bigint,received:t.parsedType}),Be}gte(e,t){return this.setLimit("min",e,!0,Me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Me.toString(t))}setLimit(e,t,r,i){return new fi({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Me.toString(i)}]})}_addCheck(e){return new fi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}fi.create=n=>{var e;return new fi({checks:[],typeName:fe.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...We(n)})};class Va extends $e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const r=this._getOrReturnCtx(e);return we(r,{code:ce.invalid_type,expected:ke.boolean,received:r.parsedType}),Be}return dn(e.data)}}Va.create=n=>new Va({typeName:fe.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...We(n)});class Hi extends $e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const s=this._getOrReturnCtx(e);return we(s,{code:ce.invalid_type,expected:ke.date,received:s.parsedType}),Be}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return we(s,{code:ce.invalid_date}),Be}const r=new an;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:ce.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),we(i,{code:ce.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):nt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Hi({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Me.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Me.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Hi.create=n=>new Hi({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:fe.ZodDate,...We(n)});class wc extends $e{_parse(e){if(this._getType(e)!==ke.symbol){const r=this._getOrReturnCtx(e);return we(r,{code:ce.invalid_type,expected:ke.symbol,received:r.parsedType}),Be}return dn(e.data)}}wc.create=n=>new wc({typeName:fe.ZodSymbol,...We(n)});class Ua extends $e{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return we(r,{code:ce.invalid_type,expected:ke.undefined,received:r.parsedType}),Be}return dn(e.data)}}Ua.create=n=>new Ua({typeName:fe.ZodUndefined,...We(n)});class Wa extends $e{_parse(e){if(this._getType(e)!==ke.null){const r=this._getOrReturnCtx(e);return we(r,{code:ce.invalid_type,expected:ke.null,received:r.parsedType}),Be}return dn(e.data)}}Wa.create=n=>new Wa({typeName:fe.ZodNull,...We(n)});class zs extends $e{constructor(){super(...arguments),this._any=!0}_parse(e){return dn(e.data)}}zs.create=n=>new zs({typeName:fe.ZodAny,...We(n)});class Li extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dn(e.data)}}Li.create=n=>new Li({typeName:fe.ZodUnknown,...We(n)});class Nr extends $e{_parse(e){const t=this._getOrReturnCtx(e);return we(t,{code:ce.invalid_type,expected:ke.never,received:t.parsedType}),Be}}Nr.create=n=>new Nr({typeName:fe.ZodNever,...We(n)});class Sc extends $e{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return we(r,{code:ce.invalid_type,expected:ke.void,received:r.parsedType}),Be}return dn(e.data)}}Sc.create=n=>new Sc({typeName:fe.ZodVoid,...We(n)});class Wn extends $e{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==ke.array)return we(t,{code:ce.invalid_type,expected:ke.array,received:t.parsedType}),Be;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,o=t.data.length<i.exactLength.value;(a||o)&&(we(t,{code:a?ce.too_big:ce.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(we(t,{code:ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(we(t,{code:ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>i.type._parseAsync(new ur(t,a,t.path,o)))).then(a=>an.mergeArray(r,a));const s=[...t.data].map((a,o)=>i.type._parseSync(new ur(t,a,t.path,o)));return an.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new Wn({...this._def,minLength:{value:e,message:Me.toString(t)}})}max(e,t){return new Wn({...this._def,maxLength:{value:e,message:Me.toString(t)}})}length(e,t){return new Wn({...this._def,exactLength:{value:e,message:Me.toString(t)}})}nonempty(e){return this.min(1,e)}}Wn.create=(n,e)=>new Wn({type:n,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...We(e)});function os(n){if(n instanceof wt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Hn.create(os(r))}return new wt({...n._def,shape:()=>e})}else return n instanceof Wn?new Wn({...n._def,type:os(n.element)}):n instanceof Hn?Hn.create(os(n.unwrap())):n instanceof gi?gi.create(os(n.unwrap())):n instanceof dr?dr.create(n.items.map(e=>os(e))):n}class wt extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=nt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ke.object){const c=this._getOrReturnCtx(e);return we(c,{code:ce.invalid_type,expected:ke.object,received:c.parsedType}),Be}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Nr&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ur(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Nr){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(we(i,{code:ce.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ur(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>an.mergeObjectSync(r,c)):an.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Me.errToObj,new wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,a,o;const l=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=Me.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new wt({...this._def,catchall:e})}pick(e){const t={};return nt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new wt({...this._def,shape:()=>t})}omit(e){const t={};return nt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new wt({...this._def,shape:()=>t})}deepPartial(){return os(this)}partial(e){const t={};return nt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new wt({...this._def,shape:()=>t})}required(e){const t={};return nt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Hn;)s=s._def.innerType;t[r]=s}}),new wt({...this._def,shape:()=>t})}keyof(){return o_(nt.objectKeys(this.shape))}}wt.create=(n,e)=>new wt({shape:()=>n,unknownKeys:"strip",catchall:Nr.create(),typeName:fe.ZodObject,...We(e)});wt.strictCreate=(n,e)=>new wt({shape:()=>n,unknownKeys:"strict",catchall:Nr.create(),typeName:fe.ZodObject,...We(e)});wt.lazycreate=(n,e)=>new wt({shape:n,unknownKeys:"strip",catchall:Nr.create(),typeName:fe.ZodObject,...We(e)});class Ha extends $e{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new On(o.ctx.common.issues));return we(t,{code:ce.invalid_union,unionErrors:a}),Be}if(t.common.async)return Promise.all(r.map(async s=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new On(l));return we(t,{code:ce.invalid_union,unionErrors:o}),Be}}get options(){return this._def.options}}Ha.create=(n,e)=>new Ha({options:n,typeName:fe.ZodUnion,...We(e)});const _r=n=>n instanceof $a?_r(n.schema):n instanceof Gn?_r(n.innerType()):n instanceof Ga?[n.value]:n instanceof hi?n.options:n instanceof Ka?nt.objectValues(n.enum):n instanceof qa?_r(n._def.innerType):n instanceof Ua?[void 0]:n instanceof Wa?[null]:n instanceof Hn?[void 0,..._r(n.unwrap())]:n instanceof gi?[null,..._r(n.unwrap())]:n instanceof $g||n instanceof Ja?_r(n.unwrap()):n instanceof Xa?_r(n._def.innerType):[];class sf extends $e{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ke.object)return we(t,{code:ce.invalid_type,expected:ke.object,received:t.parsedType}),Be;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(we(t,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const a=_r(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new sf({typeName:fe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...We(r)})}}function Eh(n,e){const t=kr(n),r=kr(e);if(n===e)return{valid:!0,data:n};if(t===ke.object&&r===ke.object){const i=nt.objectKeys(e),s=nt.objectKeys(n).filter(o=>i.indexOf(o)!==-1),a={...n,...e};for(const o of s){const l=Eh(n[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(t===ke.array&&r===ke.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const a=n[s],o=e[s],l=Eh(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===ke.date&&r===ke.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Za extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Ch(s)||Ch(a))return Be;const o=Eh(s.value,a.value);return o.valid?((Dh(s)||Dh(a))&&t.dirty(),{status:t.value,value:o.data}):(we(r,{code:ce.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Za.create=(n,e,t)=>new Za({left:n,right:e,typeName:fe.ZodIntersection,...We(t)});class dr extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.array)return we(r,{code:ce.invalid_type,expected:ke.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return we(r,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(we(r,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ur(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>an.mergeArray(t,a)):an.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new dr({...this._def,rest:e})}}dr.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dr({items:n,typeName:fe.ZodTuple,rest:null,...We(e)})};class Ya extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.object)return we(r,{code:ce.invalid_type,expected:ke.object,received:r.parsedType}),Be;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new ur(r,o,r.path,o)),value:a._parse(new ur(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?an.mergeObjectAsync(t,i):an.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof $e?new Ya({keyType:e,valueType:t,typeName:fe.ZodRecord,...We(r)}):new Ya({keyType:zn.create(),valueType:e,typeName:fe.ZodRecord,...We(t)})}}class kc extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.map)return we(r,{code:ce.invalid_type,expected:ke.map,received:r.parsedType}),Be;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new ur(r,o,r.path,[c,"key"])),value:s._parse(new ur(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(c.value,u.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(c.value,u.value)}return{status:t.value,value:o}}}}kc.create=(n,e,t)=>new kc({valueType:e,keyType:n,typeName:fe.ZodMap,...We(t)});class Zi extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.set)return we(r,{code:ce.invalid_type,expected:ke.set,received:r.parsedType}),Be;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(we(r,{code:ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(we(r,{code:ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Be;u.status==="dirty"&&t.dirty(),c.add(u.value)}return{status:t.value,value:c}}const o=[...r.data.values()].map((l,c)=>s._parse(new ur(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,t){return new Zi({...this._def,minSize:{value:e,message:Me.toString(t)}})}max(e,t){return new Zi({...this._def,maxSize:{value:e,message:Me.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Zi.create=(n,e)=>new Zi({valueType:n,minSize:null,maxSize:null,typeName:fe.ZodSet,...We(e)});class ms extends $e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ke.function)return we(t,{code:ce.invalid_type,expected:ke.function,received:t.parsedType}),Be;function r(o,l){return _c({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,bc(),Bs].filter(c=>!!c),issueData:{code:ce.invalid_arguments,argumentsError:l}})}function i(o,l){return _c({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,bc(),Bs].filter(c=>!!c),issueData:{code:ce.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Vs){const o=this;return dn(async function(...l){const c=new On([]),u=await o._def.args.parseAsync(l,s).catch(f=>{throw c.addIssue(r(l,f)),c}),d=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(d,s).catch(f=>{throw c.addIssue(i(d,f)),c})})}else{const o=this;return dn(function(...l){const c=o._def.args.safeParse(l,s);if(!c.success)throw new On([r(l,c.error)]);const u=Reflect.apply(a,this,c.data),d=o._def.returns.safeParse(u,s);if(!d.success)throw new On([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ms({...this._def,args:dr.create(e).rest(Li.create())})}returns(e){return new ms({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ms({args:e||dr.create([]).rest(Li.create()),returns:t||Li.create(),typeName:fe.ZodFunction,...We(r)})}}class $a extends $e{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}$a.create=(n,e)=>new $a({getter:n,typeName:fe.ZodLazy,...We(e)});class Ga extends $e{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return we(t,{received:t.data,code:ce.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ga.create=(n,e)=>new Ga({value:n,typeName:fe.ZodLiteral,...We(e)});function o_(n,e){return new hi({values:n,typeName:fe.ZodEnum,...We(e)})}class hi extends $e{constructor(){super(...arguments),fa.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return we(t,{expected:nt.joinValues(r),received:t.parsedType,code:ce.invalid_type}),Be}if(xc(this,fa)||r_(this,fa,new Set(this._def.values)),!xc(this,fa).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return we(t,{received:t.data,code:ce.invalid_enum_value,options:r}),Be}return dn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return hi.create(e,{...this._def,...t})}exclude(e,t=this._def){return hi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}fa=new WeakMap;hi.create=o_;class Ka extends $e{constructor(){super(...arguments),ha.set(this,void 0)}_parse(e){const t=nt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ke.string&&r.parsedType!==ke.number){const i=nt.objectValues(t);return we(r,{expected:nt.joinValues(i),received:r.parsedType,code:ce.invalid_type}),Be}if(xc(this,ha)||r_(this,ha,new Set(nt.getValidEnumValues(this._def.values))),!xc(this,ha).has(e.data)){const i=nt.objectValues(t);return we(r,{received:r.data,code:ce.invalid_enum_value,options:i}),Be}return dn(e.data)}get enum(){return this._def.values}}ha=new WeakMap;Ka.create=(n,e)=>new Ka({values:n,typeName:fe.ZodNativeEnum,...We(e)});class Vs extends $e{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ke.promise&&t.common.async===!1)return we(t,{code:ce.invalid_type,expected:ke.promise,received:t.parsedType}),Be;const r=t.parsedType===ke.promise?t.data:Promise.resolve(t.data);return dn(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Vs.create=(n,e)=>new Vs({type:n,typeName:fe.ZodPromise,...We(e)});class Gn extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{we(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return Be;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Be:l.status==="dirty"||t.value==="dirty"?ds(l.value):l});{if(t.value==="aborted")return Be;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?Be:o.status==="dirty"||t.value==="dirty"?ds(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Be:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Be:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Wi(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Wi(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:t.value,value:o})):a);nt.assertNever(i)}}Gn.create=(n,e,t)=>new Gn({schema:n,typeName:fe.ZodEffects,effect:e,...We(t)});Gn.createWithPreprocess=(n,e,t)=>new Gn({schema:e,effect:{type:"preprocess",transform:n},typeName:fe.ZodEffects,...We(t)});class Hn extends $e{_parse(e){return this._getType(e)===ke.undefined?dn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hn.create=(n,e)=>new Hn({innerType:n,typeName:fe.ZodOptional,...We(e)});class gi extends $e{_parse(e){return this._getType(e)===ke.null?dn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gi.create=(n,e)=>new gi({innerType:n,typeName:fe.ZodNullable,...We(e)});class qa extends $e{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}qa.create=(n,e)=>new qa({innerType:n,typeName:fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...We(e)});class Xa extends $e{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return za(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new On(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new On(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Xa.create=(n,e)=>new Xa({innerType:n,typeName:fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...We(e)});class Tc extends $e{_parse(e){if(this._getType(e)!==ke.nan){const r=this._getOrReturnCtx(e);return we(r,{code:ce.invalid_type,expected:ke.nan,received:r.parsedType}),Be}return{status:"valid",value:e.data}}}Tc.create=n=>new Tc({typeName:fe.ZodNaN,...We(n)});const DM=Symbol("zod_brand");class $g extends $e{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class vl extends $e{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Be:s.status==="dirty"?(t.dirty(),ds(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new vl({in:e,out:t,typeName:fe.ZodPipeline})}}class Ja extends $e{_parse(e){const t=this._def.innerType._parse(e),r=i=>(Wi(i)&&(i.value=Object.freeze(i.value)),i);return za(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}Ja.create=(n,e)=>new Ja({innerType:n,typeName:fe.ZodReadonly,...We(e)});function tp(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function l_(n,e={},t){return n?zs.create().superRefine((r,i)=>{var s,a;const o=n(r);if(o instanceof Promise)return o.then(l=>{var c,u;if(!l){const d=tp(e,r),h=(u=(c=d.fatal)!==null&&c!==void 0?c:t)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...d,fatal:h})}});if(!o){const l=tp(e,r),c=(a=(s=l.fatal)!==null&&s!==void 0?s:t)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...l,fatal:c})}}):zs.create()}const EM={object:wt.lazycreate};var fe;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(fe||(fe={}));const IM=(n,e={message:`Input not instance of ${n.name}`})=>l_(t=>t instanceof n,e),c_=zn.create,u_=di.create,RM=Tc.create,NM=fi.create,d_=Va.create,FM=Hi.create,LM=wc.create,jM=Ua.create,BM=Wa.create,zM=zs.create,VM=Li.create,UM=Nr.create,WM=Sc.create,HM=Wn.create,ZM=wt.create,YM=wt.strictCreate,$M=Ha.create,GM=sf.create,KM=Za.create,qM=dr.create,XM=Ya.create,JM=kc.create,QM=Zi.create,e2=ms.create,t2=$a.create,n2=Ga.create,r2=hi.create,i2=Ka.create,s2=Vs.create,np=Gn.create,a2=Hn.create,o2=gi.create,l2=Gn.createWithPreprocess,c2=vl.create,u2=()=>c_().optional(),d2=()=>u_().optional(),f2=()=>d_().optional(),h2={string:n=>zn.create({...n,coerce:!0}),number:n=>di.create({...n,coerce:!0}),boolean:n=>Va.create({...n,coerce:!0}),bigint:n=>fi.create({...n,coerce:!0}),date:n=>Hi.create({...n,coerce:!0})},g2=Be;var In=Object.freeze({__proto__:null,defaultErrorMap:Bs,setErrorMap:lM,getErrorMap:bc,makeIssue:_c,EMPTY_PATH:cM,addIssueToContext:we,ParseStatus:an,INVALID:Be,DIRTY:ds,OK:dn,isAborted:Ch,isDirty:Dh,isValid:Wi,isAsync:za,get util(){return nt},get objectUtil(){return Oh},ZodParsedType:ke,getParsedType:kr,ZodType:$e,datetimeRegex:a_,ZodString:zn,ZodNumber:di,ZodBigInt:fi,ZodBoolean:Va,ZodDate:Hi,ZodSymbol:wc,ZodUndefined:Ua,ZodNull:Wa,ZodAny:zs,ZodUnknown:Li,ZodNever:Nr,ZodVoid:Sc,ZodArray:Wn,ZodObject:wt,ZodUnion:Ha,ZodDiscriminatedUnion:sf,ZodIntersection:Za,ZodTuple:dr,ZodRecord:Ya,ZodMap:kc,ZodSet:Zi,ZodFunction:ms,ZodLazy:$a,ZodLiteral:Ga,ZodEnum:hi,ZodNativeEnum:Ka,ZodPromise:Vs,ZodEffects:Gn,ZodTransformer:Gn,ZodOptional:Hn,ZodNullable:gi,ZodDefault:qa,ZodCatch:Xa,ZodNaN:Tc,BRAND:DM,ZodBranded:$g,ZodPipeline:vl,ZodReadonly:Ja,custom:l_,Schema:$e,ZodSchema:$e,late:EM,get ZodFirstPartyTypeKind(){return fe},coerce:h2,any:zM,array:HM,bigint:NM,boolean:d_,date:FM,discriminatedUnion:GM,effect:np,enum:r2,function:e2,instanceof:IM,intersection:KM,lazy:t2,literal:n2,map:JM,nan:RM,nativeEnum:i2,never:UM,null:BM,nullable:o2,number:u_,object:ZM,oboolean:f2,onumber:d2,optional:a2,ostring:u2,pipeline:c2,preprocess:l2,promise:s2,record:XM,set:QM,strictObject:YM,string:c_,symbol:LM,transformer:np,tuple:qM,undefined:jM,union:$M,unknown:VM,void:WM,NEVER:g2,ZodIssueCode:ce,quotelessJson:oM,ZodError:On});const f_=In.object({title:In.string().nonempty(),description:In.string(),dueDate:In.string().date().optional(),timeEstimate:In.number().min(0).default(0),assignees:In.array(In.string())}),h_=In.object({title:In.string().nonempty(),description:In.string().optional(),options:In.string().nonempty(),dueDate:In.string().date()}),g_=()=>{const n=nx;return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},updated:n.updated}},ra={subscribe(n){return g_().page.subscribe(n)}},rp={subscribe(n){return g_().navigating.subscribe(n)}};function Ih(n,e,t){return n[e]=t,"skip"}function m2(n,e){return e.value!==void 0&&typeof e.value!="object"&&e.path.length<n.length}function tr(n,e,t={}){t.modifier||(t.modifier=i=>m2(e,i)?void 0:i.value);const r=Kn(n,e,t.modifier);if(r)return t.value===void 0||t.value(r.value)?r:void 0}function Kn(n,e,t){if(!e.length)return;const r=[e[0]];let i=n;for(;i&&r.length<e.length;){const a=r[r.length-1],o=t?t({parent:i,key:String(a),value:i[a],path:r.map(l=>String(l)),isLeaf:!1,set:l=>Ih(i,a,l)}):i[a];if(o===void 0)return;i=o,r.push(e[r.length])}if(!i)return;const s=e[e.length-1];return{parent:i,key:String(s),value:i[s],path:e.map(a=>String(a)),isLeaf:!0,set:a=>Ih(i,s,a)}}function sr(n,e,t=[]){for(const r in n){const i=n[r],s=i===null||typeof i!="object",a={parent:n,key:r,value:i,path:t.concat([r]),isLeaf:s,set:l=>Ih(n,r,l)},o=e(a);if(o==="abort")return o;if(o==="skip")continue;if(!s){const l=sr(i,e,a.path);if(l==="abort")return l}}}function p2(n,e){return n===e||n.size===e.size&&[...n].every(t=>e.has(t))}function ip(n,e){const t=new Map;function r(o,l){return o instanceof Date&&l instanceof Date&&o.getTime()!==l.getTime()||o instanceof Set&&l instanceof Set&&!p2(o,l)||o instanceof File&&l instanceof File&&o!==l}function i(o){return o instanceof Date||o instanceof Set||o instanceof File}function s(o,l){const c=l?Kn(l,o.path):void 0;function u(){return t.set(o.path.join(" "),o.path),"skip"}if(i(o.value)&&(!i(c==null?void 0:c.value)||r(o.value,c.value)))return u();o.isLeaf&&(!c||o.value!==c.value)&&u()}sr(n,o=>s(o,e)),sr(e,o=>s(o,n));const a=Array.from(t.values());return a.sort((o,l)=>o.length-l.length),a}function xn(n,e,t){const r=typeof t=="function";for(const i of e){const s=Kn(n,i,({parent:a,key:o,value:l})=>((l===void 0||typeof l!="object")&&(a[o]={}),a[o]));s&&(s.parent[s.key]=r?t(i,s):t)}}function ei(n){return n.toString().split(/[[\].]+/).filter(e=>e)}function ga(n){return n.reduce((e,t)=>{const r=String(t);return typeof t=="number"||/^\d+$/.test(r)?e+=`[${r}]`:e?e+=`.${r}`:e+=r,e},"")}function ma(n){const e={}.toString.call(n).slice(8,-1);if(e=="Set")return new Set([...n].map(t=>ma(t)));if(e=="Map")return new Map([...n].map(t=>[ma(t[0]),ma(t[1])]));if(e=="Date")return new Date(n.getTime());if(e=="RegExp")return RegExp(n.source,n.flags);if(e=="Array"||e=="Object"){const t=e=="Object"?Object.create(Object.getPrototypeOf(n)):[];for(const r in n)t[r]=ma(n[r]);return t}return n}function cn(n){return n&&typeof n=="object"?ma(n):n}function Yi(n,e){if(typeof n=="boolean")throw new Gt("Schema property cannot be defined as boolean.",e)}const sp=n=>{if(typeof n=="object"&&n!==null){if(typeof Object.getPrototypeOf=="function"){const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}return Object.prototype.toString.call(n)==="[object Object]"}return!1},An=(...n)=>n.reduce((e,t)=>{if(Array.isArray(t))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(t).forEach(r=>{["__proto__","constructor","prototype"].includes(r)||(Array.isArray(e[r])&&Array.isArray(t[r])?e[r]=An.options.mergeArrays?An.options.uniqueArrayItems?Array.from(new Set(e[r].concat(t[r]))):[...e[r],...t[r]]:t[r]:sp(e[r])&&sp(t[r])?e[r]=An(e[r],t[r]):e[r]=t[r]===void 0?An.options.allowUndefinedOverrides?t[r]:e[r]:t[r])}),e},{}),Rh={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};An.options=Rh;An.withOptions=(n,...e)=>{An.options=Object.assign(Object.assign({},Rh),n);const t=An(...e);return An.options=Rh,t};const v2=["unix-time","bigint","any","symbol","set","int64"];function rn(n,e,t){var c;Yi(n,t);const r=m_(n,t),i=n.items&&r.includes("array")?(Array.isArray(n.items)?n.items:[n.items]).filter(u=>typeof u!="boolean"):void 0,s=n.additionalProperties&&typeof n.additionalProperties=="object"&&r.includes("object")?Object.fromEntries(Object.entries(n.additionalProperties).filter(([,u])=>typeof u!="boolean")):void 0,a=n.properties&&r.includes("object")?Object.fromEntries(Object.entries(n.properties).filter(([,u])=>typeof u!="boolean")):void 0,o=(c=y2(n))==null?void 0:c.filter(u=>u.type!=="null"&&u.const!==null),l={types:r.filter(u=>u!=="null"),isOptional:e,isNullable:r.includes("null"),schema:n,union:o!=null&&o.length?o:void 0,array:i,properties:a,additionalProperties:s,required:n.required};return!n.allOf||!n.allOf.length?l:{...An.withOptions({allowUndefinedOverrides:!1},l,...n.allOf.map(u=>rn(u,!1,[]))),schema:n}}function m_(n,e){Yi(n,e);let t=n.const===null?["null"]:[];if(n.type&&(t=Array.isArray(n.type)?n.type:[n.type]),n.anyOf&&(t=n.anyOf.flatMap(r=>m_(r,e))),t.includes("array")&&n.uniqueItems){const r=t.findIndex(i=>i!="array");t[r]="set"}else if(n.format&&v2.includes(n.format)&&(t.unshift(n.format),n.format=="unix-time"||n.format=="int64")){const r=t.findIndex(i=>i=="integer");t.splice(r,1)}return n.const&&n.const!==null&&typeof n.const!="function"&&t.push(typeof n.const),Array.from(new Set(t))}function y2(n){if(!(!n.anyOf||!n.anyOf.length))return n.anyOf.filter(e=>typeof e!="boolean")}function p_(n,e=!1,t=[]){return pa(n,e,t)}function pa(n,e,t){var c;if(!n)throw new Gt("Schema was undefined",t);const r=rn(n,e,t);if(!r)return;let i;if("default"in n)if(r.types.includes("object")&&n.default&&typeof n.default=="object"&&!Array.isArray(n.default))i=n.default;else{if(r.types.length>1&&r.types.includes("unix-time")&&(r.types.includes("integer")||r.types.includes("number")))throw new Gt("Cannot resolve a default value with a union that includes a date and a number/integer.",t);const[u]=r.types;return b2(u,n.default)}let s;const a=()=>!r.union||r.union.length<2?!1:r.union.some(u=>u.enum)?!0:(s||(s=new Set(r.types.map(u=>["integer","unix-time"].includes(u)?"number":u))),s.size>1);let o;if(!i&&r.union){const u=r.union.filter(d=>typeof d!="boolean"&&d.default!==void 0);if(u.length==1)return pa(u[0],e,t);if(u.length>1)throw new Gt("Only one default value can exist in a union, or set a default value for the whole union.",t);if(r.isNullable)return null;if(r.isOptional)return;if(a())throw new Gt("Multi-type unions must have a default value, or exactly one of the union types must have.",t);r.union.length&&r.types[0]=="object"&&(o===void 0&&(o={}),o=r.union.length>1?An.withOptions({allowUndefinedOverrides:!0},...r.union.map(d=>pa(d,e,t))):pa(r.union[0],e,t))}if(!i){if(r.isNullable)return null;if(r.isOptional)return}if(r.properties)for(const[u,d]of Object.entries(r.properties)){Yi(d,[...t,u]);const h=i&&i[u]!==void 0?i[u]:pa(d,!((c=r.required)!=null&&c.includes(u)),[...t,u]);o===void 0&&(o={}),o[u]=h}else if(i)return i;if(n.enum)return n.enum[0];if(a())throw new Gt("Default values cannot have more than one type.",t);if(r.types.length==0)return;const[l]=r.types;return o??v_(l,n.enum)}function b2(n,e){switch(n){case"set":return Array.isArray(e)?new Set(e):e;case"Date":case"date":case"unix-time":if(typeof e=="string"||typeof e=="number")return new Date(e);break;case"bigint":if(typeof e=="string"||typeof e=="number")return BigInt(e);break;case"symbol":if(typeof e=="string"||typeof e=="number")return Symbol(e);break}return e}function v_(n,e){switch(n){case"string":return e&&e.length>0?e[0]:"";case"number":case"integer":return e&&e.length>0?e[0]:0;case"boolean":return!1;case"array":return[];case"object":return{};case"null":return null;case"Date":case"date":case"unix-time":return;case"int64":case"bigint":return BigInt(0);case"set":return new Set;case"symbol":return Symbol();case"undefined":case"any":return;default:throw new Gt("Schema type or format not supported, requires explicit default value: "+n)}}function _2(n,e=[]){return tc(n,!1,e)}function tc(n,e,t){var s,a;if(!n)throw new Gt("Schema was undefined",t);const r=rn(n,e,t),i={__types:r.types};if(r.schema.items&&typeof r.schema.items=="object"&&!Array.isArray(r.schema.items)&&(i.__items=tc(r.schema.items,r.isOptional,t)),r.properties)for(const[o,l]of Object.entries(r.properties))Yi(l,[...t,o]),i[o]=tc(r.properties[o],!((s=r.required)!=null&&s.includes(o)),[...t,o]);if(r.additionalProperties&&r.types.includes("object")){const o=rn(r.additionalProperties,r.isOptional,t);if(o.properties&&o.types.includes("object"))for(const[l]of Object.entries(o.properties))i[l]=tc(o.properties[l],!((a=o.required)!=null&&a.includes(l)),[...t,l])}return r.isNullable&&!i.__types.includes("null")&&i.__types.push("null"),r.isOptional&&!i.__types.includes("undefined")&&i.__types.push("undefined"),i}class It extends Error{constructor(e){super(e),Object.setPrototypeOf(this,It.prototype)}}class Gt extends It{constructor(t,r){super((r&&r.length?`[${Array.isArray(r)?r.join("."):r}] `:"")+t);N(this,"path");this.path=Array.isArray(r)?r.join("."):r,Object.setPrototypeOf(this,Gt.prototype)}}function y_(n,e){var i;const t={};function r(s){if("_errors"in t||(t._errors=[]),!Array.isArray(t._errors))if(typeof t._errors=="string")t._errors=[t._errors];else throw new It("Form-level error was not an array.");t._errors.push(s.message)}for(const s of n){if(!s.path||s.path.length==1&&!s.path[0]){r(s);continue}const o=!/^\d$/.test(String(s.path[s.path.length-1]))&&((i=tr(e,s.path.filter(d=>/\D/.test(String(d)))))==null?void 0:i.value),l=Kn(t,s.path,({value:d,parent:h,key:f})=>(d===void 0&&(h[f]={}),h[f]));if(!l){r(s);continue}const{parent:c,key:u}=l;o?(u in c||(c[u]={}),"_errors"in c[u]?c[u]._errors.push(s.message):c[u]._errors=[s.message]):u in c?c[u].push(s.message):c[u]=[s.message]}return t}function ap(n,e,t){return t?n:(sr(e,r=>{Array.isArray(r.value)&&r.set(void 0)}),sr(n,r=>{!Array.isArray(r.value)&&r.value!==void 0||xn(e,[r.path],r.value)}),e)}function x2(n){return b_(n,[])}function b_(n,e){return Object.entries(n).filter(([,r])=>r!==void 0).flatMap(([r,i])=>{if(Array.isArray(i)&&i.length>0){const s=e.concat([r]);return{path:ga(s),messages:i}}else return b_(n[r],e.concat([r]))})}function op(n,e){return n?An.withOptions({mergeArrays:!1},e,n):cn(e)}function w2(n,e,t,r,i){const s=t.additionalProperties&&typeof t.additionalProperties=="object"?{__types:rn(t.additionalProperties,!1,[]).types}:void 0,a=_2(t);function o(h,f,m){const p=m.__types;if(!p.length||p.every(y=>y=="undefined"||y=="null"||y=="any"))return h;if(p.length==1&&p[0]=="array"&&!m.__items)return h;const v=["unix-time","Date","date"];for(const y of p){const _=v_(y,void 0),w=typeof h==typeof _||v.includes(y)&&h instanceof Date;if(w&&(w&&h===null==(_===null)))return h;if(m.__items)return o(h,f,m.__items)}return f===void 0&&p.includes("null")?null:f}function l(){return sr(e,d),u(),n}function c(h,f){xn(n,[h],f)}function u(){var h;for(const f of r)f.path&&d({path:f.path,value:(h=tr(e,f.path))==null?void 0:h.value})}function d(h){const f=h.path;if(!f||!f[0]||typeof f[0]=="string"&&(i!=null&&i.includes(f[0])))return;const m=tr(n,f);if(!m&&h.value!==void 0||m&&m.value===void 0)c(f,h.value);else if(m){const p=h.value,v=m.value;if(p!==void 0&&typeof v==typeof p&&v===null==(p===null))return;const y=f.filter(x=>/\D/.test(String(x))),_=Kn(a,y,x=>"__items"in x.value?x.value.__items:x.value);if(!_)throw new Gt("No types found for defaults",f);const w=_.value??s;w&&c(f,o(v,p,w))}}return l()}function lp(n){n.flashMessage&&Nh(n)&&(document.cookie=`flash=; Max-Age=0; Path=${n.flashMessage.cookiePath??"/"};`)}function Nh(n){return n.flashMessage?n.syncFlashMessage:!1}function Fh(n){const e=JSON.parse(n);return e.data&&(e.data=gy(e.data,rx.decoders)),e}function zf(n){return HTMLElement.prototype.cloneNode.call(n)}function S2(n,e=()=>{}){const t=async({action:i,result:s,reset:a=!0,invalidateAll:o=!0})=>{s.type==="success"&&(a&&HTMLFormElement.prototype.reset.call(n),o&&await my()),(location.origin+location.pathname===i.origin+i.pathname||s.type==="redirect"||s.type==="error")&&await Gl(s)};async function r(i){var p,v,y,_,w;if(((p=i.submitter)!=null&&p.hasAttribute("formmethod")?i.submitter.formMethod:zf(n).method)!=="post")return;i.preventDefault();const a=new URL((v=i.submitter)!=null&&v.hasAttribute("formaction")?i.submitter.formAction:zf(n).action),o=(y=i.submitter)!=null&&y.hasAttribute("formenctype")?i.submitter.formEnctype:zf(n).enctype,l=new FormData(n),c=(_=i.submitter)==null?void 0:_.getAttribute("name");c&&l.append(c,((w=i.submitter)==null?void 0:w.getAttribute("value"))??"");const u=new AbortController;let d=!1;const f=await e({action:a,cancel:()=>d=!0,controller:u,formData:l,formElement:n,submitter:i.submitter})??t;if(d)return;let m;try{const x=new Headers({accept:"application/json","x-sveltekit-action":"true"});o!=="multipart/form-data"&&x.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(o)?o:"application/x-www-form-urlencoded");const k=o==="multipart/form-data"?l:new URLSearchParams(l),A=await fetch(a,{method:"POST",headers:x,cache:"no-store",body:k,signal:u.signal});m=Fh(await A.text()),m.type==="error"&&(m.status=A.status)}catch(x){if((x==null?void 0:x.name)==="AbortError")return;m={type:"error",error:x}}await f({action:a,formData:l,formElement:n,update:x=>t({action:a,result:m,reset:x==null?void 0:x.reset,invalidateAll:x==null?void 0:x.invalidateAll}),result:m})}return HTMLFormElement.prototype.addEventListener.call(n,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(n,"submit",r)}}}const __="noCustomValidity";async function cp(n,e){"setCustomValidity"in n&&n.setCustomValidity(""),!(__ in n.dataset)&&x_(n,e)}function k2(n,e){for(const t of n.querySelectorAll("input,select,textarea,button")){if("dataset"in t&&__ in t.dataset||!t.name)continue;const r=Kn(e,ei(t.name)),i=r&&typeof r.value=="object"&&"_errors"in r.value?r.value._errors:r==null?void 0:r.value;if(x_(t,i),i)return}}function x_(n,e){if(!("setCustomValidity"in n))return;const t=e&&e.length?e.join(`
`):"";n.setCustomValidity(t),t&&n.reportValidity()}const T2=(n,e=0)=>{const t=n.getBoundingClientRect();return t.top>=e&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},P2=(n,e=1.125,t="smooth")=>{const s=n.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*e);window.scrollTo({left:0,top:s,behavior:t})},A2=["checkbox","radio","range","file"];function up(n){const e=!!n&&(n instanceof HTMLSelectElement||n instanceof HTMLInputElement&&A2.includes(n.type)),t=!!n&&n instanceof HTMLSelectElement&&n.multiple,r=!!n&&n instanceof HTMLInputElement&&n.type=="file";return{immediate:e,multiple:t,file:r}}var Xt;(function(n){n[n.Idle=0]="Idle",n[n.Submitting=1]="Submitting",n[n.Delayed=2]="Delayed",n[n.Timeout=3]="Timeout"})(Xt||(Xt={}));const M2=new Set;function O2(n,e,t){let r=Xt.Idle,i,s;const a=M2;function o(){l(),u(r!=Xt.Delayed?Xt.Submitting:Xt.Delayed),i=window.setTimeout(()=>{i&&r==Xt.Submitting&&u(Xt.Delayed)},t.delayMs),s=window.setTimeout(()=>{s&&r==Xt.Delayed&&u(Xt.Timeout)},t.timeoutMs),a.add(l)}function l(){clearTimeout(i),clearTimeout(s),i=s=0,a.delete(l),u(Xt.Idle)}function c(){a.forEach(v=>v()),a.clear()}function u(v){r=v,e.submitting.set(r>=Xt.Submitting),e.delayed.set(r>=Xt.Delayed),e.timeout.set(r>=Xt.Timeout)}const d=n;function h(v){const y=v.target;t.selectErrorText&&y.select()}function f(){t.selectErrorText&&d.querySelectorAll("input").forEach(v=>{v.addEventListener("invalid",h)})}function m(){t.selectErrorText&&d.querySelectorAll("input").forEach(v=>v.removeEventListener("invalid",h))}const p=n;{f();const v=y=>{y.clearAll?c():l(),y.cancelled||setTimeout(()=>Lh(p,t),1)};return wa(()=>{m(),v({cancelled:!0})}),{submitting(){o()},completed:v,scrollToFirstError(){setTimeout(()=>Lh(p,t),1)},isSubmitting:()=>r===Xt.Submitting||r===Xt.Delayed}}}const Lh=async(n,e)=>{if(e.scrollToError=="off")return;const t=e.errorSelector;if(!t)return;await dc();let r;if(r=n.querySelector(t),!r)return;r=r.querySelector(t)??r;const i=e.stickyNavbar?document.querySelector(e.stickyNavbar):null;typeof e.scrollToError!="string"?r.scrollIntoView(e.scrollToError):T2(r,(i==null?void 0:i.offsetHeight)??0)||P2(r,void 0,e.scrollToError);function s(o){return typeof e.autoFocusOnError=="boolean"?e.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(o)}if(!s(navigator.userAgent))return;let a;if(a=r,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(a.tagName)||(a=a.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),a)try{a.focus({preventScroll:!0}),e.selectErrorText&&a.tagName=="INPUT"&&a.select()}catch{}};function Pc(n,e,t){const r=Kn(n,e,({parent:i,key:s,value:a})=>(a===void 0&&(i[s]=/\D/.test(s)?{}:[]),i[s]));if(r){const i=t(r.value);r.parent[r.key]=i}return n}function C2(n,e,t){const r=n.form,i=ei(e),s=lg(r,a=>{const o=Kn(a,i);return o==null?void 0:o.value});return{subscribe(...a){const o=s.subscribe(...a);return()=>o()},update(a,o){r.update(l=>Pc(l,i,a),o??t)},set(a,o){r.update(l=>Pc(l,i,()=>a),o??t)}}}function D2(n,e){const t="form"in n;if(!t&&(e==null?void 0:e.taint)!==void 0)throw new It("If options.taint is set, the whole superForm object must be used as a proxy.");return t}function Ml(n,e,t){const r=ei(e);if(D2(n,t))return C2(n,e,t);const i=lg(n,s=>{const a=Kn(s,r);return a==null?void 0:a.value});return{subscribe(...s){const a=i.subscribe(...s);return()=>a()},update(s){n.update(a=>Pc(a,r,s))},set(s){n.update(a=>Pc(a,r,()=>s))}}}function E2(n,e=[]){const t=jh(n,e);if(!t)throw new Gt("No shape could be created for schema.",e);return t}function jh(n,e){Yi(n,e);const t=rn(n,!1,e);if(t.array||t.union){const r=t.array||[],i=t.union||[];return r.concat(i).reduce((s,a)=>{const o=jh(a,e);return o&&(s={...s??{},...o}),s},r.length?{}:void 0)}if(t.properties){const r={};for(const[i,s]of Object.entries(t.properties)){const a=jh(s,[...e,i]);a&&(r[i]=a)}return r}return t.types.includes("array")||t.types.includes("object")?{}:void 0}function Bh(n){let e={};const t=Array.isArray(n);for(const[r,i]of Object.entries(n))!i||typeof i!="object"||(t?e={...e,...Bh(i)}:e[r]=Bh(i));return e}const Ol=new WeakMap,ts=new WeakMap,w_=n=>{throw n.result.error},I2={applyAction:!0,invalidateAll:!0,resetForm:!0,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:!1,onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:w_,dataType:"form",validators:void 0,customValidity:!1,clearOnSubmit:"message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",SPA:void 0,validationMethod:"auto"};function R2(n){return`Duplicate form id's found: "${n}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set the warnings.duplicateId option to false in superForm to disable this warning. More information: https://superforms.rocks/concepts/multiple-forms`}let S_=!1;try{SUPERFORMS_LEGACY&&(S_=!0)}catch{}let ls=!1;try{globalThis.STORIES&&(ls=!0)}catch{}function k_(n,e){var vr;let t,r=e??{},i;{if((r.legacy??S_)&&(r.resetForm===void 0&&(r.resetForm=!1),r.taintedMessage===void 0&&(r.taintedMessage=!0)),ls&&r.applyAction===void 0&&(r.applyAction=!1),typeof r.SPA=="string"&&(r.invalidateAll===void 0&&(r.invalidateAll=!1),r.applyAction===void 0&&(r.applyAction=!1)),i=r.validators,r={...I2,...r},(r.SPA===!0||typeof r.SPA=="object")&&r.validators===void 0&&console.warn("No validators set for superForm in SPA mode. Add a validation adapter to the validators option, or set it to false to disable this warning."),!n)throw new It("No form data sent to superForm. Make sure the output from superValidate is used (usually data.form) and that it's not null or undefined. Alternatively, an object with default values for the form can also be used, but then constraints won't be available.");c(n)===!1&&(n={id:r.id??Math.random().toString(36).slice(2,10),valid:!1,posted:!1,errors:{},data:n,shape:Bh(n)}),n=n;const M=n.id=r.id??n.id,X=ss(ra)??(ls?{}:void 0);if(((vr=r.warnings)==null?void 0:vr.duplicateId)!==!1)if(!Ol.has(X))Ol.set(X,new Set([M]));else{const se=Ol.get(X);se!=null&&se.has(M)?console.warn(R2(M)):se==null||se.add(M)}if(ts.has(n)||ts.set(n,n),t=ts.get(n),n=cn(t),wa(()=>{var se;Ve(),H(),xt();for(const be of Object.values(Ye))be.length=0;(se=Ol.get(X))==null||se.delete(M)}),r.dataType!=="json"){const se=(be,Ce)=>{if(!(!Ce||typeof Ce!="object")){if(Array.isArray(Ce))Ce.length>0&&se(be,Ce[0]);else if(!(Ce instanceof Date)&&!(Ce instanceof File)&&!(Ce instanceof FileList))throw new It(`Object found in form field "${be}". Set the dataType option to "json" and add use:enhance to use nested data structures. More information: https://superforms.rocks/concepts/nested-data`)}};for(const[be,Ce]of Object.entries(n.data))se(be,Ce)}}const s={formId:n.id,form:cn(n.data),constraints:n.constraints??{},posted:n.posted,errors:cn(n.errors),message:cn(n.message),tainted:void 0,valid:n.valid,submitting:!1,shape:n.shape},a=s,o=_n(r.id??n.id);function l(M){return Object.values(M).filter(se=>c(se)!==!1)}function c(M){return!M||typeof M!="object"||!("valid"in M&&"errors"in M&&typeof M.valid=="boolean")?!1:"id"in M&&typeof M.id=="string"?M.id:!1}const u=_n(n.data),d={subscribe:u.subscribe,set:(M,X={})=>{const se=cn(M);return me(se,X.taint??!0),u.set(se)},update:(M,X={})=>u.update(se=>{const be=M(se);return me(be,X.taint??!0),be})};function h(){return r.SPA===!0||typeof r.SPA=="object"}function f(M){var X;return M>400?M:(typeof r.SPA=="boolean"||typeof r.SPA=="string"||(X=r.SPA)==null?void 0:X.failStatus)||M}async function m(M={}){const X=M.formData??a.form;let se={},be;const Ce=M.adapter??r.validators;if(typeof Ce=="object"){if(Ce!=i&&!("jsonSchema"in Ce))throw new It('Client validation adapter found in options.validators. A full adapter must be used when changing validators dynamically, for example "zod" instead of "zodClient".');if(be=await Ce.validate(X),!be.success)se=y_(be.issues,Ce.shape??a.shape??{});else if(M.recheckValidData!==!1)return m({...M,recheckValidData:!1})}else be={success:!0,data:{}};const Ke={...a.form,...X,...be.success?be.data:{}};return{valid:be.success,posted:!1,errors:se,data:Ke,constraints:a.constraints,message:void 0,id:a.formId,shape:a.shape}}function p(M){if(!r.onChange||!M.paths.length||M.type=="blur")return;let X;const se=M.paths.map(ga);M.type&&M.paths.length==1&&M.formElement&&M.target instanceof Element?X={path:se[0],paths:se,formElement:M.formElement,target:M.target,set(be,Ce,Ke){Ml({form:d},be,Ke).set(Ce)},get(be){return ss(Ml(d,be))}}:X={paths:se,target:void 0,set(be,Ce,Ke){Ml({form:d},be,Ke).set(Ce)},get(be){return ss(Ml(d,be))}},r.onChange(X)}async function v(M,X=!1,se){M&&(r.validators=="clear"&&Y.update(Ke=>(xn(Ke,M.paths,void 0),Ke)),setTimeout(()=>p(M)));let be=!1;if(X||(r.validationMethod=="onsubmit"||r.validationMethod=="submit-only"||r.validationMethod=="onblur"&&(M==null?void 0:M.type)=="input"||r.validationMethod=="oninput"&&(M==null?void 0:M.type)=="blur")&&(be=!0),be||!M||!r.validators||r.validators=="clear"){if(M!=null&&M.paths){const Ke=(M==null?void 0:M.formElement)??je();Ke&&y(Ke)}return}const Ce=await m({adapter:se});return Ce.valid&&(M.immediate||M.type!="input")&&d.set(Ce.data,{taint:"ignore"}),await dc(),_(Ce.errors,M,X),Ce}function y(M){const X=new Map;if(r.customValidity&&M)for(const se of M.querySelectorAll("[name]")){if(typeof se.name!="string"||!se.name.length)continue;const be="validationMessage"in se?String(se.validationMessage):"";X.set(se.name,{el:se,message:be}),cp(se,void 0)}return X}async function _(M,X,se){const{type:be,immediate:Ce,multiple:Ke,paths:hn}=X,Lr=a.errors,wi={};let Zt=new Map;const zt=X.formElement??je();zt&&(Zt=y(zt)),sr(M,Mt=>{if(!Array.isArray(Mt.value))return;const Vt=[...Mt.path];Vt[Vt.length-1]=="_errors"&&Vt.pop();const es=Vt.join(".");function gn(){if(xn(wi,[Mt.path],Mt.value),r.customValidity&&Si&&Zt.has(es)){const{el:on,message:ki}=Zt.get(es);ki!=Mt.value&&(setTimeout(()=>cp(on,Mt.value)),Zt.clear())}}if(se)return gn();const xl=Mt.path[Mt.path.length-1]=="_errors",Si=Mt.value&&hn.some(on=>xl?Vt&&on&&Vt.length>0&&Vt[0]==on[0]:es==on.join("."));if(Si&&r.validationMethod=="oninput"||Ce&&!Ke&&Si)return gn();if(Ke){const on=tr(ss(Y),Mt.path.slice(0,-1));if(on!=null&&on.value&&typeof(on==null?void 0:on.value)=="object"){for(const ki of Object.values(on.value))if(Array.isArray(ki))return gn()}}const yr=tr(Lr,Mt.path);if(yr&&yr.key in yr.parent)return gn();if(xl){if(r.validationMethod=="oninput"||be=="blur"&&re(ga(Mt.path.slice(0,-1))))return gn()}else if(be=="blur"&&Si)return gn()}),Y.set(wi)}function w(M,X={}){return X.keepFiles&&sr(a.form,se=>{if(!(se.parent instanceof FileList)&&(se.value instanceof File||se.value instanceof FileList)){const be=tr(M,se.path);(!be||!(be.key in be.parent))&&xn(M,[se.path],se.value)}}),d.set(M,X)}function x(M,X){return M&&X&&r.resetForm&&(r.resetForm===!0||r.resetForm())}function k(M=!0){let X=a.form,se=a.tainted;if(M){const be=qt(a.form);X=be.data;const Ce=be.paths;Ce.length&&(se=cn(se)??{},xn(se,Ce,!1))}return{valid:a.valid,posted:a.posted,errors:a.errors,data:X,constraints:a.constraints,message:a.message,id:a.formId,tainted:se,shape:a.shape}}async function A(M,X){M.valid&&X&&x(M.valid,X)?C({message:M.message,posted:!0}):Dt({form:M,untaint:X,keepFiles:!0,skipFormData:r.invalidateAll=="force"}),Ye.onUpdated.length&&await dc();for(const se of Ye.onUpdated)se({form:M})}function C(M={}){M.newState&&(t.data={...t.data,...M.newState});const X=cn(t);X.data={...X.data,...M.data},M.id!==void 0&&(X.id=M.id),Dt({form:X,untaint:!0,message:M.message,keepFiles:!1,posted:M.posted,resetted:!0})}async function E(M){if(M.type=="error")throw new It(`ActionResult of type "${M.type}" cannot be passed to update function.`);if(M.type=="redirect"){x(!0,!0)&&C({posted:!0});return}if(typeof M.data!="object")throw new It("Non-object validation data returned from ActionResult.");const X=l(M.data);if(!X.length)throw new It("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const se of X)se.id===a.formId&&await A(se,M.status>=200&&M.status<300)}const R=_n(s.message),U=_n(s.constraints),F=_n(s.posted),B=_n(s.shape),K=_n(n.errors),Y={subscribe:K.subscribe,set(M,X){return K.set(ap(M,a.errors,X==null?void 0:X.force))},update(M,X){return K.update(se=>ap(M(se),a.errors,X==null?void 0:X.force))},clear:()=>Y.set({})};let D=null;function L(M){var X;D&&M&&Object.keys(M).length==1&&((X=M.paths)!=null&&X.length)&&D.target&&D.target instanceof HTMLInputElement&&D.target.type.toLowerCase()=="file"?D.paths=M.paths:D=M,setTimeout(()=>{v(D)},0)}function W(M,X,se,be,Ce){D===null&&(D={paths:[]}),D.type=M,D.immediate=X,D.multiple=se,D.formElement=be,D.target=Ce}function j(){return(D==null?void 0:D.paths)??[]}function H(){D=null}const G={defaultMessage:"Leave page? Changes that you made may not be saved.",state:_n(),message:r.taintedMessage,clean:cn(n.data),forceRedirection:!1};function le(){return r.taintedMessage&&!a.submitting&&!G.forceRedirection&&oe()}function ie(M){if(!le())return;M.preventDefault(),M.returnValue="";const{taintedMessage:X}=r,be=typeof X=="function"||X===!0?G.defaultMessage:X;return(M||window.event).returnValue=be||G.defaultMessage,be}async function he(M){if(!le())return;const{taintedMessage:X}=r,se=typeof X=="function";if(se&&M.cancel(),M.type==="leave")return;const be=se||X===!0?G.defaultMessage:X;let Ce;try{Ce=se?await X():window.confirm(be||G.defaultMessage)}catch{Ce=!1}if(Ce&&M.to)try{G.forceRedirection=!0,await sx(M.to.url,{...M.to.params});return}finally{G.forceRedirection=!1}else!Ce&&!se&&M.cancel()}function _e(){r.taintedMessage=G.message}function Pe(){return G.state}function re(M){if(!a.tainted)return!1;if(!M)return!!a.tainted;const X=tr(a.tainted,ei(M));return!!X&&X.key in X.parent}function oe(M){if(!arguments.length)return ue(a.tainted);if(typeof M=="boolean")return M;if(typeof M=="object")return ue(M);if(!a.tainted||M===void 0)return!1;const X=tr(a.tainted,ei(M));return ue(X==null?void 0:X.value)}function ue(M){if(!M)return!1;if(typeof M=="object"){for(const X of Object.values(M))if(ue(X))return!0}return M===!0}function me(M,X){if(X=="ignore")return;const se=ip(M,a.form),be=ip(M,G.clean).map(Ce=>Ce.join());se.length&&(X=="untaint-all"||X=="untaint-form"?G.state.set(void 0):G.state.update(Ce=>(Ce||(Ce={}),xn(Ce,se,(Ke,hn)=>{if(!be.includes(Ke.join()))return;const Lr=Kn(M,Ke),wi=Kn(G.clean,Ke);return Lr&&wi&&Lr.value===wi.value?void 0:X===!0?!0:X==="untaint"?void 0:hn.value}),Ce)),L({paths:se}))}function ge(M,X){G.state.set(M),X&&(G.clean=X)}const xe=_n(!1),Re=_n(!1),Se=_n(!1),Ne=[G.state.subscribe(M=>s.tainted=cn(M)),d.subscribe(M=>s.form=cn(M)),Y.subscribe(M=>s.errors=cn(M)),o.subscribe(M=>s.formId=M),U.subscribe(M=>s.constraints=M),F.subscribe(M=>s.posted=M),R.subscribe(M=>s.message=M),xe.subscribe(M=>s.submitting=M),B.subscribe(M=>s.shape=M)];function Fe(M){Ne.push(M)}function Ve(){Ne.forEach(M=>M())}let Ie;function je(){return Ie}function tt(M){Ie=document.createElement("form"),Ie.method="POST",Ie.action=M,Bt(Ie),document.body.appendChild(Ie)}function ft(M){Ie&&(Ie.action=M)}function xt(){Ie!=null&&Ie.parentElement&&Ie.remove(),Ie=void 0}const ht=lg(Y,M=>M?x2(M):[]);r.taintedMessage=void 0;function Dt(M){const X=M.form,se=M.message??X.message;if((M.untaint||M.resetted)&&ge(typeof M.untaint=="boolean"?void 0:M.untaint,X.data),M.skipFormData!==!0&&w(X.data,{taint:"ignore",keepFiles:M.keepFiles}),R.set(se),M.resetted?Y.update(()=>({}),{force:!0}):Y.set(X.errors),o.set(X.id),F.set(M.posted??X.posted),X.constraints&&U.set(X.constraints),X.shape&&B.set(X.shape),s.valid=X.valid,r.flashMessage&&Nh(r)){const be=r.flashMessage.module.getFlash(ra);se&&ss(be)===void 0&&be.set(se)}}const Ye={onSubmit:r.onSubmit?[r.onSubmit]:[],onResult:r.onResult?[r.onResult]:[],onUpdate:r.onUpdate?[r.onUpdate]:[],onUpdated:r.onUpdated?[r.onUpdated]:[],onError:r.onError?[r.onError]:[]};window.addEventListener("beforeunload",ie),wa(()=>{window.removeEventListener("beforeunload",ie)}),ix(he),Fe(ra.subscribe(async M=>{ls&&M===void 0&&(M={status:200});const X=M.status>=200&&M.status<300;if(r.applyAction&&M.form&&typeof M.form=="object"){const se=M.form;if(se.type==="error")return;for(const be of l(se)){const Ce=ts.has(be);be.id!==a.formId||Ce||(ts.set(be,be),await A(be,X))}}else if(M.data&&typeof M.data=="object")for(const se of l(M.data)){const be=ts.has(se);if(se.id!==a.formId||be)continue;r.invalidateAll==="force"&&(t.data=se.data);const Ce=x(se.valid,!0);Dt({form:se,untaint:X,keepFiles:!Ce,resetted:Ce})}})),typeof r.SPA=="string"&&tt(r.SPA);function Bt(M,X){if(r.SPA!==void 0&&M.method=="get"&&(M.method="post"),typeof r.SPA=="string"?r.SPA.length&&M.action==document.location.href&&(M.action=r.SPA):Ie=M,X){if(X.onError){if(r.onError==="apply")throw new It('options.onError is set to "apply", cannot add any onError events.');if(X.onError==="apply")throw new It('Cannot add "apply" as onError event in use:enhance.');Ye.onError.push(X.onError)}X.onResult&&Ye.onResult.push(X.onResult),X.onSubmit&&Ye.onSubmit.push(X.onSubmit),X.onUpdate&&Ye.onUpdate.push(X.onUpdate),X.onUpdated&&Ye.onUpdated.push(X.onUpdated)}_e();let se;async function be(Zt){const zt=up(Zt.target);zt.immediate&&!zt.file&&await new Promise(Mt=>setTimeout(Mt,0)),se=j(),W("input",zt.immediate,zt.multiple,M,Zt.target??void 0)}async function Ce(Zt){if(a.submitting||!se||j()!=se)return;const zt=up(Zt.target);zt.immediate&&!zt.file&&await new Promise(Mt=>setTimeout(Mt,0)),v({paths:se,immediate:zt.multiple,multiple:zt.multiple,type:"blur",formElement:M,target:Zt.target??void 0}),se=void 0}M.addEventListener("focusout",Ce),M.addEventListener("input",be),wa(()=>{M.removeEventListener("focusout",Ce),M.removeEventListener("input",be)});const Ke=O2(M,{submitting:xe,delayed:Re,timeout:Se},r);let hn,Lr;const wi=S2(M,async Zt=>{let zt,Mt=r.validators;const Vt={...Zt,jsonData(qe){if(r.dataType!=="json")throw new It("options.dataType must be set to 'json' to use jsonData.");zt=qe},validators(qe){Mt=qe},customRequest(qe){Lr=qe}},es=Vt.cancel;let gn=!1;function yf(qe){const Ge={...qe,posted:!0},it=Ge.valid?200:f(400),Ut={form:Ge},Et=Ge.valid?{type:"success",status:it,data:Ut}:{type:"failure",status:it,data:Ut};setTimeout(()=>ki({result:Et}),0)}function xl(){switch(r.clearOnSubmit){case"errors-and-message":Y.clear(),R.set(void 0);break;case"errors":Y.clear();break;case"message":R.set(void 0);break}}async function Si(qe,Ge){var it;if(qe.status=Ge,r.onError!=="apply"){const Ut={result:qe,message:R,form:n};for(const Et of Ye.onError)Et!=="apply"&&(Et!=w_||!((it=r.flashMessage)!=null&&it.onError))&&await Et(Ut)}r.flashMessage&&r.flashMessage.onError&&await r.flashMessage.onError({result:qe,flashMessage:r.flashMessage.module.getFlash(ra)}),r.applyAction&&(r.onError=="apply"?await Gl(qe):await Gl({type:"failure",status:f(qe.status),data:qe}))}function yr(qe={resetTimers:!0}){return gn=!0,qe.resetTimers&&Ke.isSubmitting()&&Ke.completed({cancelled:gn}),es()}if(Vt.cancel=yr,Ke.isSubmitting()&&r.multipleSubmits=="prevent")yr({resetTimers:!1});else{Ke.isSubmitting()&&r.multipleSubmits=="abort"&&hn&&hn.abort(),Ke.submitting(),hn=Vt.controller;for(const qe of Ye.onSubmit)try{await qe(Vt)}catch(Ge){yr(),Si({type:"error",error:Ge},500)}}if(gn&&r.flashMessage&&lp(r),!gn){const qe=!h()&&(M.noValidate||(Vt.submitter instanceof HTMLButtonElement||Vt.submitter instanceof HTMLInputElement)&&Vt.submitter.formNoValidate);let Ge;const it=async()=>await m({adapter:Mt});if(xl(),qe||(Ge=await it(),Ge.valid||(yr({resetTimers:!1}),yf(Ge))),!gn){r.flashMessage&&(r.clearOnSubmit=="errors-and-message"||r.clearOnSubmit=="message")&&Nh(r)&&r.flashMessage.module.getFlash(ra).set(void 0);const Ut="formData"in Vt?Vt.formData:Vt.data;if(se=void 0,h())Ge||(Ge=await it()),yr({resetTimers:!1}),yf(Ge);else if(r.dataType==="json"){Ge||(Ge=await it());const Et=cn(zt??Ge.data);sr(Et,st=>{if(st.value instanceof File){const Rt="__superform_file_"+ga(st.path);return Ut.append(Rt,st.value),st.set(void 0)}else if(Array.isArray(st.value)&&st.value.length&&st.value.every(Rt=>Rt instanceof File)){const Rt="__superform_files_"+ga(st.path);for(const bn of st.value)Ut.append(Rt,bn);return st.set(void 0)}}),Object.keys(Et).forEach(st=>{typeof Ut.get(st)=="string"&&Ut.delete(st)});const Ti=r.transport?Object.fromEntries(Object.entries(r.transport).map(([st,Rt])=>[st,Rt.encode])):void 0,wl=on(Cw(Et,Ti),r.jsonChunkSize??5e5);for(const st of wl)Ut.append("__superform_json",st)}if(!Ut.has("__superform_id")){const Et=a.formId;Et!==void 0&&Ut.set("__superform_id",Et)}typeof r.SPA=="string"&&ft(r.SPA)}}function on(qe,Ge){const it=Math.ceil(qe.length/Ge),Ut=new Array(it);for(let Et=0,Ti=0;Et<it;++Et,Ti+=Ge)Ut[Et]=qe.substring(Ti,Ti+Ge);return Ut}async function ki(qe){let Ge=!1;hn=null;let it="type"in qe.result&&"status"in qe.result?qe.result:{type:"error",status:f(parseInt(String(qe.result.status))||500),error:qe.result.error instanceof Error?qe.result.error:qe.result};const Ut=()=>Ge=!0,Et={result:it,formEl:M,formElement:M,cancel:Ut},Ti=ls||!h()?()=>{}:rp.subscribe(st=>{var Rt,bn;!st||((Rt=st.from)==null?void 0:Rt.route.id)===((bn=st.to)==null?void 0:bn.route.id)||Ut()});function wl(st,Rt,bn){Rt.result={type:"error",error:st,status:f(bn)}}for(const st of Ye.onResult)try{await st(Et)}catch(Rt){wl(Rt,Et,Math.max(it.status??500,400))}if(it=Et.result,!Ge){if((it.type==="success"||it.type==="failure")&&it.data){const st=l(it.data);if(!st.length)throw new It("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const Rt of st){if(Rt.id!==a.formId)continue;const bn={form:Rt,formEl:M,formElement:M,cancel:()=>Ge=!0,result:it};for(const bf of Ye.onUpdate)try{await bf(bn)}catch(G0){wl(G0,bn,Math.max(it.status??500,400))}it=bn.result,Ge||(r.customValidity&&k2(M,bn.form.errors),x(bn.form.valid,it.type=="success")&&bn.formElement.querySelectorAll('input[type="file"]').forEach(bf=>bf.value=""))}}Ge||(it.type!=="error"?(it.type==="success"&&r.invalidateAll&&await my(),r.applyAction?await Gl(it):await E(it)):await Si(it,Math.max(it.status??500,400)))}if(Ge&&r.flashMessage&&lp(r),Ge||it.type!="redirect")Ke.completed({cancelled:Ge});else if(ls)Ke.completed({cancelled:Ge,clearAll:!0});else{const st=rp.subscribe(Rt=>{Rt||(setTimeout(()=>{try{st&&st()}catch{}}),Ke.isSubmitting()&&Ke.completed({cancelled:Ge,clearAll:!0}))})}Ti()}if(!gn&&Lr){es();const qe=await Lr(Zt);let Ge;qe instanceof Response?Ge=Fh(await qe.text()):qe instanceof XMLHttpRequest?Ge=Fh(qe.responseText):Ge=qe,Ge.type==="error"&&(Ge.status=qe.status),ki({result:Ge})}return ki});return{destroy:()=>{for(const[Zt,zt]of Object.entries(Ye))Ye[Zt]=zt.filter(Mt=>Mt===r[Zt]);wi.destroy()}}}function qt(M){const X=[];if(sr(M,be=>{if(be.value instanceof File)return X.push(be.path),"skip";if(Array.isArray(be.value)&&be.value.length&&be.value.every(Ce=>Ce instanceof File))return X.push(be.path),"skip"}),!X.length)return{data:M,paths:X};const se=cn(M);return xn(se,X,be=>{var Ce;return(Ce=tr(t.data,be))==null?void 0:Ce.value}),{data:se,paths:X}}return{form:d,formId:o,errors:Y,message:R,constraints:U,tainted:Pe(),submitting:xf(xe),delayed:xf(Re),timeout:xf(Se),options:r,capture:k,restore:M=>{Dt({form:M,untaint:M.tainted??!0})},async validate(M,X={}){if(!r.validators)throw new It("options.validators must be set to use the validate method.");X.update===void 0&&(X.update=!0),X.taint===void 0&&(X.taint=!1),typeof X.errors=="string"&&(X.errors=[X.errors]);let se;const be=ei(M);"value"in X?X.update===!0||X.update==="value"?(d.update(hn=>(xn(hn,[be],X.value),hn),{taint:X.taint}),se=a.form):(se=cn(a.form),xn(se,[be],X.value)):se=a.form;const Ce=await m({formData:se}),Ke=tr(Ce.errors,be);return Ke&&Ke.value&&X.errors&&(Ke.value=X.errors),(X.update===!0||X.update=="errors")&&Y.update(hn=>(xn(hn,[be],Ke==null?void 0:Ke.value),hn)),Ke==null?void 0:Ke.value},async validateForm(M={}){if(!r.validators&&!M.schema)throw new It("options.validators or the schema option must be set to use the validateForm method.");const X=M.update?await v({paths:[]},!0,M.schema):m({adapter:M.schema}),se=je();return M.update&&se&&setTimeout(()=>{se&&Lh(se,{...r,scrollToError:M.focusOnError===!1?"off":r.scrollToError})},1),X||m({adapter:M.schema})},allErrors:ht,posted:F,reset(M){return C({message:M!=null&&M.keepMessage?a.message:void 0,data:M==null?void 0:M.data,id:M==null?void 0:M.id,newState:M==null?void 0:M.newState})},submit(M){const X=je()?je():M&&M instanceof HTMLElement?M.closest("form"):void 0;if(!X)throw new It("use:enhance must be added to the form to use submit, or pass a HTMLElement inside the form (or the form itself) as an argument.");if(!X.requestSubmit)return X.submit();const se=M&&(M instanceof HTMLButtonElement&&M.type=="submit"||M instanceof HTMLInputElement&&["submit","image"].includes(M.type));X.requestSubmit(se?M:void 0)},isTainted:oe,enhance:Bt}}new TextEncoder;function N2(n){return nc(rn(n,!1,[]),[])}function Vf(...n){const e=n.filter(t=>!!t);if(e.length)return e.length==1?e[0]:An(...e)}function nc(n,e){var r;if(!n)return;let t;if(n.union&&n.union.length){const i=n.union.map(a=>rn(a,n.isOptional,e)),s=i.map(a=>nc(a,e));t=Vf(t,...s),t&&(n.isNullable||n.isOptional||i.some(a=>(a==null?void 0:a.isNullable)||(a==null?void 0:a.isOptional)))&&delete t.required}if(n.array&&(t=Vf(t,...n.array.map(i=>nc(rn(i,n.isOptional,e),e)))),n.properties){const i={};for(const[s,a]of Object.entries(n.properties)){const o=rn(a,!((r=n.required)!=null&&r.includes(s))||a.default!==void 0,[s]),l=nc(o,[...e,s]);typeof l=="object"&&Object.values(l).length>0&&(i[s]=l)}t=Vf(t,i)}return t??F2(n)}function F2(n){const e={},t=n.schema,r=t.type,i=t.format;if(r=="integer"&&i=="unix-time"){const s=t;s.minimum!==void 0&&(e.min=new Date(s.minimum).toISOString()),s.maximum!==void 0&&(e.max=new Date(s.maximum).toISOString())}else if(r=="string"){const s=t,a=[s.pattern,...s.allOf?s.allOf.map(o=>typeof o=="boolean"?void 0:o.pattern):[]].filter(o=>o!==void 0);a.length>0&&(e.pattern=a[0]),s.minLength!==void 0&&(e.minlength=s.minLength),s.maxLength!==void 0&&(e.maxlength=s.maxLength)}else if(r=="number"||r=="integer"){const s=t;s.minimum!==void 0?e.min=s.minimum:s.exclusiveMinimum!==void 0&&(e.min=s.exclusiveMinimum+(r=="integer"?1:Number.MIN_VALUE)),s.maximum!==void 0?e.max=s.maximum:s.exclusiveMaximum!==void 0&&(e.max=s.exclusiveMaximum-(r=="integer"?1:Number.MIN_VALUE)),s.multipleOf!==void 0&&(e.step=s.multipleOf)}else if(r=="array"){const s=t;s.minItems!==void 0&&(e.min=s.minItems),s.maxItems!==void 0&&(e.max=s.maxItems)}return!n.isNullable&&!n.isOptional&&(e.required=!0),Object.keys(e).length>0?e:void 0}function L2(n){return j2(zh(rn(n,!1,[]),0,[]))}function zh(n,e,t){var a;if(!n)return"";function r(){return"  ".repeat(e)}function i(o){return o.map(l=>zh(rn(l,(n==null?void 0:n.isOptional)??!1,t),e+1,t)).filter(l=>l).join("|")}function s(){const o=[];return n!=null&&n.isNullable&&o.push("null"),n!=null&&n.isOptional&&o.push("undefined"),o.length?"|"+o.join("|"):""}if(n.union)return`Union {
  `+r()+i(n.union)+`
`+r()+"}"+s();if(n.properties){const o=[];for(const[l,c]of Object.entries(n.properties)){const u=rn(c,!((a=n.required)!=null&&a.includes(l))||c.default!==void 0,[l]);o.push(l+": "+zh(u,e+1,t))}return`Object {
  `+r()+o.join(`,
  `)+`
`+r()+"}"+s()}return n.array?"Array["+i(n.array)+"]"+s():n.types.join("|")+s()}function j2(n){let e=0;for(let t=0,r=n.length;t<r;t++){const i=n.charCodeAt(t);e=(e<<5)-e+i,e|=0}return e<0&&(e=e>>>0),e.toString(36)}function B2(n,e){if(!n||!("superFormValidationLibrary"in n))throw new It('Superforms v2 requires a validation adapter for the schema. Import one of your choice from "sveltekit-superforms/adapters" and wrap the schema with it.');return e||(e=n.jsonSchema),{...n,constraints:n.constraints??N2(e),defaults:n.defaults??p_(e),shape:E2(e),id:L2(e)}}let T_=!1;try{SUPERFORMS_LEGACY&&(T_=!0)}catch{}const dp='FormData parsing failed: Unions are only supported when the dataType option for superForm is set to "json".';async function z2(n,e,t){let r;return n instanceof FormData?r=Gg(n,e,t):n instanceof URL||n instanceof URLSearchParams?r=V2(n,e,t):n instanceof Request?r=await fp(n,e,t):n&&typeof n=="object"&&"request"in n&&n.request instanceof Request?r=await fp(n.request,e,t):r={id:void 0,data:n,posted:!1},r}async function fp(n,e,t){let r;try{r=await n.formData()}catch(i){if(i instanceof TypeError&&i.message.includes("already been consumed"))throw i;return{id:void 0,data:void 0,posted:!1}}return Gg(r,e,t)}function V2(n,e,t){n instanceof URL&&(n=n.searchParams);const r=new FormData;for(const[s,a]of n.entries())r.append(s,a);const i=Gg(r,e,t);return i.posted=!1,i}function Gg(n,e,t){var a;function r(){if(n.has("__superform_json"))try{const o=t&&t.transport?Object.fromEntries(Object.entries(t.transport).map(([c,u])=>[c,u.decode])):void 0,l=gy(n.getAll("__superform_json").join("")??"",o);if(typeof l=="object"){const c=Array.from(n.keys());for(const u of c.filter(d=>d.startsWith("__superform_file_"))){const d=ei(u.substring(17));xn(l,[d],n.get(u))}for(const u of c.filter(d=>d.startsWith("__superform_files_"))){const d=ei(u.substring(18)),h=n.getAll(u);xn(l,[d],Array.from(h))}return l}}catch{}return null}const i=r(),s=(a=n.get("__superform_id"))==null?void 0:a.toString();return i?{id:s,data:i,posted:!0}:{id:s,data:U2(n,e,t),posted:!0}}function U2(n,e,t){var o,l,c,u;const r={};let i;if(t!=null&&t.strict)i=new Set([...n.keys()].filter(d=>!d.startsWith("__superform_")));else{let d=[];if(e.anyOf){const h=rn(e,!1,[]);if((o=h.union)!=null&&o.some(f=>f.type!=="object"))throw new Gt("All form types must be an object if schema is a union.");d=((l=h.union)==null?void 0:l.flatMap(f=>Object.keys(f.properties??{})))??[]}i=new Set([...d,...Object.keys(e.properties??{}),...e.additionalProperties?n.keys():[]].filter(h=>!h.startsWith("__superform_")))}function s(d,h,f){if(t!=null&&t.preprocessed&&t.preprocessed.includes(d))return h;if(h&&typeof h!="string")return(T_?(t==null?void 0:t.allowFiles)===!0:(t==null?void 0:t.allowFiles)!==!1)?h.size?h:f.isNullable?null:void 0:void 0;if(f.types.length>1)throw new Gt(dp,d);const[m]=f.types;return W2(d,h,m??"any",f)}const a=typeof e.additionalProperties=="object"?e.additionalProperties:{type:"string"};for(const d of i){const h=e.properties?e.properties[d]:a;Yi(h,d);const f=rn(h??a,!((c=e.required)!=null&&c.includes(d)),[d]);if(!f||!f.types.includes("boolean")&&!e.additionalProperties&&!n.has(d))continue;const m=n.getAll(d);if(f.union&&f.union.length>1)throw new Gt(dp,d);if(f.types.includes("array")||f.types.includes("set")){const p=h.items??(((u=f.union)==null?void 0:u.length)==1?f.union[0]:void 0);if(!p||typeof p=="boolean"||Array.isArray(p)&&p.length!=1)throw new Gt('Arrays must have a single "items" property that defines its type.',d);const v=Array.isArray(p)?p[0]:p;Yi(v,d);const y=rn(v,f.isOptional,[d]);if(!y)continue;const _=m.length&&m.some(x=>x&&typeof x!="string"),w=m.map(x=>s(d,x,y));_&&w.every(x=>!x)&&(w.length=0),r[d]=f.types.includes("set")?new Set(w):w}else r[d]=s(d,m[m.length-1],f)}return r}function W2(n,e,t,r){if(!e){if(t=="boolean"&&r.isOptional&&r.schema.default===!0)return!1;const s=p_(r.schema,r.isOptional,[n]);if(r.schema.enum&&s!==null&&s!==void 0)return e;if(s!==void 0)return s;if(r.isNullable)return null;if(r.isOptional)return}function i(){throw new Gt(t[0].toUpperCase()+t.slice(1)+' type found. Set the dataType option to "json" and add use:enhance on the client to use nested data structures. More information: https://superforms.rocks/concepts/nested-data',n)}switch(t){case"string":case"any":return e;case"integer":return parseInt(e??"",10);case"number":return parseFloat(e??"");case"boolean":return(!!(e!="false"&&e)).valueOf();case"unix-time":{const s=new Date(e??"");return isNaN(s)?void 0:s}case"int64":case"bigint":return BigInt(e??".");case"symbol":return Symbol(String(e));case"set":case"array":case"object":return i();default:throw new It("Unsupported schema type for FormData: "+t)}}async function hp(n,e,t){n&&"superFormValidationLibrary"in n&&(t=e,e=n,n=void 0);const r=e,i=(t==null?void 0:t.defaults)??r.defaults,s=r.jsonSchema,a=await z2(n,s,t),o=(t==null?void 0:t.errors)??(t!=null&&t.strict?!0:!!a.data),l=t!=null&&t.strict?a.data??{}:op(a.data,i);let c;a.data||o?c=await r.validate(l):c={success:!1,issues:[]};const u=c.success,d=u||!o?{}:y_(c.issues,r.shape),h=u?c.data:w2(t!=null&&t.strict?op(l,i):l,i,s,c.issues,t==null?void 0:t.preprocessed);let f;if(s.additionalProperties===!1){f={};for(const p of Object.keys(s.properties??{}))p in h&&(f[p]=h[p])}else f=h;const m={id:a.id??(t==null?void 0:t.id)??r.id,valid:u,posted:a.posted,errors:d,data:f};return a.posted||(m.constraints=r.constraints,Object.keys(r.shape).length&&(m.shape=r.shape)),m}function af(n){return typeof n!="object"&&typeof n!="function"||n===null}function mi(){this.childBranches=new WeakMap,this.primitiveKeys=new Map,this.hasValue=!1,this.value=void 0}mi.prototype.has=function(e){var t=af(e)?this.primitiveKeys.get(e):e;return t?this.childBranches.has(t):!1};mi.prototype.get=function(e){var t=af(e)?this.primitiveKeys.get(e):e;return t?this.childBranches.get(t):void 0};mi.prototype.resolveBranch=function(e){if(this.has(e))return this.get(e);var t=new mi,r=this.createKey(e);return this.childBranches.set(r,t),t};mi.prototype.setValue=function(e){return this.hasValue=!0,this.value=e};mi.prototype.createKey=function(e){if(af(e)){var t={};return this.primitiveKeys.set(e,t),t}return e};mi.prototype.clear=function(){if(arguments.length===0)this.childBranches=new WeakMap,this.primitiveKeys.clear(),this.hasValue=!1,this.value=void 0;else if(arguments.length===1){var e=arguments[0];if(af(e)){var t=this.primitiveKeys.get(e);t&&(this.childBranches.delete(t),this.primitiveKeys.delete(e))}else this.childBranches.delete(e)}else{var r=arguments[0];if(this.has(r)){var i=this.get(r);i.clear.apply(i,Array.prototype.slice.call(arguments,1))}}};var H2=function(e){var t=new mi;function r(){var i=Array.prototype.slice.call(arguments),s=i.reduce(function(l,c){return l.resolveBranch(c)},t);if(s.hasValue)return s.value;var a=e.apply(null,i);return s.setValue(a)}return r.clear=t.clear.bind(t),r},Z2=H2;const Y2=fg(Z2),P_=Y2,$2=Symbol("Let zodToJsonSchema decide on which parser to use"),gp={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},G2=n=>typeof n=="string"?{...gp,name:n}:{...gp,...n},K2=n=>{const e=G2(n),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function A_(n,e,t,r){r!=null&&r.errorMessages&&t&&(n.errorMessage={...n.errorMessage,[e]:t})}function dt(n,e,t,r,i){n[e]=t,A_(n,e,r,i)}function q2(){return{}}function X2(n,e){var r,i,s;const t={type:"array"};return(r=n.type)!=null&&r._def&&((s=(i=n.type)==null?void 0:i._def)==null?void 0:s.typeName)!==fe.ZodAny&&(t.items=at(n.type._def,{...e,currentPath:[...e.currentPath,"items"]})),n.minLength&&dt(t,"minItems",n.minLength.value,n.minLength.message,e),n.maxLength&&dt(t,"maxItems",n.maxLength.value,n.maxLength.message,e),n.exactLength&&(dt(t,"minItems",n.exactLength.value,n.exactLength.message,e),dt(t,"maxItems",n.exactLength.value,n.exactLength.message,e)),t}function J2(n,e){const t={type:"integer",format:"int64"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?dt(t,"minimum",r.value,r.message,e):dt(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),dt(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?dt(t,"maximum",r.value,r.message,e):dt(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),dt(t,"maximum",r.value,r.message,e));break;case"multipleOf":dt(t,"multipleOf",r.value,r.message,e);break}return t}function Q2(){return{type:"boolean"}}function M_(n,e){return at(n.type._def,e)}const eO=(n,e)=>at(n.innerType._def,e);function O_(n,e,t){const r=t??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,s)=>O_(n,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return tO(n,e)}}const tO=(n,e)=>{const t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(const r of n.checks)switch(r.kind){case"min":dt(t,"minimum",r.value,r.message,e);break;case"max":dt(t,"maximum",r.value,r.message,e);break}return t};function nO(n,e){return{...at(n.innerType._def,e),default:n.defaultValue()}}function rO(n,e){return e.effectStrategy==="input"?at(n.schema._def,e):{}}function iO(n){return{type:"string",enum:Array.from(n.values)}}const sO=n=>"type"in n&&n.type==="string"?!1:"allOf"in n;function aO(n,e){const t=[at(n.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),at(n.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(s=>!!s);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return t.forEach(s=>{if(sO(s))i.push(...s.allOf),s.unevaluatedProperties===void 0&&(r=void 0);else{let a=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:o,...l}=s;a=l}else r=void 0;i.push(a)}}),i.length?{allOf:i,...r}:void 0}function oO(n,e){const t=typeof n.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(n.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[n.value]}:{type:t==="bigint"?"integer":t,const:n.value}}let Uf;const Ln={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Uf===void 0&&(Uf=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Uf),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function C_(n,e){const t={type:"string"};if(n.checks)for(const r of n.checks)switch(r.kind){case"min":dt(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,r.value):r.value,r.message,e);break;case"max":dt(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":jn(t,"email",r.message,e);break;case"format:idn-email":jn(t,"idn-email",r.message,e);break;case"pattern:zod":ln(t,Ln.email,r.message,e);break}break;case"url":jn(t,"uri",r.message,e);break;case"uuid":jn(t,"uuid",r.message,e);break;case"regex":ln(t,r.regex,r.message,e);break;case"cuid":ln(t,Ln.cuid,r.message,e);break;case"cuid2":ln(t,Ln.cuid2,r.message,e);break;case"startsWith":ln(t,RegExp(`^${Wf(r.value,e)}`),r.message,e);break;case"endsWith":ln(t,RegExp(`${Wf(r.value,e)}$`),r.message,e);break;case"datetime":jn(t,"date-time",r.message,e);break;case"date":jn(t,"date",r.message,e);break;case"time":jn(t,"time",r.message,e);break;case"duration":jn(t,"duration",r.message,e);break;case"length":dt(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,r.value):r.value,r.message,e),dt(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,r.value):r.value,r.message,e);break;case"includes":{ln(t,RegExp(Wf(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&jn(t,"ipv4",r.message,e),r.version!=="v4"&&jn(t,"ipv6",r.message,e);break}case"base64url":ln(t,Ln.base64url,r.message,e);break;case"jwt":ln(t,Ln.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&ln(t,Ln.ipv4Cidr,r.message,e),r.version!=="v4"&&ln(t,Ln.ipv6Cidr,r.message,e);break}case"emoji":ln(t,Ln.emoji(),r.message,e);break;case"ulid":{ln(t,Ln.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{jn(t,"binary",r.message,e);break}case"contentEncoding:base64":{dt(t,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{ln(t,Ln.base64,r.message,e);break}}break}case"nanoid":ln(t,Ln.nanoid,r.message,e)}return t}function Wf(n,e){return e.patternStrategy==="escape"?cO(n):n}const lO=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function cO(n){let e="";for(let t=0;t<n.length;t++)lO.has(n[t])||(e+="\\"),e+=n[t];return e}function jn(n,e,t,r){var i;n.format||(i=n.anyOf)!=null&&i.some(s=>s.format)?(n.anyOf||(n.anyOf=[]),n.format&&(n.anyOf.push({format:n.format,...n.errorMessage&&r.errorMessages&&{errorMessage:{format:n.errorMessage.format}}}),delete n.format,n.errorMessage&&(delete n.errorMessage.format,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.anyOf.push({format:e,...t&&r.errorMessages&&{errorMessage:{format:t}}})):dt(n,"format",e,t,r)}function ln(n,e,t,r){var i;n.pattern||(i=n.allOf)!=null&&i.some(s=>s.pattern)?(n.allOf||(n.allOf=[]),n.pattern&&(n.allOf.push({pattern:n.pattern,...n.errorMessage&&r.errorMessages&&{errorMessage:{pattern:n.errorMessage.pattern}}}),delete n.pattern,n.errorMessage&&(delete n.errorMessage.pattern,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.allOf.push({pattern:mp(e,r),...t&&r.errorMessages&&{errorMessage:{pattern:t}}})):dt(n,"pattern",mp(e,r),t,r)}function mp(n,e){var l;if(!e.applyRegexFlags||!n.flags)return n.source;const t={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},r=t.i?n.source.toLowerCase():n.source;let i="",s=!1,a=!1,o=!1;for(let c=0;c<r.length;c++){if(s){i+=r[c],s=!1;continue}if(t.i){if(a){if(r[c].match(/[a-z]/)){o?(i+=r[c],i+=`${r[c-2]}-${r[c]}`.toUpperCase(),o=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(i+=r[c],o=!0):i+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){i+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(t.m){if(r[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(t.s&&r[c]==="."){i+=a?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}i+=r[c],r[c]==="\\"?s=!0:a&&r[c]==="]"?a=!1:!a&&r[c]==="["&&(a=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return i}function D_(n,e){var r,i,s,a,o,l;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=n.keyType)==null?void 0:r._def.typeName)===fe.ZodEnum)return{type:"object",required:n.keyType._def.values,properties:n.keyType._def.values.reduce((c,u)=>({...c,[u]:at(n.valueType._def,{...e,currentPath:[...e.currentPath,"properties",u]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};const t={type:"object",additionalProperties:at(n.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return t;if(((i=n.keyType)==null?void 0:i._def.typeName)===fe.ZodString&&((s=n.keyType._def.checks)!=null&&s.length)){const{type:c,...u}=C_(n.keyType._def,e);return{...t,propertyNames:u}}else{if(((a=n.keyType)==null?void 0:a._def.typeName)===fe.ZodEnum)return{...t,propertyNames:{enum:n.keyType._def.values}};if(((o=n.keyType)==null?void 0:o._def.typeName)===fe.ZodBranded&&n.keyType._def.type._def.typeName===fe.ZodString&&((l=n.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...u}=M_(n.keyType._def,e);return{...t,propertyNames:u}}}return t}function uO(n,e){if(e.mapStrategy==="record")return D_(n,e);const t=at(n.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=at(n.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[t,r],minItems:2,maxItems:2}}}function dO(n){const e=n.values,r=Object.keys(n.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),i=Array.from(new Set(r.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function fO(){return{not:{}}}function hO(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Ac={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function gO(n,e){if(e.target==="openApi3")return pp(n,e);const t=n.options instanceof Map?Array.from(n.options.values()):n.options;if(t.every(r=>r._def.typeName in Ac&&(!r._def.checks||!r._def.checks.length))){const r=t.reduce((i,s)=>{const a=Ac[s._def.typeName];return a&&!i.includes(a)?[...i,a]:i},[]);return{type:r.length>1?r:r[0]}}else if(t.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=t.reduce((i,s)=>{const a=typeof s._def.value;switch(a){case"string":case"number":case"boolean":return[...i,a];case"bigint":return[...i,"integer"];case"object":if(s._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===t.length){const i=r.filter((s,a,o)=>o.indexOf(s)===a);return{type:i.length>1?i:i[0],enum:t.reduce((s,a)=>s.includes(a._def.value)?s:[...s,a._def.value],[])}}}else if(t.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((r,i)=>[...r,...i._def.values.filter(s=>!r.includes(s))],[])};return pp(n,e)}const pp=(n,e)=>{const t=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((r,i)=>at(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return t.length?{anyOf:t}:void 0};function mO(n,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return e.target==="openApi3"?{type:Ac[n.innerType._def.typeName],nullable:!0}:{type:[Ac[n.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=at(n.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const t=at(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}function pO(n,e){const t={type:"number"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"int":t.type="integer",A_(t,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?dt(t,"minimum",r.value,r.message,e):dt(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),dt(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?dt(t,"maximum",r.value,r.message,e):dt(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),dt(t,"maximum",r.value,r.message,e));break;case"multipleOf":dt(t,"multipleOf",r.value,r.message,e);break}return t}function vO(n,e){const t=e.target==="openAi",r={type:"object",properties:{}},i=[],s=n.shape();for(const o in s){let l=s[o];if(l===void 0||l._def===void 0)continue;let c=bO(l);c&&t&&(l instanceof Hn&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const u=at(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});u!==void 0&&(r.properties[o]=u,c||i.push(o))}i.length&&(r.required=i);const a=yO(n,e);return a!==void 0&&(r.additionalProperties=a),r}function yO(n,e){if(n.catchall._def.typeName!=="ZodNever")return at(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(n.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function bO(n){try{return n.isOptional()}catch{return!0}}const _O=(n,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return at(n.innerType._def,e);const t=at(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:{}},t]}:{}},xO=(n,e)=>{if(e.pipeStrategy==="input")return at(n.in._def,e);if(e.pipeStrategy==="output")return at(n.out._def,e);const t=at(n.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=at(n.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,r].filter(i=>i!==void 0)}};function wO(n,e){return at(n.type._def,e)}function SO(n,e){const r={type:"array",uniqueItems:!0,items:at(n.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return n.minSize&&dt(r,"minItems",n.minSize.value,n.minSize.message,e),n.maxSize&&dt(r,"maxItems",n.maxSize.value,n.maxSize.message,e),r}function kO(n,e){return n.rest?{type:"array",minItems:n.items.length,items:n.items.map((t,r)=>at(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[]),additionalItems:at(n.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:n.items.length,maxItems:n.items.length,items:n.items.map((t,r)=>at(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[])}}function TO(){return{not:{}}}function PO(){return{}}const AO=(n,e)=>at(n.innerType._def,e),MO=(n,e,t)=>{switch(e){case fe.ZodString:return C_(n,t);case fe.ZodNumber:return pO(n,t);case fe.ZodObject:return vO(n,t);case fe.ZodBigInt:return J2(n,t);case fe.ZodBoolean:return Q2();case fe.ZodDate:return O_(n,t);case fe.ZodUndefined:return TO();case fe.ZodNull:return hO(t);case fe.ZodArray:return X2(n,t);case fe.ZodUnion:case fe.ZodDiscriminatedUnion:return gO(n,t);case fe.ZodIntersection:return aO(n,t);case fe.ZodTuple:return kO(n,t);case fe.ZodRecord:return D_(n,t);case fe.ZodLiteral:return oO(n,t);case fe.ZodEnum:return iO(n);case fe.ZodNativeEnum:return dO(n);case fe.ZodNullable:return mO(n,t);case fe.ZodOptional:return _O(n,t);case fe.ZodMap:return uO(n,t);case fe.ZodSet:return SO(n,t);case fe.ZodLazy:return()=>n.getter()._def;case fe.ZodPromise:return wO(n,t);case fe.ZodNaN:case fe.ZodNever:return fO();case fe.ZodEffects:return rO(n,t);case fe.ZodAny:return q2();case fe.ZodUnknown:return PO();case fe.ZodDefault:return nO(n,t);case fe.ZodBranded:return M_(n,t);case fe.ZodReadonly:return AO(n,t);case fe.ZodCatch:return eO(n,t);case fe.ZodPipeline:return xO(n,t);case fe.ZodFunction:case fe.ZodVoid:case fe.ZodSymbol:return;default:return(r=>{})()}};function at(n,e,t=!1){var o;const r=e.seen.get(n);if(e.override){const l=(o=e.override)==null?void 0:o.call(e,n,e,r,t);if(l!==$2)return l}if(r&&!t){const l=OO(r,e);if(l!==void 0)return l}const i={def:n,path:e.currentPath,jsonSchema:void 0};e.seen.set(n,i);const s=MO(n,n.typeName,e),a=typeof s=="function"?at(s(),e):s;if(a&&DO(n,e,a),e.postProcess){const l=e.postProcess(a,n,e);return i.jsonSchema=a,l}return i.jsonSchema=a,a}const OO=(n,e)=>{switch(e.$refStrategy){case"root":return{$ref:n.path.join("/")};case"relative":return{$ref:CO(e.currentPath,n.path)};case"none":case"seen":return n.path.length<e.currentPath.length&&n.path.every((t,r)=>e.currentPath[r]===t)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},CO=(n,e)=>{let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];t++);return[(n.length-t).toString(),...e.slice(t)].join("/")},DO=(n,e,t)=>(n.description&&(t.description=n.description,e.markdownDescription&&(t.markdownDescription=n.description)),t),EO=(n,e)=>{const t=K2(e),r=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[c,u])=>({...l,[c]:at(u._def,{...t,currentPath:[...t.basePath,t.definitionPath,c]},!0)??{}}),{}):void 0,i=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,s=at(n._def,i===void 0?t:{...t,currentPath:[...t.basePath,t.definitionPath,i]},!1)??{},a=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;a!==void 0&&(s.title=a);const o=i===void 0?r?{...s,[t.definitionPath]:r}:s:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,i].join("/"),[t.definitionPath]:{...r,[i]:s}};return t.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(t.target==="jsonSchema2019-09"||t.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),t.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o},vp={dateStrategy:"integer",pipeStrategy:"output",$refStrategy:"none"},IO=(...n)=>(n[1]=typeof n[1]=="object"?{...vp,...n[1]}:vp,EO(...n));async function E_(n,e,t){const r=await n.safeParseAsync(e,{errorMap:t});return r.success?{data:r.data,success:!0}:{issues:r.error.issues.map(({message:i,path:s})=>({message:i,path:s})),success:!1}}function RO(n,e){return B2({superFormValidationLibrary:"zod",validate:async t=>E_(n,t,e==null?void 0:e.errorMap),jsonSchema:(e==null?void 0:e.jsonSchema)??IO(n,e==null?void 0:e.config),defaults:e==null?void 0:e.defaults})}function NO(n,e){return{superFormValidationLibrary:"zod",validate:async t=>E_(n,t,e==null?void 0:e.errorMap)}}const yp=P_(RO),I_=P_(NO),FO=async()=>({taskform:await hp(yp(f_)),pollform:await hp(yp(h_))}),ej=Object.freeze(Object.defineProperty({__proto__:null,load:FO},Symbol.toStringTag,{value:"Module"}));function Xi(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e.class));Z(s,()=>NA,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function LO(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e.class));Z(s,()=>LA,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function Pi(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e.class));Z(s,()=>BA,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}const jO=IA,R_=1,BO=R_/60,fr=BO/1e3,Qa=60*R_,Vn=24*Qa,Sr=15;function zO(n,e=!1){let t=Math.floor(n/Qa);const r=n%Qa,i=t>=12;return t=e?t:i?t%13+1:t,t===0&&!e&&(t=12),`${t}:${String(r).padStart(2,"0")}`+(e?"":i?" PM":" AM")}function ia(n){return n.toISOString().substring(0,10)}function VO(n,e){return e*=Sr,n.some(([t,r])=>(console.assert(r>t),t%=Vn,r%=Vn,r<t?e<=r||e>=t:e>=t&&e<=r))}function bp(n,e){return e instanceof Date&&(e=e.getTime()*fr),n.some(([t,r])=>e<r&&e>=t)}function _p(n){return n.flat().reduce((e,t)=>(t=Math.floor(t/Vn)*Vn,e.includes(t)||e.push(t),e),[]).map(e=>new Date(e/fr))}function Hf(n,e){const[t,r]=n,i=t*fr+r*Sr+e,s=Vn/fr;return[Math.floor(i/Vn)*s,i%Vn*s]}function ka(n,e){typeof n=="number"&&(n/=fr);const t=new Date(n);return new Date(t.getTime()+e/fr)}function xp(n,e){return n.map(t=>t.map(r=>ka(r,e).getTime()*fr))}function UO(n="UTC",e=new Date){const t=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:n})).getTime()-t.getTime())*fr}const WO=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,HO=()=>Intl.supportedValuesOf("timeZone"),ZO=(n=new Date().getTimezoneOffset())=>[new Date("2017-02-27T00:00:00.000Z"),new Date("2017-02-28T00:00:00.000Z"),new Date("2017-03-01T00:00:00.000Z"),new Date("2017-03-02T00:00:00.000Z"),new Date("2017-03-03T00:00:00.000Z"),new Date("2017-03-04T00:00:00.000Z"),new Date("2017-03-05T00:00:00.000Z")].map(e=>ka(e,n)),YO=(n=new Date().getTimezoneOffset())=>ZO(n).map(e=>[e.getTime()*fr+7*Qa,e.getTime()*fr+22*Qa]);var $O=$("<li> </li>"),GO=$("<li> </li>"),KO=$('<div> <div><h3 class="svelte-11kii48">Available</h3> <ul></ul></div> <div><h3 class="svelte-11kii48">Unavailable</h3> <ul></ul></div></div>');function qO(n,e){te(e,!1);let t=S(e,"everyone",8),r=S(e,"available",8);hl();var i=KO(),s=ee(i),a=q(s),o=q(ee(a),2);Ot(o,5,r,Ct,(u,d)=>{var h=$O(),f=ee(h,!0);Q(h),de(()=>Xe(f,g(d))),b(u,h)}),Q(o),Q(a);var l=q(a,2),c=q(ee(l),2);Ot(c,5,t,Ct,(u,d)=>{var h=I(),f=T(h);{var m=p=>{var v=GO(),y=ee(v,!0);Q(v),de(()=>Xe(y,g(d))),b(p,v)};pe(f,p=>{r().includes(g(d))||p(m)})}b(u,h)}),Q(c),Q(l),Q(i),de(()=>Xe(s,`${r().length??""}/${t().length??""} Available `)),b(n,i),ne()}function wp(n,e,t=1){return[...Array(Math.ceil((e-n)/t)).keys()].map(r=>r*t+n)}function XO(n){return N_({availability:n,username:"me"})}function N_(...n){const e={};for(const t of n)for(const r in t.availability){r in e||(e[r]=[]);for(const i of t.availability[r])e[r][i]==null&&(e[r][i]=[]),e[r][i].push(t.username)}return e}function Sp(n){const e={},t={};for(const r in n)e[r]=n[r].map((i,s)=>i.length?s:null).filter(i=>i!=null),t[new Date(r).getDay()]=e[r];return[e,t]}function JO(n,e,t="me"){for(const r in n)for(const i in e)for(const s of e[i]){const a=n[r][s];!(a!=null&&a.includes(t))&&(new Date(i).getDay()===new Date(r).getDay()||i===r)&&(a?a.push(t):n[r][s]=[t])}return n}function kp(n){return console.log(Tp({},n)),Tp({},n)}function Tp(n,e){for(const t of e)t in n||(n[t]=[]);return n}const QO={gray:"bg-gray-50 dark:bg-gray-800",red:"bg-red-50 dark:bg-gray-800",yellow:"bg-yellow-50 dark:bg-gray-800 ",green:"bg-green-50 dark:bg-gray-800 ",indigo:"bg-indigo-50 dark:bg-gray-800 ",purple:"bg-purple-50 dark:bg-gray-800 ",pink:"bg-pink-50 dark:bg-gray-800 ",blue:"bg-blue-50 dark:bg-gray-800 ",light:"bg-gray-50 dark:bg-gray-700",dark:"bg-gray-50 dark:bg-gray-800",default:"bg-white dark:bg-gray-800",dropdown:"bg-white dark:bg-gray-700",navbar:"bg-white dark:bg-gray-900",navbarUl:"bg-gray-50 dark:bg-gray-800",form:"bg-gray-50 dark:bg-gray-700",primary:"bg-primary-50 dark:bg-gray-800 ",orange:"bg-orange-50 dark:bg-orange-800",none:""};function eC(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]),r=sn(t,["tag","color","rounded","border","shadow","node","use","options","role","transition","params","open"]);te(e,!1);const i=()=>{};Ca("background",!0);let s=S(e,"tag",24,()=>r.href?"a":"div"),a=S(e,"color",12,"default"),o=S(e,"rounded",8,!1),l=S(e,"border",8,!1),c=S(e,"shadow",8,!1),u=S(e,"node",28,()=>{}),d=S(e,"use",8,i),h=S(e,"options",24,()=>({})),f=S(e,"role",24,()=>{}),m=S(e,"transition",24,()=>{}),p=S(e,"params",24,()=>({})),v=S(e,"open",8,!0);const y=ug(),_={gray:"text-gray-800 dark:text-gray-300",red:"text-red-800 dark:text-red-400",yellow:"text-yellow-800 dark:text-yellow-300",green:"text-green-800 dark:text-green-400",indigo:"text-indigo-800 dark:text-indigo-400",purple:"text-purple-800 dark:text-purple-400",pink:"text-pink-800 dark:text-pink-400",blue:"text-blue-800 dark:text-blue-400",light:"text-gray-700 dark:text-gray-300",dark:"text-gray-700 dark:text-gray-300",default:"text-gray-500 dark:text-gray-400",dropdown:"text-gray-700 dark:text-gray-200",navbar:"text-gray-700 dark:text-gray-200",navbarUl:"text-gray-700 dark:text-gray-400",form:"text-gray-900 dark:text-white",primary:"text-primary-800 dark:text-primary-400",orange:"text-orange-800 dark:text-orange-400",none:""},w={gray:"border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800",red:"border-red-300 dark:border-red-800 divide-red-300 dark:divide-red-800",yellow:"border-yellow-300 dark:border-yellow-800 divide-yellow-300 dark:divide-yellow-800",green:"border-green-300 dark:border-green-800 divide-green-300 dark:divide-green-800",indigo:"border-indigo-300 dark:border-indigo-800 divide-indigo-300 dark:divide-indigo-800",purple:"border-purple-300 dark:border-purple-800 divide-purple-300 dark:divide-purple-800",pink:"border-pink-300 dark:border-pink-800 divide-pink-300 dark:divide-pink-800",blue:"border-blue-300 dark:border-blue-800 divide-blue-300 dark:divide-blue-800",light:"border-gray-500 divide-gray-500",dark:"border-gray-500 divide-gray-500",default:"border-gray-200 dark:border-gray-700 divide-gray-200 dark:divide-gray-700",dropdown:"border-gray-100 dark:border-gray-600 divide-gray-100 dark:divide-gray-600",navbar:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",navbarUl:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",form:"border-gray-300 dark:border-gray-700 divide-gray-300 dark:divide-gray-700",primary:"border-primary-500 dark:border-primary-200  divide-primary-500 dark:divide-primary-200 ",orange:"border-orange-300 dark:border-orange-800 divide-orange-300 dark:divide-orange-800",none:""};let x=Wt();Ft(()=>ot(v()),()=>{y(v()?"open":"close")}),Ft(()=>ot(v()),()=>{y("show",v())}),Ft(()=>ot(a()),()=>{a(a()??"default")}),Ft(()=>ot(a()),()=>{Ca("color",a())}),Ft(()=>(ot(a()),ot(o()),ot(l()),ot(c()),ot(t)),()=>{J(x,Ty(QO[a()],_[a()],o()&&"rounded-lg",l()&&"border",w[a()],c()&&"shadow-md",t.class))}),$d(),hl();var k=I(),A=T(k);{var C=R=>{var U=I(),F=T(U);fc(F,s,!1,(B,K)=>{uh(B,(W,j)=>{var H;return(H=d())==null?void 0:H(W,j)},h),Dr(B,W=>u(W),()=>u());let Y;de(()=>Y=Oe(B,Y,{role:f(),...r,class:g(x)})),ww(3,B,m,p),Qt("click",B,function(W){Bn.call(this,e,W)}),Qt("mouseenter",B,function(W){Bn.call(this,e,W)}),Qt("mouseleave",B,function(W){Bn.call(this,e,W)}),Qt("focusin",B,function(W){Bn.call(this,e,W)}),Qt("focusout",B,function(W){Bn.call(this,e,W)});var D=I(),L=T(D);vn(L,e,"default",{},null),b(K,D)}),b(R,U)},E=(R,U)=>{{var F=B=>{var K=I(),Y=T(K);fc(Y,s,!1,(D,L)=>{uh(D,(G,le)=>{var ie;return(ie=d())==null?void 0:ie(G,le)},h),Dr(D,G=>u(G),()=>u());let W;de(()=>W=Oe(D,W,{role:f(),...r,class:g(x)})),Qt("click",D,function(G){Bn.call(this,e,G)}),Qt("mouseenter",D,function(G){Bn.call(this,e,G)}),Qt("mouseleave",D,function(G){Bn.call(this,e,G)}),Qt("focusin",D,function(G){Bn.call(this,e,G)}),Qt("focusout",D,function(G){Bn.call(this,e,G)});var j=I(),H=T(j);vn(H,e,"default",{},null),b(L,j)}),b(B,K)};pe(R,B=>{v()&&B(F)},U)}};pe(A,R=>{m()&&v()?R(C):R(E,!1)})}b(n,k),ne()}var tC=$("<div></div>"),nC=$("<div></div>"),rC=$("<!> <!>",1),iC=$("<!> <!>",1);function sC(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]),r=sn(t,["activeContent","arrow","offset","placement","trigger","triggeredBy","reference","strategy","open","yOnly","middlewares"]);te(e,!1);const i=Wt();let s=S(e,"activeContent",8,!1),a=S(e,"arrow",8,!0),o=S(e,"offset",8,8),l=S(e,"placement",8,"top"),c=S(e,"trigger",8,"hover"),u=S(e,"triggeredBy",24,()=>{}),d=S(e,"reference",24,()=>{}),h=S(e,"strategy",8,"absolute"),f=S(e,"open",12,!1),m=S(e,"yOnly",8,!1),p=S(e,"middlewares",24,()=>[Tb(),kb()]);const v=ug();let y=Wt(),_=Wt(),w=Wt(),x=Wt(),k,A=Wt(),C=Wt(),E=[];const R=re=>{g(x)===void 0&&console.error("trigger undefined"),!(!d()&&E.includes(re.target)&&g(x)!==re.target&&(J(x,re.target),f()))&&f(re.type==="click"?!f():!0)},U=re=>re.matches(":hover"),F=re=>re?`${re}px`:"",B=re=>{if(s()&&g(w)){const oe=[g(x),k,...E].filter(Boolean);setTimeout(()=>{re.type==="mouseleave"&&!oe.some(U)&&f(!1)},100)}else f(!1)};let K=Wt();const Y={left:"right",right:"left",bottom:"top",top:"bottom"};function D(){Ab(g(x),k,{placement:l(),strategy:h(),middleware:g(i)}).then(({x:re,y:oe,middlewareData:ue,placement:me,strategy:ge})=>{k.style.position=ge,k.style.left=m()?"0":F(re),k.style.top=F(oe),ue.arrow&&g(A)instanceof HTMLDivElement&&(wf(A,g(A).style.left=F(ue.arrow.x)),wf(A,g(A).style.top=F(ue.arrow.y)),J(K,Y[me.split("-")[0]]),wf(A,g(A).style[g(K)]=F(-g(A).offsetWidth/2-(t.border?1:0))))})}function L(re,oe){k=re;let ue=bh(oe,k,D);return{update(me){ue(),ue=bh(me,k,D)},destroy(){ue()}}}yi(()=>{const re=[["focusin",R,g(y)],["focusout",B,g(y)],["click",R,g(_)],["mouseenter",R,g(w)],["mouseleave",B,g(w)]];return u()?E=[...document.querySelectorAll(u())]:E=g(C).previousElementSibling?[g(C).previousElementSibling]:[],E.length||console.error("No triggers found."),E.forEach(oe=>{oe.tabIndex<0&&(oe.tabIndex=0);for(const[ue,me,ge]of re)ge&&oe.addEventListener(ue,me)}),d()?(J(x,document.querySelector(d())??document.body),g(x)===document.body?console.error(`Popup reference not found: '${d()}'`):(g(y)&&g(x).addEventListener("focusout",B),g(w)&&g(x).addEventListener("mouseleave",B))):J(x,E[0]),g(_)&&document.addEventListener("click",W),()=>{E.forEach(oe=>{if(oe)for(const[ue,me]of re)oe.removeEventListener(ue,me)}),g(x)&&(g(x).removeEventListener("focusout",B),g(x).removeEventListener("mouseleave",B)),document.removeEventListener("click",W)}});function W(re){f()&&!re.composedPath().includes(k)&&!E.some(oe=>re.composedPath().includes(oe))&&B(re)}function j(re,oe){return re?oe:()=>{}}let H=Wt();function G(re){return J(A,re),{destroy(){J(A,null)}}}Ft(()=>ot(c()),()=>{J(y,c()==="focus")}),Ft(()=>ot(c()),()=>{J(_,c()==="click")}),Ft(()=>ot(c()),()=>{J(w,c()==="hover")}),Ft(()=>ot(f()),()=>{v("show",f())}),Ft(()=>(ot(l()),g(x)),()=>{l()&&J(x,g(x))}),Ft(()=>(ot(p()),ot(o()),g(A)),()=>{J(i,[...p(),Sb(+o()),g(A)&&Pb({element:g(A),padding:10})])}),Ft(()=>(ot(t),g(K)),()=>{J(H,Dx("absolute pointer-events-none block w-[10px] h-[10px] rotate-45 bg-inherit border-inherit",t.border&&g(K)==="bottom"&&"border-b border-e",t.border&&g(K)==="top"&&"border-t border-s ",t.border&&g(K)==="right"&&"border-t border-e ",t.border&&g(K)==="left"&&"border-b border-s "))}),$d(),hl();var le=iC(),ie=T(le);{var he=re=>{var oe=tC();Dr(oe,ue=>J(C,ue),()=>g(C)),b(re,oe)};pe(ie,re=>{g(x)||re(he)})}var _e=q(ie,2);{var Pe=re=>{const oe=vt(()=>s()?-1:void 0);var ue=O(()=>j(s()&&g(y),R)),me=O(()=>j(s()&&g(y),B)),ge=O(()=>j(s()&&g(w),R)),xe=O(()=>j(s()&&g(w),B));eC(re,Te({use:L,get options(){return g(x)},role:"tooltip",get tabindex(){return g(oe)}},()=>r,{get open(){return f()},set open(Re){f(Re)},$$events:{focusin(...Re){var Se;(Se=g(ue))==null||Se.apply(this,Re)},focusout(...Re){var Se;(Se=g(me))==null||Se.apply(this,Re)},mouseenter(...Re){var Se;(Se=g(ge))==null||Se.apply(this,Re)},mouseleave(...Re){var Se;(Se=g(xe))==null||Se.apply(this,Re)}},children:(Re,Se)=>{var Ne=rC(),Fe=T(Ne);vn(Fe,e,"default",{},null);var Ve=q(Fe,2);{var Ie=je=>{var tt=nC();uh(tt,ft=>G==null?void 0:G(ft)),de(()=>ky(tt,1,Cx(g(H)))),b(je,tt)};pe(Ve,je=>{a()&&je(Ie)})}b(Re,Ne)},$$slots:{default:!0},$$legacy:!0}))};pe(_e,re=>{g(x)&&re(Pe)})}b(n,le),ne()}function aC(n,e){const t=sn(e,["children","$$slots","$$events","$$legacy"]),r=sn(t,["type","defaultClass"]);te(e,!1);let i=S(e,"type",12,"dark"),s=S(e,"defaultClass",8,"py-2 px-3 text-sm font-medium");const a={dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border-gray-200 bg-white text-gray-900",auto:" bg-white text-gray-900 dark:bg-gray-700 dark:text-white border-gray-200 dark:border-gray-700",custom:""};let o=Wt();Ft(()=>(ot(r),ot(i()),ot(s()),ot(t)),()=>{r.color?i("custom"):r.color="none",["light","auto"].includes(i())&&(r.border=!0),J(o,Ty("tooltip",s(),a[i()],t.class))}),$d(),hl(),sC(n,Te({rounded:!0,shadow:!0},()=>r,{get class(){return g(o)},$$events:{show(l){Bn.call(this,e,l)}},children:(l,c)=>{var u=I(),d=T(u);vn(d,e,"default",{},null),b(l,u)},$$slots:{default:!0}})),ne()}var oC=$('<br> <span class="text-sm"> </span>',1),lC=$('<div class="flex-grow text-center svelte-1vi9c9i" role="columnheader"> <!></div>'),cC=$('<div class="sticky top-0 flex"><div class="w-20"></div> <!></div>'),uC=$('<div class="flex-1"></div>'),dC=$('<div role="cell" tabindex="0"><!></div> <!>',1),fC=$('<div class="h-[16px] flex-grow"></div>'),hC=$('<div class="flex items-center"><div class="relative bottom-2 w-20 pr-1 text-right leading-4"> </div> <!></div>'),gC=$('<div class="flex select-none flex-col items-stretch"><!> <!></div>');function Pp(n,e){te(e,!1);let t=S(e,"ranges",8),r=Wt(_p(t()));const i=g(r);let s=S(e,"isDisabled",8,!1),a=S(e,"tzOffset",8),o=S(e,"shouldUseWeekdays",8),l=S(e,"importedEvents",24,()=>_x({})),c=S(e,"workingAvailability",24,()=>_n({}));const u=ug(),d=()=>u("save",Sp(f())[0]),h=()=>{const j=kp(i.map(ia));f(j),d(),c().set(j)};let f=S(e,"availability",28,()=>kp(i.map(ia))),m=Wt({}),p=Wt({});l().subscribe(j=>{JO(f(),j),f({...f()})});let v=S(e,"availablePeople",8,void 0),y=Wt([]),_=S(e,"allParticipants",24,()=>[]),w=S(e,"useMulticolor",8,!1);function x(){for(const j in f())for(const H of wp(0,Vn/Sr))K([new Date(j).getTime(),H],g(k),g(A))&&bp(t(),ka(j,H*Sr))&&f(f()[j][H]=g(C)?["me"]:[],!0)}let k=Wt(),A=Wt(),C=Wt();const E=(j,H)=>{var G;g(C)==null&&J(C,!(((G=f()[j][H])==null?void 0:G.length)??0)),J(A,[new Date(j).getTime(),H])};function R(j){if(j.touches.length>1)B();else{j.preventDefault();const H=document.elementFromPoint(j.touches[0].clientX,j.touches[0].clientY);if(!H||!H.classList.contains("availability-cell"))return[void 0,void 0];const G=Number.parseInt(H.dataset.idx),le=Number.parseInt(H.dataset.date);return!g(k)&&!v()&&!s()&&J(k,J(A,[le,G])),[ia(new Date(le)),G]}return[void 0,void 0]}const U=(j,H)=>{v()||s()||(J(k,J(A,[new Date(j).getTime(),H])),E(j,H))},F=(j,H)=>{H==null||j==null||(g(k)&&E(j,H),v()&&v().set(f()[j][H]??[]))},B=()=>{g(k)&&(v()||(x(),d()),J(k,J(A,J(C,void 0))))};function K(j,H,G){if(!H||!G)return!1;H=Hf(H,-a()),G=Hf(G,-a());const[le,ie]=Hf(j,-a()),[he,_e,Pe,re]=[Math.min(H[0],G[0]),Math.min(H[1],G[1]),Math.max(H[0],G[0]),Math.max(H[1],G[1])];return le>=he&&le<=Pe&&ie>=_e&&ie<=re}Ft(()=>(ot(t()),ot(a())),()=>{J(r,_p(xp(t(),-a())))}),Ft(()=>(g(m),g(p),ot(f())),()=>{(j=>(J(m,j[0]),J(p,j[1])))(Sp(f()))}),Ft(()=>(ot(v()),ot(c()),g(m)),()=>{v()||c().set(g(m))}),Ft(()=>ot(f()),()=>{console.log("availability",f())}),Ft(()=>g(m),()=>{console.log("formattedAvailability",g(m))}),Ft(()=>(ot(t()),ot(a())),()=>{J(y,wp(0,Vn/Sr).filter(j=>VO(xp(t(),-a()),j)))}),$d(),hl();var Y=gC();Qt("pointerup",xx,B);var D=ee(Y);{var L=j=>{var H=cC(),G=q(ee(H),2);Ot(G,1,()=>g(r),Ct,(le,ie)=>{var he=lC(),_e=ee(he),Pe=q(_e);{var re=oe=>{var ue=oC(),me=q(T(ue),2),ge=ee(me,!0);Q(me),de(xe=>Xe(ge,xe),[()=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",timeZone:"UTC"}).format(g(ie))],vt),b(oe,ue)};pe(Pe,oe=>{o()||oe(re)})}Q(he),de(oe=>Xe(_e,`${oe??""} `),[()=>new Intl.DateTimeFormat(void 0,{weekday:"short",timeZone:"UTC"}).format(g(ie))],vt),b(le,he)}),Q(H),b(j,H)};pe(D,j=>{g(r).length>0&&j(L)})}var W=q(D,2);return Ot(W,1,()=>g(y),Ct,(j,H)=>{var G=hC(),le=ee(G),ie=ee(le,!0);Q(le);var he=q(le,2);Ot(he,1,()=>g(r),Ct,(_e,Pe)=>{var re=I();const oe=vt(()=>g(H)*Sr+a()),ue=vt(()=>new Date(ia(ka(g(Pe),g(oe))))),me=vt(()=>ia(g(ue))),ge=vt(()=>f()[g(me)]),xe=vt(()=>(Vn+g(oe))%Vn/Sr);var Re=T(re);{var Se=Fe=>{var Ve=dC(),Ie=T(Ve);let je,tt;var ft=ee(Ie);{var xt=Ye=>{var Bt=I(),qt=T(Bt);Ot(qt,1,()=>g(ge)[g(xe)]??[],Ct,(vr,M)=>{var X=uC();const se=vt(()=>(_().indexOf(g(M))+1)/_().length*365);let be;de(()=>be=hs(X,"",be,{"background-color":`hsl(${g(se)}, 65%, 79%)`})),b(vr,X)}),b(Ye,Bt)};pe(ft,Ye=>{_().length&&w()&&Ye(xt)})}Q(Ie);var ht=q(Ie,2);{var Dt=Ye=>{aC(Ye,{class:"pointer-events-none z-[1000] bg-white",children:(Bt,qt)=>{qO(Bt,{get everyone(){return _()},get available(){return g(ge)[g(xe)]}})},$$slots:{default:!0}})};pe(ht,Ye=>{_().length&&g(ge)[g(xe)]&&Ye(Dt)})}de((Ye,Bt)=>{var qt;je=ky(Ie,1,"availability-cell flex flex-grow svelte-1vi9c9i",null,je,Ye),ii(Ie,"data-idx",g(xe)),ii(Ie,"data-date",Bt),tt=hs(Ie,"",tt,{"--lightness":_().length&&!w()?(1-(((qt=g(ge)[g(xe)])==null?void 0:qt.length)??_().length)/_().length)*70+30+"%":"30%"})},[()=>{var Ye;return{"cursor-pointer":!v()&&!s(),"cursor-not-allowed":s(),available:K([g(ue).getTime(),g(xe)],g(k),g(A))?g(C):(Ye=g(ge)[g(xe)])==null?void 0:Ye.length}},()=>g(ue).getTime()],vt),Qt("mousedown",Ie,()=>U(g(me),g(xe))),Qt("mouseenter",Ie,()=>F(g(me),g(xe))),Qt("touchmove",Ie,Ye=>F(...R(Ye))),b(Fe,Ve)},Ne=Fe=>{var Ve=fC();b(Fe,Ve)};pe(Re,Fe=>{bp(t(),ka(g(ue),g(xe)*Sr))?Fe(Se):Fe(Ne,!1)})}b(_e,re)}),Q(G),de(_e=>Xe(ie,_e),[()=>g(H)%2===0?zO(g(H)*Sr).replace(" "," "):" "],vt),b(j,G)}),Q(Y),b(n,Y),Sw(e,"clear",h),ne({clear:h})}function mC(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"value",15,""),i=ye(e,["$$slots","$$events","$$legacy","ref","value","class"]);var s=I(),a=T(s);const o=O(()=>et("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e.class));Z(a,()=>ZT,(l,c)=>{c(l,Te({get class(){return g(o)}},()=>i,{get value(){return r()},set value(u){r(u)},get ref(){return t()},set ref(u){t(u)}}))}),b(n,s),ne()}function pC(n,e){te(e,!0),S(e,"ref",11,null);let t=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var r=I(),i=T(r);const s=O(()=>et("py-6 text-center text-sm",e.class));Z(i,()=>$T,(a,o)=>{o(a,Te({get class(){return g(s)}},()=>t))}),b(n,r),ne()}var vC=$("<!> <!>",1);function yC(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","children","heading"]);var i=I(),s=T(i);const a=O(()=>et("text-foreground overflow-hidden p-1",e.class));Z(s,()=>KT,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)},children:(c,u)=>{var d=vC(),h=T(d);{var f=p=>{var v=I(),y=T(v);Z(y,()=>XT,(_,w)=>{w(_,{class:"text-muted-foreground px-2 py-1.5 text-xs font-medium",children:(x,k)=>{De();var A=Ee();de(()=>Xe(A,e.heading)),b(x,A)},$$slots:{default:!0}})}),b(p,v)};pe(h,p=>{e.heading&&p(f)})}var m=q(h,2);Z(m,()=>eP,(p,v)=>{v(p,{get children(){return e.children}})}),b(c,d)},$$slots:{default:!0}}))}),b(n,i),ne()}function bC(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("aria-selected:bg-accent aria-selected:text-accent-foreground relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e.class));Z(s,()=>sP,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function _C(n,e){te(e,!0);let t=ye(e,["$$slots","$$events","$$legacy"]);Kx(n,Te({name:"search"},()=>t,{iconNode:[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]],children:(i,s)=>{var a=I(),o=T(a);ae(o,()=>e.children??Ae),b(i,a)},$$slots:{default:!0}})),ne()}var xC=$('<div class="flex items-center border-b px-2" data-command-input-wrapper=""><!> <!></div>');function wC(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"value",15,""),i=ye(e,["$$slots","$$events","$$legacy","ref","class","value"]);var s=xC(),a=ee(s);_C(a,{class:"mr-2 size-4 shrink-0 opacity-50"});var o=q(a,2);const l=O(()=>et("placeholder:text-muted-foreground flex h-11 w-full rounded-md bg-transparent py-3 text-base outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class));Z(o,()=>nP,(c,u)=>{u(c,Te({get class(){return g(l)}},()=>i,{get ref(){return t()},set ref(d){t(d)},get value(){return r()},set value(d){r(d)}}))}),Q(s),b(n,s),ne()}function Kg(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"sideOffset",3,4),i=S(e,"align",3,"center"),s=ye(e,["$$slots","$$events","$$legacy","ref","class","sideOffset","align","portalProps"]);var a=I(),o=T(a);Z(o,()=>gg,(l,c)=>{c(l,Te(()=>e.portalProps,{children:(u,d)=>{var h=I(),f=T(h);const m=O(()=>et("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class));Z(f,()=>nA,(p,v)=>{v(p,Te({get sideOffset(){return r()},get align(){return i()},get class(){return g(m)}},()=>s,{get ref(){return t()},set ref(y){t(y)}}))}),b(u,h)},$$slots:{default:!0}}))}),b(n,a),ne()}const qg=_A,Xg=iA;var SC=$(" <!>",1),kC=$("<!> ",1),TC=$("<!> <!> <!>",1),PC=$("<!> <!>",1);function AC(n,e){te(e,!0);const t=HO().map(u=>({value:UO(u),label:u}));let r=ve(!1),i=ve(Kt(WO())),s=S(e,"selectedValue",15),a=ve(null);function o(){J(r,!1),dc().then(()=>{var u;(u=g(a))==null||u.focus()})}var l=I(),c=T(l);Z(c,()=>qg,(u,d)=>{d(u,{get open(){return g(r)},set open(h){J(r,h,!0)},children:(h,f)=>{var m=PC(),p=T(m);Z(p,()=>Xg,(y,_)=>{_(y,{get ref(){return g(a)},set ref(w){J(a,w,!0)},children:(w,x)=>{en(w,{variant:"outline",role:"combobox",get"aria-expanded"(){return g(r)},class:"w-[200px] justify-between",children:(k,A)=>{De();var C=SC(),E=T(C),R=q(E);tM(R,{class:"ml-2 h-4 w-4 shrink-0 opacity-50"}),de(()=>Xe(E,`${g(i)??""} `)),b(k,C)},$$slots:{default:!0}})},$$slots:{default:!0}})});var v=q(p,2);Z(v,()=>Kg,(y,_)=>{_(y,{class:"h-[500px] w-[200px] p-0",children:(w,x)=>{var k=I(),A=T(k);Z(A,()=>mC,(C,E)=>{E(C,{children:(R,U)=>{var F=TC(),B=T(F);Z(B,()=>wC,(D,L)=>{L(D,{placeholder:"Search timezones..."})});var K=q(B,2);Z(K,()=>pC,(D,L)=>{L(D,{children:(W,j)=>{De();var H=Ee("No timezones found.");b(W,H)},$$slots:{default:!0}})});var Y=q(K,2);Z(Y,()=>yC,(D,L)=>{L(D,{class:"overflow-y-auto",children:(W,j)=>{var H=I(),G=T(H);Ot(G,17,()=>t,Ct,(le,ie)=>{var he=I(),_e=T(he);Z(_e,()=>bC,(Pe,re)=>{re(Pe,{get value(){return g(ie).label},onSelect:()=>{var oe;J(i,g(ie).label,!0),s(((oe=t.find(ue=>ue.label===g(ie).label))==null?void 0:oe.value)??0),o()},children:(oe,ue)=>{var me=kC(),ge=T(me);const xe=O(()=>et("mr-2 h-4 w-4",g(i)!==g(ie).label&&"text-transparent"));JA(ge,{get class(){return g(xe)}});var Re=q(ge);de(()=>Xe(Re,` ${g(ie).label??""}`)),b(oe,me)},$$slots:{default:!0}})}),b(le,he)}),b(W,H)},$$slots:{default:!0}})}),b(R,F)},$$slots:{default:!0}})}),b(w,k)},$$slots:{default:!0}})}),b(h,m)},$$slots:{default:!0}})}),b(n,l),ne()}const MC=n=>new Date(n).getDay(),Ap=(n,e,t)=>{const r={},i=new Date(e);for(let s=0;s<t;s++){const a=new Date(i);a.setDate(i.getDate()+s);const o=a.toISOString().split("T")[0],l=a.getDay(),c=n.filter(({dayOfWeek:u})=>u===l).flatMap(({startOffset:u,endOffset:d})=>Array.from({length:d-u+1},(h,f)=>u+f));r[o]=c}return r},OC=n=>{const e=[];return Object.entries(n).forEach(([t,r])=>{if(r.length>0){const i=MC(t);let s=r[0],a=r[0];for(let o=1;o<r.length;o++)r[o]===a+1||(e.push({dayOfWeek:i,startOffset:s,endOffset:a}),s=r[o]),a=r[o];e.push({dayOfWeek:i,startOffset:s,endOffset:a})}}),e};var CC=$('<!> <div class="flex justify-around"><!> <!></div>',1);function DC(n,e){te(e,!0);let t=ve(0);const r=YO(),i=O(()=>{var c;return Ap(((c=e.project.users.find(u=>u.id===localStorage.myId))==null?void 0:c.availability)??[],"2017-02-27T00:00:00.000Z",8)});async function s(c){const u=OC(c.detail);console.log("db availability",u),await fetch(Py+Ay+"/availability",{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify(u)})}let a=O(()=>e.project.users.map(c=>({availability:Ap(c.availability,"2017-02-27T00:00:00.000Z",8),username:c.firstName+" "+c.lastName})));Qe(()=>{console.log("group avail",Ra(g(a)))}),Qe(()=>{console.log("my avail",Ra(g(i)))});var o=I(),l=T(o);Z(l,()=>Xi,(c,u)=>{u(c,{value:"availability",children:(d,h)=>{var f=CC(),m=T(f);AC(m,{get selectedValue(){return g(t)},set selectedValue(E){J(t,E,!0)}});var p=q(m,2),v=ee(p);const y=O(()=>-g(t)),_=O(()=>XO(g(i)));Pp(v,{ranges:r,get tzOffset(){return g(y)},shouldUseWeekdays:!0,get availability(){return g(_)},$$events:{save:s}});var w=q(v,2);const x=O(()=>-g(t)),k=O(()=>_n([])),A=O(()=>g(a).map(E=>E.username)),C=O(()=>N_(...g(a)));Pp(w,{ranges:r,get tzOffset(){return g(x)},shouldUseWeekdays:!0,get availablePeople(){return g(k)},get allParticipants(){return g(A)},get availability(){return g(C)}}),Q(p),b(d,f)},$$slots:{default:!0}})}),b(n,o),ne()}function EC(n,e){const t=n.target;J(e,parseInt(t.value)||new Date().getFullYear(),!0)}function IC(n,e){const t=n.target;J(e,parseInt(t.value)||new Date().getMonth()+1,!0)}var RC=$('<div class="inputs"><label>Year: <input type="number"></label> <label>Month: <input type="number" min="1" max="12"></label></div> <!>',1);function NC(n,e){te(e,!0);let t=ve(Kt(new Date().getFullYear())),r=ve(new Date().getMonth()+1);var i=I(),s=T(i);Z(s,()=>Xi,(a,o)=>{o(a,{value:"calendar",children:(l,c)=>{var u=RC(),d=T(u),h=ee(d),f=q(ee(h));Da(f),f.__input=[EC,t],Q(h);var m=q(h,2),p=q(ee(m));Da(p),p.__input=[IC,r],Q(m),Q(d);var v=q(d,2);cw(v,{get month(){return g(r)},get year(){return g(t)},get tasks(){return e.project.tasks}}),de(()=>{Am(f,g(t)),Am(p,g(r))}),b(l,u)},$$slots:{default:!0}})}),b(n,i),ne()}og(["input"]);function FC(n){return typeof n=="function"}function LC(n){return n!==null&&typeof n=="object"}const jC=["string","number","bigint","boolean"];function Vh(n){return n==null||jC.includes(typeof n)?!0:Array.isArray(n)?n.every(e=>Vh(e)):typeof n=="object"?Object.getPrototypeOf(n)===Object.prototype:!1}const eo=Symbol("box"),Jg=Symbol("is-writable");function BC(n){return LC(n)&&eo in n}function zC(n){return kt.isBox(n)&&Jg in n}function kt(n){let e=ve(Kt(n));return{[eo]:!0,[Jg]:!0,get current(){return g(e)},set current(t){J(e,t,!0)}}}function VC(n,e){const t=O(n);return e?{[eo]:!0,[Jg]:!0,get current(){return g(t)},set current(r){e(r)}}:{[eo]:!0,get current(){return n()}}}function UC(n){return kt.isBox(n)?n:FC(n)?kt.with(n):kt(n)}function WC(n){return Object.entries(n).reduce((e,[t,r])=>kt.isBox(r)?(kt.isWritableBox(r)?Object.defineProperty(e,t,{get(){return r.current},set(i){r.current=i}}):Object.defineProperty(e,t,{get(){return r.current}}),e):Object.assign(e,{[t]:r}),{})}function HC(n){return kt.isWritableBox(n)?{[eo]:!0,get current(){return n.current}}:n}kt.from=UC;kt.with=VC;kt.flatten=WC;kt.readonly=HC;kt.isBox=BC;kt.isWritableBox=zC;function ZC(...n){return function(e){var t;for(const r of n)if(r){if(e.defaultPrevented)return;typeof r=="function"?r.call(this,e):(t=r.current)==null||t.call(this,e)}}}const YC=/\d/,$C=["-","_","/","."];function GC(n=""){if(!YC.test(n))return n!==n.toLowerCase()}function KC(n){const e=[];let t="",r,i;for(const s of n){const a=$C.includes(s);if(a===!0){e.push(t),t="",r=void 0;continue}const o=GC(s);if(i===!1){if(r===!1&&o===!0){e.push(t),t=s,r=o;continue}if(r===!0&&o===!1&&t.length>1){const l=t.at(-1);e.push(t.slice(0,Math.max(0,t.length-1))),t=l+s,r=o;continue}}t+=s,r=o,i=a}return e.push(t),e}function F_(n){return n?KC(n).map(e=>XC(e)).join(""):""}function qC(n){return JC(F_(n||""))}function XC(n){return n?n[0].toUpperCase()+n.slice(1):""}function JC(n){return n?n[0].toLowerCase()+n.slice(1):""}function Cl(n){if(!n)return{};const e={};function t(r,i){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){e[F_(r)]=i;return}if(r.startsWith("--")){e[r]=i;return}e[qC(r)]=i}return Ax(n,t),e}function QC(...n){return(...e)=>{for(const t of n)typeof t=="function"&&t(...e)}}function eD(n,e){const t=RegExp(n,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(t)?r.replace(t,e):r}}const tD=eD(/[A-Z]/,n=>`-${n.toLowerCase()}`);function nD(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError(`expected an argument of type object, but got ${typeof n}`);return Object.keys(n).map(e=>`${tD(e)}: ${n[e]};`).join(`
`)}function L_(n={}){return nD(n).replace(`
`," ")}const rD={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};L_(rD);function iD(n){var e;return n.length>2&&n.startsWith("on")&&n[2]===((e=n[2])==null?void 0:e.toLowerCase())}function Qg(...n){const e={...n[0]};for(let t=1;t<n.length;t++){const r=n[t];for(const i in r){const s=e[i],a=r[i],o=typeof s=="function",l=typeof a=="function";if(o&&iD(i)){const c=s,u=a;e[i]=ZC(c,u)}else if(o&&l)e[i]=QC(s,a);else if(i==="class"){const c=Vh(s),u=Vh(a);c&&u?e[i]=Sf(s,a):c?e[i]=Sf(s):u&&(e[i]=Sf(a))}else if(i==="style"){const c=typeof s=="object",u=typeof a=="object",d=typeof s=="string",h=typeof a=="string";if(c&&u)e[i]={...s,...a};else if(c&&h){const f=Cl(a);e[i]={...s,...f}}else if(d&&u){const f=Cl(s);e[i]={...f,...a}}else if(d&&h){const f=Cl(s),m=Cl(a);e[i]={...f,...m}}else c?e[i]=s:u?e[i]=a:d?e[i]=s:h&&(e[i]=a)}else e[i]=a!==void 0?a:s}}return typeof e.style=="object"&&(e.style=L_(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}function em({id:n,ref:e,deps:t=()=>!0,onRefChange:r=()=>{},getRootNode:i=()=>typeof document<"u"?document:void 0}){const s=O(()=>t()),a=O(()=>i());Qe(()=>(n.current,g(s),g(a),bt(()=>{var l;const o=(l=g(a))==null?void 0:l.getElementById(n.current);o?e.current=o:e.current=null,r(e.current)}))),Qe(()=>()=>{e.current=null,r(null)})}function sD(n,e){const t=O(n);Qe(()=>{g(t),bt(()=>e(g(t)))})}function aD(n){return Array.isArray(n)?[...n]:typeof n=="object"&&"_errors"in n&&n._errors!==void 0?[...n._errors]:[]}function Zf(n,e){const t=n.split(/[[\].]/).filter(Boolean);let r=e;for(const i of t){if(typeof r!="object"||r===null)return;r=r[i]}return r}function oD({fieldErrorsId:n=void 0,descriptionId:e=void 0,errors:t}){let r="";return e&&(r+=`${e} `),t.length&&n&&(r+=n),r?r.trim():void 0}function lD(n){if("required"in n)return n.required?"true":void 0}function cD(n){return n&&n.length?"true":void 0}function Mc(n){return n&&n.length?"":void 0}let Mp=0;function Us(n="formsnap"){return Mp++,`${n}-${Mp}`}var nr,Qo,Ms,Os,el,Fd,Ld,jd,Bd,tl,nl,rl,il,zd;class uD{constructor(e){z(this,nr);z(this,Qo);z(this,Ms);z(this,Os);z(this,el);N(this,"form");z(this,Fd,O(()=>P(this,nr).current));z(this,Ld,O(()=>aD(Zf(P(this,nr).current,structuredClone(P(this,Qo).current)))));z(this,jd,O(()=>Zf(P(this,nr).current,structuredClone(P(this,Ms).current))??{}));z(this,Bd,O(()=>P(this,Os).current?Zf(P(this,nr).current,structuredClone(P(this,Os).current))===!0:!1));z(this,tl,ve(null));z(this,nl,ve(null));z(this,rl,ve());z(this,il,ve());z(this,zd,O(()=>({value:P(this,el).current[P(this,nr).current],errors:this.errors,tainted:this.tainted,constraints:P(this,Ms).current[P(this,nr).current]??{}})));gt(this,nr,e.name),this.form=e.form.current,gt(this,Qo,kl(e.form.current.errors)),gt(this,Ms,kl(e.form.current.constraints)),gt(this,Os,kl(e.form.current.tainted)),gt(this,el,kl(e.form.current.form)),Qe(()=>{this.errorNode&&this.errorNode.id&&(this.errorId=this.errorNode.id)}),Qe(()=>{this.descriptionNode&&this.descriptionNode.id&&(this.descriptionId=this.descriptionNode.id)})}get name(){return g(P(this,Fd))}get errors(){return g(P(this,Ld))}get constraints(){return g(P(this,jd))}get tainted(){return g(P(this,Bd))}get errorNode(){return g(P(this,tl))}set errorNode(e){J(P(this,tl),e,!0)}get descriptionNode(){return g(P(this,nl))}set descriptionNode(e){J(P(this,nl),e,!0)}get errorId(){return g(P(this,rl))}set errorId(e){J(P(this,rl),e,!0)}get descriptionId(){return g(P(this,il))}set descriptionId(e){J(P(this,il),e,!0)}get snippetProps(){return g(P(this,zd))}}nr=new WeakMap,Qo=new WeakMap,Ms=new WeakMap,Os=new WeakMap,el=new WeakMap,Fd=new WeakMap,Ld=new WeakMap,jd=new WeakMap,Bd=new WeakMap,tl=new WeakMap,nl=new WeakMap,rl=new WeakMap,il=new WeakMap,zd=new WeakMap;var sl,Cs,al,Vd,Ud,Wd;class dD{constructor(e,t){z(this,sl);z(this,Cs);N(this,"field");z(this,al,O(()=>Mc(this.field.errors)));z(this,Vd,O(()=>({errors:this.field.errors,errorProps:this.errorProps})));z(this,Ud,O(()=>({id:P(this,Cs).current,"data-fs-error":g(P(this,al)),"data-fs-field-errors":"","aria-live":"assertive"})));z(this,Wd,O(()=>({"data-fs-field-error":"","data-fs-error":g(P(this,al))})));gt(this,sl,e.ref),gt(this,Cs,e.id),this.field=t,em({id:P(this,Cs),ref:P(this,sl),onRefChange:r=>{this.field.errorNode=r}})}get snippetProps(){return g(P(this,Vd))}get fieldErrorsProps(){return g(P(this,Ud))}get errorProps(){return g(P(this,Wd))}}sl=new WeakMap,Cs=new WeakMap,al=new WeakMap,Vd=new WeakMap,Ud=new WeakMap,Wd=new WeakMap;var ol,Ds,Hd;class fD{constructor(e,t){z(this,ol);z(this,Ds);N(this,"field");z(this,Hd,O(()=>({id:P(this,Ds).current,"data-fs-error":Mc(this.field.errors),"data-fs-description":""})));gt(this,ol,e.ref),gt(this,Ds,e.id),this.field=t,em({id:P(this,Ds),ref:P(this,ol),onRefChange:r=>{this.field.descriptionNode=r}})}get props(){return g(P(this,Hd))}}ol=new WeakMap,Ds=new WeakMap,Hd=new WeakMap;var ll,cl,Zd,Yd;class hD{constructor(e,t){z(this,ll);N(this,"field");N(this,"labelId",kt(Us()));z(this,cl,ve(Kt(Us())));z(this,Zd,O(()=>({id:this.id,name:this.field.name,"data-fs-error":Mc(this.field.errors),"aria-describedby":oD({fieldErrorsId:this.field.errorId,descriptionId:this.field.descriptionId,errors:this.field.errors}),"aria-invalid":cD(this.field.errors),"aria-required":lD(this.field.constraints),"data-fs-control":""})));z(this,Yd,O(()=>({id:this.labelId.current,"data-fs-label":"","data-fs-error":Mc(this.field.errors),for:this.id})));gt(this,ll,e.id),this.field=t,sD(()=>P(this,ll).current,r=>{this.id=r})}get id(){return g(P(this,cl))}set id(e){J(P(this,cl),e,!0)}get props(){return g(P(this,Zd))}get labelProps(){return g(P(this,Yd))}}ll=new WeakMap,cl=new WeakMap,Zd=new WeakMap,Yd=new WeakMap;var ul,Es;class gD{constructor(e,t){z(this,ul);z(this,Es);N(this,"control");gt(this,ul,e.ref),gt(this,Es,e.id),this.control=t,this.control.labelId=P(this,Es),em({id:P(this,Es),ref:P(this,ul)})}get props(){return this.control.labelProps}}ul=new WeakMap,Es=new WeakMap;const j_=Symbol.for("formsnap.form-field"),B_=Symbol.for("formsnap.form-control");function mD(n){return Ca(j_,new uD(n))}function tm(){return cg(j_)}function pD(n){return new dD(n,tm())}function vD(n){return new fD(n,tm())}function yD(n){return Ca(B_,new hD(n,tm()))}function bD(){return cg(B_)}function _D(n){return new gD(n,bD())}var xD=$("<div><!></div>");function wD(n,e){te(e,!0);let t=S(e,"id",19,Us),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=vD({id:kt.with(()=>t()),ref:kt.with(()=>r(),d=>r(d))}),a=O(()=>Qg(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=xD();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}function SD(n,e){te(e,!0);const t=mD({form:kt.with(()=>e.form),name:kt.with(()=>e.name)});var r=I(),i=T(r);ae(i,()=>e.children??Ae,()=>t.snippetProps),b(n,r),ne()}function kD(n,e){te(e,!0);let t=S(e,"id",19,Us);const r=yD({id:kt.with(()=>t())});var i=I(),s=T(i);ae(s,()=>e.children??Ae,()=>({props:r.props})),b(n,i),ne()}var TD=$("<label><!></label>");function PD(n,e){te(e,!0);let t=S(e,"id",19,Us),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=_D({id:kt.with(()=>t()),ref:kt.with(()=>r(),d=>r(d))}),a=O(()=>Qg(i,s.props));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h);ae(f,()=>e.child,()=>({props:g(a)})),b(d,h)},u=d=>{var h=TD();let f;var m=ee(h);ae(m,()=>e.children??Ae),Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}var AD=$("<div> </div>"),MD=$("<div><!></div>");function OD(n,e){te(e,!0);let t=S(e,"id",19,Us),r=S(e,"ref",15,null),i=ye(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const s=pD({id:kt.with(()=>t()),ref:kt.with(()=>r(),d=>r(d))}),a=O(()=>Qg(i,s.fieldErrorsProps));var o=I(),l=T(o);{var c=d=>{var h=I(),f=T(h),m=vt(()=>({props:g(a),...s.snippetProps}));ae(f,()=>e.child,()=>g(m)),b(d,h)},u=d=>{var h=MD();let f;var m=ee(h);{var p=y=>{var _=I(),w=T(_);ae(w,()=>e.children,()=>s.snippetProps),b(y,_)},v=y=>{var _=I(),w=T(_);Ot(w,17,()=>s.field.errors,Ct,(x,k)=>{var A=AD();let C;var E=ee(A,!0);Q(A),de(()=>{C=Oe(A,C,{...s.errorProps}),Xe(E,g(k))}),b(x,A)}),b(y,_)};pe(m,y=>{e.children?y(p):y(v,!1)})}Q(h),de(()=>f=Oe(h,f,{...g(a)})),b(d,h)};pe(l,d=>{e.child?d(c):d(u,!1)})}b(n,o),ne()}function Uh(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("text-sm text-muted-foreground",e.class));Z(s,()=>wD,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function $r(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","children","class"]);var i=I(),s=T(i);Z(s,()=>PD,(a,o)=>{o(a,Te(()=>r,{get ref(){return t()},set ref(c){t(c)},child:(c,u)=>{let d=()=>u==null?void 0:u().props;const h=O(()=>et("data-[fs-error]:text-destructive",e.class));hc(c,Te(d,{get class(){return g(h)},children:(f,m)=>{var p=I(),v=T(p);ae(v,()=>e.children??Ae),b(f,p)},$$slots:{default:!0}}))},$$slots:{child:!0}}))}),b(n,i),ne()}var CD=$("<div> </div>");function Gr(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","errorClasses","children"]);var i=I(),s=T(i);const a=O(()=>et("text-sm font-medium text-destructive",e.class));Z(s,()=>OD,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(u){t(u)},children:(u,d)=>{let h=()=>d==null?void 0:d().errors,f=()=>d==null?void 0:d().errorProps;var m=I(),p=T(m);{var v=_=>{var w=I(),x=T(w);ae(x,()=>e.children,()=>({errors:h(),errorProps:f()})),b(_,w)},y=_=>{var w=I(),x=T(w);Ot(x,17,h,Ct,(k,A)=>{var C=CD();let E;var R=ee(C,!0);Q(C),de(U=>{E=Oe(C,E,{...f(),class:U}),Xe(R,g(A))},[()=>et(e.errorClasses)]),b(k,C)}),b(_,w)};pe(p,_=>{e.children?_(v):_(y,!1)})}b(u,m)},$$slots:{default:!0}}))}),b(n,i),ne()}var DD=$("<div><!></div>");function Kr(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","form","name","children"]);var i=I(),s=T(i);Z(s,()=>SD,(a,o)=>{o(a,{get form(){return e.form},get name(){return e.name},children:(c,u)=>{let d=()=>u==null?void 0:u().constraints,h=()=>u==null?void 0:u().errors,f=()=>u==null?void 0:u().tainted,m=()=>u==null?void 0:u().value;var p=DD();let v;var y=ee(p);ae(y,()=>e.children??Ae,()=>({constraints:d(),errors:h(),tainted:f(),value:m()})),Q(p),Dr(p,_=>t(_),()=>t()),de(_=>v=Oe(p,v,{class:_,...r}),[()=>et("space-y-2",e.class)]),b(c,p)},$$slots:{default:!0}})}),b(n,i),ne()}function z_(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref"]);var i=I(),s=T(i);Z(s,()=>en,(a,o)=>{o(a,Te({type:"submit"},()=>r,{get ref(){return t()},set ref(l){t(l)}}))}),b(n,i),ne()}const qr=kD;var ED=$("<!> <!>",1),ID=$("<!> <!>",1),RD=$("<!> <!>",1),ND=$("<!> <!> <!>",1),FD=$("<!> <!>",1),LD=$("<!> <!>",1),jD=$("<!> <!>",1),BD=$("<!> <!>",1),zD=$("<!> <!> <form><!> <!> <!> <!> <!></form>",1),VD=$("<!> <!>",1);function UD(n,e){te(e,!0);const[t,r]=wy(),i=()=>Sy(o,"$formData",t);let s=ve(!1);const a=k_(e.data.pollform,{validators:I_(h_)}),{form:o}=a;async function l(d){console.log("creating poll"),console.log(i()),d.preventDefault();const h=await a.validateForm({update:!0});h.valid&&(console.log("validation dueDate"),console.log(h.data.dueDate),e.project.appendInProject("Polls",{id:crypto.randomUUID(),title:h.data.title,description:h.data.description??"",dueDate:new Date(h.data.dueDate).getTime(),options:h.data.options.split(",").map(f=>({id:crypto.randomUUID(),title:f,likedUsers:[],neutralUsers:[],dislikedUsers:[]}))}),J(s,!1),a.reset())}var c=I(),u=T(c);Z(u,()=>Is,(d,h)=>{h(d,{get open(){return g(s)},set open(f){J(s,f,!0)},children:(f,m)=>{var p=VD(),v=T(p);const y=O(()=>Ys({variant:"outline"}));Z(v,()=>Ia,(w,x)=>{x(w,{get class(){return g(y)},children:(k,A)=>{De();var C=Ee("Create a new Poll");b(k,C)},$$slots:{default:!0}})});var _=q(v,2);Z(_,()=>Rs,(w,x)=>{x(w,{children:(k,A)=>{var C=I(),E=T(C);Z(E,()=>Ns,(R,U)=>{U(R,{children:(F,B)=>{var K=zD(),Y=T(K);Z(Y,()=>mg,(ie,he)=>{he(ie,{children:(_e,Pe)=>{De();var re=Ee("Create new poll");b(_e,re)},$$slots:{default:!0}})});var D=q(Y,2);Z(D,()=>pg,(ie,he)=>{he(ie,{children:(_e,Pe)=>{De();var re=Ee("Enter poll question and options");b(_e,re)},$$slots:{default:!0}})});var L=q(D,2),W=ee(L);Z(W,()=>Kr,(ie,he)=>{he(ie,{form:a,name:"title",children:(_e,Pe)=>{var re=ID(),oe=T(re);Z(oe,()=>qr,(me,ge)=>{ge(me,{children:(Re,Se)=>{let Ne=()=>Se==null?void 0:Se().props;var Fe=ED(),Ve=T(Fe);Z(Ve,()=>$r,(je,tt)=>{tt(je,{children:(ft,xt)=>{De();var ht=Ee("Title");b(ft,ht)},$$slots:{default:!0}})});var Ie=q(Ve,2);ir(Ie,Te(Ne,{get value(){return i().title},set value(je){Yr(o,bt(i).title=je,bt(i))}})),b(Re,Fe)},$$slots:{default:!0}})});var ue=q(oe,2);Z(ue,()=>Gr,(me,ge)=>{ge(me,{})}),b(_e,re)},$$slots:{default:!0}})});var j=q(W,2);Z(j,()=>Kr,(ie,he)=>{he(ie,{form:a,name:"description",children:(_e,Pe)=>{var re=ND(),oe=T(re);Z(oe,()=>qr,(ge,xe)=>{xe(ge,{children:(Se,Ne)=>{let Fe=()=>Ne==null?void 0:Ne().props;var Ve=RD(),Ie=T(Ve);Z(Ie,()=>$r,(tt,ft)=>{ft(tt,{children:(xt,ht)=>{De();var Dt=Ee("Description");b(xt,Dt)},$$slots:{default:!0}})});var je=q(Ie,2);ir(je,Te(Fe,{get value(){return i().description},set value(tt){Yr(o,bt(i).description=tt,bt(i))}})),b(Se,Ve)},$$slots:{default:!0}})});var ue=q(oe,2);Z(ue,()=>Uh,(ge,xe)=>{xe(ge,{})});var me=q(ue,2);Z(me,()=>Gr,(ge,xe)=>{xe(ge,{})}),b(_e,re)},$$slots:{default:!0}})});var H=q(j,2);Z(H,()=>Kr,(ie,he)=>{he(ie,{form:a,name:"dueDate",children:(_e,Pe)=>{var re=LD(),oe=T(re);Z(oe,()=>qr,(me,ge)=>{ge(me,{children:(Re,Se)=>{let Ne=()=>Se==null?void 0:Se().props;var Fe=FD(),Ve=T(Fe);Z(Ve,()=>$r,(je,tt)=>{tt(je,{children:(ft,xt)=>{De();var ht=Ee("Due date");b(ft,ht)},$$slots:{default:!0}})});var Ie=q(Ve,2);ir(Ie,Te(Ne,{type:"date",get value(){return i().dueDate},set value(je){Yr(o,bt(i).dueDate=je,bt(i))}})),b(Re,Fe)},$$slots:{default:!0}})});var ue=q(oe,2);Z(ue,()=>Gr,(me,ge)=>{ge(me,{})}),b(_e,re)},$$slots:{default:!0}})});var G=q(H,2);Z(G,()=>Kr,(ie,he)=>{he(ie,{form:a,name:"options",children:(_e,Pe)=>{var re=BD(),oe=T(re);Z(oe,()=>qr,(me,ge)=>{ge(me,{children:(Re,Se)=>{let Ne=()=>Se==null?void 0:Se().props;var Fe=jD(),Ve=T(Fe);Z(Ve,()=>$r,(je,tt)=>{tt(je,{children:(ft,xt)=>{De();var ht=Ee("Options (comma-separated)");b(ft,ht)},$$slots:{default:!0}})});var Ie=q(Ve,2);ir(Ie,Te(Ne,{get value(){return i().options},set value(je){Yr(o,bt(i).options=je,bt(i))}})),b(Re,Fe)},$$slots:{default:!0}})});var ue=q(oe,2);Z(ue,()=>Gr,(me,ge)=>{ge(me,{})}),b(_e,re)},$$slots:{default:!0}})});var le=q(G,2);Z(le,()=>vg,(ie,he)=>{he(ie,{children:(_e,Pe)=>{var re=I(),oe=T(re);Z(oe,()=>z_,(ue,me)=>{me(ue,{children:(ge,xe)=>{De();var Re=Ee("Create");b(ge,Re)},$$slots:{default:!0}})}),b(_e,re)},$$slots:{default:!0}})}),Q(L),Qt("submit",L,l),b(F,K)},$$slots:{default:!0}})}),b(k,C)},$$slots:{default:!0}})}),b(f,p)},$$slots:{default:!0}})}),b(n,c),ne(),r()}var WD=$('<div class="flex gap-[0.2em]"><!> <!> <!></div>');function HD(n,e){te(e,!0);function t(u){let d=null;e.option.likedUsers.includes(e.project.userId)?d="LikedUsers":e.option.neutralUsers.includes(e.project.userId)?d="NeutralUsers":e.option.dislikedUsers.includes(e.project.userId)&&(d="DislikedUsers"),d!=u&&(d!=null&&e.project.deleteInProject(`Polls[Id=${e.poll.id}].Options[Id=${e.option.id}].${d}[$IT=${e.project.userId}]`),e.project.appendInProject(`Polls[Id=${e.poll.id}].Options[Id=${e.option.id}].${u}`,e.project.userId))}var r=WD(),i=ee(r);const s=O(()=>e.option.likedUsers.includes(e.project.userId));en(i,{class:"hover:border-transparent sctd:bg-green-400/80 sctd:hover:bg-green-400/80 not-sctd:hover:bg-green-400/40 sctd:dark:bg-green-700/80 sctd:dark:hover:bg-green-700/80 not-sctd:dark:hover:bg-green-700/40",get"data-selected"(){return g(s)},onclick:()=>t("LikedUsers"),variant:"outline",size:"icon",children:(u,d)=>{De();var h=Ee("✅");b(u,h)},$$slots:{default:!0}});var a=q(i,2);const o=O(()=>e.option.neutralUsers.includes(e.project.userId));en(a,{class:"hover:border-transparent sctd:bg-yellow-400/80 sctd:hover:bg-yellow-400/80 not-sctd:hover:bg-yellow-400/40 sctd:dark:bg-yellow-700/80 sctd:dark:hover:bg-yellow-700/80 not-sctd:dark:hover:bg-yellow-700/40",get"data-selected"(){return g(o)},onclick:()=>t("NeutralUsers"),variant:"outline",size:"icon",children:(u,d)=>{De();var h=Ee("🟡");b(u,h)},$$slots:{default:!0}});var l=q(a,2);const c=O(()=>e.option.dislikedUsers.includes(e.project.userId));en(l,{class:"hover:border-transparent sctd:bg-red-400/80 sctd:hover:bg-red-400/80 not-sctd:hover:bg-red-400/40 sctd:dark:bg-red-700/80 sctd:dark:hover:bg-red-700/80 not-sctd:dark:hover:bg-red-700/40",get"data-selected"(){return g(c)},onclick:()=>t("DislikedUsers"),variant:"outline",size:"icon",children:(u,d)=>{De();var h=Ee("❌");b(u,h)},$$slots:{default:!0}}),Q(r),b(n,r),ne()}var ZD=$('<div class="chart svelte-104i3lx"><div class="bar bg-green-500/80"></div> <div class="bar bg-yellow-500/80"></div> <div class="bar bg-red-500/80"></div> <div class="bar bg-slate-500/30"></div></div>');function YD(n,e){te(e,!0);let t=O(()=>e.option.likedUsers.length+e.option.neutralUsers.length+e.option.dislikedUsers.length);var r=ZD();de(()=>hs(r,`grid-template-columns: ${e.option.likedUsers.length}fr ${e.option.neutralUsers.length}fr ${e.option.dislikedUsers.length}fr ${e.project.users.length-g(t)}fr`)),b(n,r),ne()}function Wh(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","inset"]);var i=I(),s=T(i);const a=O(()=>et("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.inset&&"pl-8",e.class));Z(s,()=>zP,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function V_(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","portalProps","class"]);var i=I(),s=T(i);Z(s,()=>gg,(a,o)=>{o(a,Te(()=>e.portalProps,{children:(l,c)=>{var u=I(),d=T(u);const h=O(()=>et("bg-popover text-popover-foreground z-50 min-w-[8rem] rounded-md border p-1 shadow-md focus:outline-none",e.class));Z(d,()=>ZP,(f,m)=>{m(f,Te({get class(){return g(h)}},()=>r,{get ref(){return t()},set ref(p){t(p)}}))}),b(l,u)},$$slots:{default:!0}}))}),b(n,i),ne()}const U_=jP,W_=$P;var $D=$('<p class="mb-[0.5em] opacity-80"> </p>'),GD=$('<p class="option-name svelte-cj4nbp"> </p> <!>',1),KD=$('<div class="poll mt-[0.5em] border svelte-cj4nbp"><h1 class="mb-[0.3em] text-xl"> </h1> <!> <p class="mb-[0.5em] opacity-80"> </p> <div class="options-grid svelte-cj4nbp"></div></div>'),qD=$("<!> <!>",1),XD=$("<!> <!>",1);function JD(n,e){te(e,!0);let t=O(()=>new Date(e.poll.dueDate).toLocaleDateString()),r=O(()=>e.now>e.poll.dueDate);function i(c){return c.likedUsers.length+c.neutralUsers.length+c.dislikedUsers.length}function s(c){let u=i(c);return u==0?-1/0:(c.likedUsers.length-c.dislikedUsers.length)/u}let a=O(()=>g(r)?e.poll.options.toSorted((c,u)=>{let d=s(c),h=s(u);if(d!=h)return h-d;let f=i(c);return i(u)-f}):e.poll.options);var o=I(),l=T(o);Z(l,()=>U_,(c,u)=>{u(c,{children:(d,h)=>{var f=XD(),m=T(f);Z(m,()=>W_,(v,y)=>{y(v,{class:"w-fit",children:(_,w)=>{var x=KD(),k=ee(x),A=ee(k,!0);Q(k);var C=q(k,2);{var E=B=>{var K=$D(),Y=ee(K,!0);Q(K),de(()=>Xe(Y,e.poll.description)),b(B,K)};pe(C,B=>{e.poll.description!=""&&B(E)})}var R=q(C,2),U=ee(R);Q(R);var F=q(R,2);Ot(F,21,()=>g(a),Ct,(B,K)=>{var Y=GD(),D=T(Y),L=ee(D,!0);Q(D);var W=q(D,2);{var j=G=>{YD(G,{get project(){return e.project},get poll(){return e.poll},get option(){return g(K)}})},H=G=>{HD(G,{get project(){return e.project},get poll(){return e.poll},get option(){return g(K)}})};pe(W,G=>{g(r)?G(j):G(H,!1)})}de(()=>Xe(L,g(K).title)),b(B,Y)}),Q(F),Q(x),de(()=>{Xe(A,e.poll.title),Xe(U,`Over at ${g(t)??""}`)}),b(_,x)},$$slots:{default:!0}})});var p=q(m,2);Z(p,()=>V_,(v,y)=>{y(v,{children:(_,w)=>{var x=qD(),k=T(x);{var A=E=>{var R=I(),U=T(R);Z(U,()=>Wh,(F,B)=>{B(F,{onclick:()=>{let K=Date.now();e.project.updateInProject(`Polls[Id=${e.poll.id}].DueDate`,K)},children:(K,Y)=>{De();var D=Ee("Finish Now");b(K,D)},$$slots:{default:!0}})}),b(E,R)};pe(k,E=>{g(r)||E(A)})}var C=q(k,2);Z(C,()=>Wh,(E,R)=>{R(E,{onclick:()=>{e.project.deleteInProject(`Polls[Id=${e.poll.id}]`)},children:(U,F)=>{De();var B=Ee("Delete");b(U,B)},$$slots:{default:!0}})}),b(_,x)},$$slots:{default:!0}})}),b(d,f)},$$slots:{default:!0}})}),b(n,o),ne()}var QD=$("<p>No polls available.</p>"),eE=$("<!> <div><!></div>",1);function tE(n,e){te(e,!0),console.log("data in PollsTab: "+e.data);let t=e.project.polls,r=ve(Kt(Date.now()));yi(()=>{const a=setInterval(()=>{J(r,Date.now(),!0)},500);return()=>clearInterval(a)});var i=I(),s=T(i);Z(s,()=>Xi,(a,o)=>{o(a,{value:"polls",children:(l,c)=>{var u=eE(),d=T(u);UD(d,{get project(){return e.project},get data(){return e.data}});var h=q(d,2),f=ee(h);{var m=v=>{var y=I(),_=T(y);Ot(_,17,()=>t,Ct,(w,x)=>{JD(w,{get project(){return e.project},get poll(){return g(x)},get now(){return g(r)}})}),b(v,y)},p=v=>{var y=QD();b(v,y)};pe(f,v=>{t.length>0?v(m):v(p,!1)})}Q(h),b(l,u)},$$slots:{default:!0}})}),b(n,i),ne()}var nE=$("<!> <!>",1),rE=$("<!> loading...",1),iE=$('<div class="grid-columns-1 grid grid-rows-1"><!> <img alt="loading..." class="z-50 col-start-1 row-start-1 mx-auto h-[150px] w-[150px] columns-1"></div> <a target="_blank"> </a>',1),sE=$("<!> <!> <!>",1),aE=$("<!> <!>",1);function oE(n,e){te(e,!0);let t=ve(void 0),r=ve(!1);async function i(){let l=await fetch(Py+Ay+"/invite"+location.search,{mode:"cors",credentials:"include"}),c=await l.text();return l.status!==200&&(Ny(JSON.parse(c).error),J(r,!1)),location.origin+hw+"/join?id="+c}async function s(){J(t,void 0),J(t,await i(),!0)}var a=I(),o=T(a);Z(o,()=>Is,(l,c)=>{c(l,{get open(){return g(r)},set open(u){J(r,u,!0)},children:(u,d)=>{var h=aE(),f=T(h);const m=O(()=>Ys({variant:"outline"}));Z(f,()=>Ia,(v,y)=>{y(v,{get class(){return g(m)},onclick:s,children:(_,w)=>{De();var x=Ee("Invite");b(_,x)},$$slots:{default:!0}})});var p=q(f,2);Z(p,()=>Rs,(v,y)=>{y(v,{class:"sm:max-w-[425px]",children:(_,w)=>{var x=sE(),k=T(x);Z(k,()=>Ns,(U,F)=>{F(U,{children:(B,K)=>{var Y=nE(),D=T(Y);Z(D,()=>mg,(W,j)=>{j(W,{children:(H,G)=>{De();var le=Ee("Invite Teammates");b(H,le)},$$slots:{default:!0}})});var L=q(D,2);Z(L,()=>pg,(W,j)=>{j(W,{children:(H,G)=>{De();var le=Ee("Have everyone scan or visit this link, which expires in a week.");b(H,le)},$$slots:{default:!0}})}),b(B,Y)},$$slots:{default:!0}})});var A=q(k,2);{var C=U=>{var F=rE(),B=T(F);Dm(B,{class:"mx-auto h-[150px] w-[150px] columns-1"}),De(),b(U,F)},E=U=>{var F=iE(),B=T(F),K=ee(B);Dm(K,{class:"col-start-1 row-start-1 mx-auto h-[150px] w-[150px] columns-1"});var Y=q(K,2);Q(B);var D=q(B,2),L=ee(D,!0);Q(D),de(()=>{ii(Y,"src","https://quickchart.io/qr?text="+g(t)),ii(D,"href",g(t)),Xe(L,g(t))}),b(U,F)};pe(A,U=>{g(t)===void 0?U(C):U(E,!1)})}var R=q(A,2);Z(R,()=>vg,(U,F)=>{F(U,{})}),b(_,x)},$$slots:{default:!0}})}),b(u,h)},$$slots:{default:!0}})}),b(n,a),ne()}var lE=$("<!> <!>",1),cE=$("<!> <!>",1);function uE(n,e){te(e,!0);var t=I(),r=T(t);Z(r,()=>gw,(i,s)=>{s(i,{class:"mt-2 w-fit",children:(a,o)=>{var l=cE(),c=T(l);Z(c,()=>mw,(d,h)=>{h(d,{children:(f,m)=>{var p=lE(),v=T(p);Z(v,()=>pw,(_,w)=>{w(_,{children:(x,k)=>{De();var A=Ee("Team Members");b(x,A)},$$slots:{default:!0}})});var y=q(v,2);Z(y,()=>vw,(_,w)=>{w(_,{children:(x,k)=>{De();var A=Ee("Invite your team members to collaborate");b(x,A)},$$slots:{default:!0}})}),b(f,p)},$$slots:{default:!0}})});var u=q(c,2);Z(u,()=>uw,(d,h)=>{h(d,{class:"grid gap-6",children:(f,m)=>{var p=I(),v=T(p);Ot(v,17,()=>e.project.users,Ct,(y,_)=>{aM(y,{get details(){return g(_)},get project(){return e.project}})}),b(f,p)},$$slots:{default:!0}})}),b(a,l)},$$slots:{default:!0}})}),b(n,t),ne()}var dE=$("<!> <div><!> <!></div>",1),fE=$("<!> <!>",1),hE=$("<!> <div><!> <!></div>",1),gE=$("<!> <!>",1),mE=$("<!> <!> <!> <!>",1);function pE(n,e){te(e,!0);let t=ve(!1),r=ve(!1);var i=I(),s=T(i);Z(s,()=>Xi,(a,o)=>{o(a,{value:"settings",children:(l,c)=>{var u=mE(),d=T(u);oE(d,{});var h=q(d,2);Z(h,()=>Is,(p,v)=>{v(p,{get open(){return g(t)},set open(y){J(t,y,!0)},children:(y,_)=>{var w=fE(),x=T(w);Z(x,()=>Ia,(A,C)=>{C(A,{children:(E,R)=>{en(E,{variant:"destructive",children:(U,F)=>{De();var B=Ee("Leave Project");b(U,B)},$$slots:{default:!0}})},$$slots:{default:!0}})});var k=q(x,2);Z(k,()=>Rs,(A,C)=>{C(A,{children:(E,R)=>{var U=dE(),F=T(U);Z(F,()=>Ns,(D,L)=>{L(D,{children:(W,j)=>{De();var H=Ee("Are you sure you want to leave the project?");b(W,H)},$$slots:{default:!0}})});var B=q(F,2),K=ee(B);en(K,{onclick:()=>{e.project.leave()},children:(D,L)=>{De();var W=Ee("Confirm");b(D,W)},$$slots:{default:!0}});var Y=q(K,2);en(Y,{onclick:()=>{J(t,!1)},children:(D,L)=>{De();var W=Ee("Cancel");b(D,W)},$$slots:{default:!0}}),Q(B),b(E,U)},$$slots:{default:!0}})}),b(y,w)},$$slots:{default:!0}})});var f=q(h,2);Z(f,()=>Is,(p,v)=>{v(p,{get open(){return g(r)},set open(y){J(r,y,!0)},children:(y,_)=>{var w=gE(),x=T(w);Z(x,()=>Ia,(A,C)=>{C(A,{children:(E,R)=>{en(E,{variant:"destructive",children:(U,F)=>{De();var B=Ee("Delete Project");b(U,B)},$$slots:{default:!0}})},$$slots:{default:!0}})});var k=q(x,2);Z(k,()=>Rs,(A,C)=>{C(A,{children:(E,R)=>{var U=hE(),F=T(U);Z(F,()=>Ns,(D,L)=>{L(D,{children:(W,j)=>{De();var H=Ee("Are you sure you want to delete the project?");b(W,H)},$$slots:{default:!0}})});var B=q(F,2),K=ee(B);en(K,{onclick:()=>{e.project.delete()},children:(D,L)=>{De();var W=Ee("Confirm");b(D,W)},$$slots:{default:!0}});var Y=q(K,2);en(Y,{onclick:()=>{J(r,!1)},children:(D,L)=>{De();var W=Ee("Cancel");b(D,W)},$$slots:{default:!0}}),Q(B),b(E,U)},$$slots:{default:!0}})}),b(y,w)},$$slots:{default:!0}})});var m=q(f,2);uE(m,{get project(){return e.project}}),b(l,u)},$$slots:{default:!0}})}),b(n,i),ne()}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function yl(n){return n+.5|0}const Xr=(n,e,t)=>Math.max(Math.min(n,t),e);function va(n){return Xr(yl(n*2.55),0,255)}function ti(n){return Xr(yl(n*255),0,255)}function Tr(n){return Xr(yl(n/2.55)/100,0,1)}function Op(n){return Xr(yl(n*100),0,100)}const Cn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hh=[..."0123456789ABCDEF"],vE=n=>Hh[n&15],yE=n=>Hh[(n&240)>>4]+Hh[n&15],Dl=n=>(n&240)>>4===(n&15),bE=n=>Dl(n.r)&&Dl(n.g)&&Dl(n.b)&&Dl(n.a);function _E(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Cn[n[1]]*17,g:255&Cn[n[2]]*17,b:255&Cn[n[3]]*17,a:e===5?Cn[n[4]]*17:255}:(e===7||e===9)&&(t={r:Cn[n[1]]<<4|Cn[n[2]],g:Cn[n[3]]<<4|Cn[n[4]],b:Cn[n[5]]<<4|Cn[n[6]],a:e===9?Cn[n[7]]<<4|Cn[n[8]]:255})),t}const xE=(n,e)=>n<255?e(n):"";function wE(n){var e=bE(n)?vE:yE;return n?"#"+e(n.r)+e(n.g)+e(n.b)+xE(n.a,e):void 0}const SE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function H_(n,e,t){const r=e*Math.min(t,1-t),i=(s,a=(s+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function kE(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function TE(n,e,t){const r=H_(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function PE(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function nm(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=PE(t,r,i,u,s),l=l*60+.5),[l|0,c||0,o]}function rm(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(ti)}function im(n,e,t){return rm(H_,n,e,t)}function AE(n,e,t){return rm(TE,n,e,t)}function ME(n,e,t){return rm(kE,n,e,t)}function Z_(n){return(n%360+360)%360}function OE(n){const e=SE.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?va(+e[5]):ti(+e[5]));const i=Z_(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=AE(i,s,a):e[1]==="hsv"?r=ME(i,s,a):r=im(i,s,a),{r:r[0],g:r[1],b:r[2],a:t}}function CE(n,e){var t=nm(n);t[0]=Z_(t[0]+e),t=im(t),n.r=t[0],n.g=t[1],n.b=t[2]}function DE(n){if(!n)return;const e=nm(n),t=e[0],r=Op(e[1]),i=Op(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Tr(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const Cp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Dp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function EE(){const n={},e=Object.keys(Dp),t=Object.keys(Cp);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<t.length;i++)s=t[i],o=o.replace(s,Cp[s]);s=parseInt(Dp[a],16),n[o]=[s>>16&255,s>>8&255,s&255]}return n}let El;function IE(n){El||(El=EE(),El.transparent=[0,0,0,0]);const e=El[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function NE(n){const e=RE.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?va(a):Xr(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?va(r):Xr(r,0,255)),i=255&(e[4]?va(i):Xr(i,0,255)),s=255&(e[6]?va(s):Xr(s,0,255)),{r,g:i,b:s,a:t}}}function FE(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Tr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Yf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ns=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function LE(n,e,t){const r=ns(Tr(n.r)),i=ns(Tr(n.g)),s=ns(Tr(n.b));return{r:ti(Yf(r+t*(ns(Tr(e.r))-r))),g:ti(Yf(i+t*(ns(Tr(e.g))-i))),b:ti(Yf(s+t*(ns(Tr(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Il(n,e,t){if(n){let r=nm(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=im(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Y_(n,e){return n&&Object.assign(e||{},n)}function Ep(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ti(n[3]))):(e=Y_(n,{r:0,g:0,b:0,a:1}),e.a=ti(e.a)),e}function jE(n){return n.charAt(0)==="r"?NE(n):OE(n)}class to{constructor(e){if(e instanceof to)return e;const t=typeof e;let r;t==="object"?r=Ep(e):t==="string"&&(r=_E(e)||IE(e)||jE(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Y_(this._rgb);return e&&(e.a=Tr(e.a)),e}set rgb(e){this._rgb=Ep(e)}rgbString(){return this._valid?FE(this._rgb):void 0}hexString(){return this._valid?wE(this._rgb):void 0}hslString(){return this._valid?DE(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,o=2*a-1,l=r.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=LE(this._rgb,e._rgb,t)),this}clone(){return new to(this.rgb)}alpha(e){return this._rgb.a=ti(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=yl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Il(this._rgb,2,e),this}darken(e){return Il(this._rgb,2,-e),this}saturate(e){return Il(this._rgb,1,e),this}desaturate(e){return Il(this._rgb,1,-e),this}rotate(e){return CE(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function br(){}const BE=(()=>{let n=0;return()=>n++})();function lt(n){return n==null}function Lt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function rt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Nn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Jn(n,e){return Nn(n)?n:e}function Je(n,e){return typeof n>"u"?e:n}const zE=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,$_=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function mt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ut(n,e,t,r){let i,s,a;if(Lt(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(rt(n))for(a=Object.keys(n),s=a.length,i=0;i<s;i++)e.call(t,n[a[i]],a[i])}function Oc(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Cc(n){if(Lt(n))return n.map(Cc);if(rt(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Cc(n[t[i]]);return e}return n}function G_(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function VE(n,e,t,r){if(!G_(n))return;const i=e[n],s=t[n];rt(i)&&rt(s)?no(i,s,r):e[n]=Cc(s)}function no(n,e,t){const r=Lt(e)?e:[e],i=r.length;if(!rt(n))return n;t=t||{};const s=t.merger||VE;let a;for(let o=0;o<i;++o){if(a=r[o],!rt(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],n,a,t)}return n}function Ta(n,e){return no(n,e,{merger:UE})}function UE(n,e,t){if(!G_(n))return;const r=e[n],i=t[n];rt(r)&&rt(i)?Ta(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Cc(i))}const Ip={"":n=>n,x:n=>n.x,y:n=>n.y};function WE(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function HE(n){const e=WE(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function pi(n,e){return(Ip[e]||(Ip[e]=HE(e)))(n)}function sm(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ro=n=>typeof n<"u",vi=n=>typeof n=="function",Rp=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function ZE(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Tt=Math.PI,Pt=2*Tt,YE=Pt+Tt,Dc=Number.POSITIVE_INFINITY,$E=Tt/180,jt=Tt/2,Ai=Tt/4,Np=Tt*2/3,K_=Math.log10,lr=Math.sign;function Pa(n,e,t){return Math.abs(n-e)<t}function Fp(n){const e=Math.round(n);n=Pa(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(K_(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function GE(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function KE(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function io(n){return!KE(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function qE(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function XE(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ar(n){return n*(Tt/180)}function JE(n){return n*(180/Tt)}function Lp(n){if(!Nn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function q_(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Tt&&(s+=Pt),{angle:s,distance:i}}function Zh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function QE(n,e){return(n-e+YE)%Pt-Tt}function Ur(n){return(n%Pt+Pt)%Pt}function so(n,e,t,r){const i=Ur(n),s=Ur(e),a=Ur(t),o=Ur(s-i),l=Ur(a-i),c=Ur(i-s),u=Ur(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function tn(n,e,t){return Math.max(e,Math.min(t,n))}function eI(n){return tn(n,-32768,32767)}function Jr(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function am(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const Ii=(n,e,t,r)=>am(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),tI=(n,e,t)=>am(n,t,r=>n[r][e]>=t);function nI(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const X_=["push","pop","shift","splice","unshift"];function rI(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),X_.forEach(t=>{const r="_onData"+sm(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return n._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function jp(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(X_.forEach(s=>{delete n[s]}),delete n._chartjs)}function J_(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Q_=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function e0(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Q_.call(window,()=>{r=!1,n.apply(e,t)}))}}function iI(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const om=n=>n==="start"?"left":n==="end"?"right":"center",Jt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,sI=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function aI(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:a,vScale:o,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=a.axis,{min:d,max:h,minDefined:f,maxDefined:m}=a.getUserBounds();if(f){if(i=Math.min(Ii(l,u,d).lo,t?r:Ii(e,u,a.getPixelForValue(d)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(v=>!lt(v[o.axis]));i-=Math.max(0,p)}i=tn(i,0,r-1)}if(m){let p=Math.max(Ii(l,a.axis,h,!0).hi+1,t?0:Ii(e,u,a.getPixelForValue(h),!0).hi+1);if(c){const v=l.slice(p-1).findIndex(y=>!lt(y[o.axis]));p+=Math.max(0,v)}s=tn(p,i,r)-i}else s=r-i}return{start:i,count:s}}function oI(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const Rl=n=>n===0||n===1,Bp=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Pt/t)),zp=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Pt/t)+1,Aa={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*jt)+1,easeOutSine:n=>Math.sin(n*jt),easeInOutSine:n=>-.5*(Math.cos(Tt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Rl(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Rl(n)?n:Bp(n,.075,.3),easeOutElastic:n=>Rl(n)?n:zp(n,.075,.3),easeInOutElastic(n){return Rl(n)?n:n<.5?.5*Bp(n*2,.1125,.45):.5+.5*zp(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Aa.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Aa.easeInBounce(n*2)*.5:Aa.easeOutBounce(n*2-1)*.5+.5};function lm(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Vp(n){return lm(n)?n:new to(n)}function $f(n){return lm(n)?n:new to(n).saturate(.5).darken(.1).hexString()}const lI=["x","y","borderWidth","radius","tension"],cI=["color","borderColor","backgroundColor"];function uI(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:cI},numbers:{type:"number",properties:lI}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function dI(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Up=new Map;function fI(n,e){e=e||{};const t=n+JSON.stringify(e);let r=Up.get(t);return r||(r=new Intl.NumberFormat(n,e),Up.set(t,r)),r}function of(n,e,t){return fI(e,t).format(n)}const hI={values(n){return Lt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=gI(n,t)}const a=K_(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),of(n,r,l)}};function gI(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var t0={formatters:hI};function mI(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:t0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const $i=Object.create(null),Yh=Object.create(null);function Ma(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function Gf(n,e,t){return typeof e=="string"?no(Ma(n,e),t):no(Ma(n,""),e)}class pI{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>$f(i.backgroundColor),this.hoverBorderColor=(r,i)=>$f(i.borderColor),this.hoverColor=(r,i)=>$f(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Gf(this,e,t)}get(e){return Ma(this,e)}describe(e,t){return Gf(Yh,e,t)}override(e,t){return Gf($i,e,t)}route(e,t,r,i){const s=Ma(this,e),a=Ma(this,r),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[o],c=a[i];return rt(l)?Object.assign({},c,l):Je(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(t=>t(this))}}var St=new pI({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[uI,dI,mI]);function vI(n){return!n||lt(n.size)||lt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Wp(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function Mi(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Hp(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function $h(n,e,t,r){n0(n,e,t,r,null)}function n0(n,e,t,r,i){let s,a,o,l,c,u,d,h;const f=e.pointStyle,m=e.rotation,p=e.radius;let v=(m||0)*$E;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(v),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,r,i/2,p,0,0,Pt):n.arc(t,r,p,0,Pt),n.closePath();break;case"triangle":u=i?i/2:p,n.moveTo(t+Math.sin(v)*u,r-Math.cos(v)*p),v+=Np,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*p),v+=Np,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*p),n.closePath();break;case"rectRounded":c=p*.516,l=p-c,a=Math.cos(v+Ai)*l,d=Math.cos(v+Ai)*(i?i/2-c:l),o=Math.sin(v+Ai)*l,h=Math.sin(v+Ai)*(i?i/2-c:l),n.arc(t-d,r-o,c,v-Tt,v-jt),n.arc(t+h,r-a,c,v-jt,v),n.arc(t+d,r+o,c,v,v+jt),n.arc(t-h,r+a,c,v+jt,v+Tt),n.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,u=i?i/2:l,n.rect(t-u,r-l,2*u,2*l);break}v+=Ai;case"rectRot":d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(t-d,r-o),n.lineTo(t+h,r-a),n.lineTo(t+d,r+o),n.lineTo(t-h,r+a),n.closePath();break;case"crossRot":v+=Ai;case"cross":d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(t-d,r-o),n.lineTo(t+d,r+o),n.moveTo(t+h,r-a),n.lineTo(t-h,r+a);break;case"star":d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(t-d,r-o),n.lineTo(t+d,r+o),n.moveTo(t+h,r-a),n.lineTo(t-h,r+a),v+=Ai,d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(t-d,r-o),n.lineTo(t+d,r+o),n.moveTo(t+h,r-a),n.lineTo(t-h,r+a);break;case"line":a=i?i/2:Math.cos(v)*p,o=Math.sin(v)*p,n.moveTo(t-a,r-o),n.lineTo(t+a,r+o);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(v)*(i?i/2:p),r+Math.sin(v)*p);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ao(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function cm(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function um(n){n.restore()}function yI(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function bI(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function _I(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),lt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function xI(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,u),n.lineTo(o,u),n.stroke()}}function wI(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function oo(n,e,t,r,i,s={}){const a=Lt(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,_I(n,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&wI(n,s.backdrop),o&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),lt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,r,s.maxWidth)),n.fillText(c,t,r,s.maxWidth),xI(n,t,r,c,s),r+=Number(i.lineHeight);n.restore()}function Ec(n,e){const{x:t,y:r,w:i,h:s,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*Tt,Tt,!0),n.lineTo(t,r+s-a.bottomLeft),n.arc(t+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Tt,jt,!0),n.lineTo(t+i-a.bottomRight,r+s),n.arc(t+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,jt,0,!0),n.lineTo(t+i,r+a.topRight),n.arc(t+i-a.topRight,r+a.topRight,a.topRight,0,-jt,!0),n.lineTo(t+a.topLeft,r)}const SI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function TI(n,e){const t=(""+n).match(SI);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const PI=n=>+n||0;function dm(n,e){const t={},r=rt(e),i=r?Object.keys(e):e,s=rt(n)?r?a=>Je(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of i)t[a]=PI(s(a));return t}function r0(n){return dm(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ps(n){return dm(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Fn(n){const e=r0(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nn(n,e){n=n||{},e=e||St.font;let t=Je(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Je(n.style,e.style);r&&!(""+r).match(kI)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Je(n.family,e.family),lineHeight:TI(Je(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Je(n.weight,e.weight),string:""};return i.string=vI(i),i}function Nl(n,e,t,r){let i,s,a;for(i=0,s=n.length;i<s;++i)if(a=n[i],a!==void 0&&a!==void 0)return a}function AI(n,e,t){const{min:r,max:i}=n,s=$_(e,(i-r)/2),a=(o,l)=>t&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Ji(n,e){return Object.assign(Object.create(n),e)}function fm(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=o0("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>fm([o,...n],e,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete n[0][l],!0},get(o,l){return s0(o,l,()=>NI(l,e,n,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,l){return Yp(o).includes(l)},ownKeys(o){return Yp(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function Ws(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:i0(n,r),setContext:s=>Ws(n,s,t,r),override:s=>Ws(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,o){return s0(s,a,()=>OI(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,o){return n[a]=o,delete s[a],!0}})}function i0(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:vi(t)?t:()=>t,isIndexable:vi(r)?r:()=>r}}const MI=(n,e)=>n?n+sm(e):e,hm=(n,e)=>rt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function s0(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function OI(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;let o=r[e];return vi(o)&&a.isScriptable(e)&&(o=CI(e,o,n,t)),Lt(o)&&o.length&&(o=DI(e,o,n,a.isIndexable)),hm(e,o)&&(o=Ws(o,i,s&&s[e],a)),o}function CI(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=t;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let l=e(s,a||r);return o.delete(n),hm(n,l)&&(l=gm(i._scopes,i,n,l)),l}function DI(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(rt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=gm(c,i,n,u);e.push(Ws(d,s,a&&a[n],o))}}return e}function a0(n,e,t){return vi(n)?n(e,t):n}const EI=(n,e)=>n===!0?e:typeof n=="string"?pi(e,n):void 0;function II(n,e,t,r,i){for(const s of e){const a=EI(t,s);if(a){n.add(a);const o=a0(a._fallback,t,i);if(typeof o<"u"&&o!==t&&o!==r)return o}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function gm(n,e,t,r){const i=e._rootScopes,s=a0(e._fallback,t,r),a=[...n,...i],o=new Set;o.add(r);let l=Zp(o,a,t,s||t,r);return l===null||typeof s<"u"&&s!==t&&(l=Zp(o,a,s,l,r),l===null)?!1:fm(Array.from(o),[""],i,s,()=>RI(e,t,r))}function Zp(n,e,t,r,i){for(;t;)t=II(n,e,t,r,i);return t}function RI(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Lt(i)&&rt(t)?t:i||{}}function NI(n,e,t,r){let i;for(const s of e)if(i=o0(MI(s,n),t),typeof i<"u")return hm(n,i)?gm(t,r,n,i):i}function o0(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function Yp(n){let e=n._keys;return e||(e=n._keys=FI(n._scopes)),e}function FI(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function LI(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+t,u=e[c],a[o]={r:i.parse(pi(u,s),c)};return a}const jI=Number.EPSILON||1e-14,Hs=(n,e)=>e<n.length&&!n[e].skip&&n[e],l0=n=>n==="x"?"y":"x";function BI(n,e,t,r){const i=n.skip?e:n,s=e,a=t.skip?e:t,o=Zh(s,i),l=Zh(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function zI(n,e,t){const r=n.length;let i,s,a,o,l,c=Hs(n,0);for(let u=0;u<r-1;++u)if(l=c,c=Hs(n,u+1),!(!l||!c)){if(Pa(e[u],0,jI)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],s=t[u+1]/e[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),t[u]=i*a*e[u],t[u+1]=s*a*e[u])}}function VI(n,e,t="x"){const r=l0(t),i=n.length;let s,a,o,l=Hs(n,0);for(let c=0;c<i;++c){if(a=o,o=l,l=Hs(n,c+1),!o)continue;const u=o[t],d=o[r];a&&(s=(u-a[t])/3,o[`cp1${t}`]=u-s,o[`cp1${r}`]=d-s*e[c]),l&&(s=(l[t]-u)/3,o[`cp2${t}`]=u+s,o[`cp2${r}`]=d+s*e[c])}}function UI(n,e="x"){const t=l0(e),r=n.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=Hs(n,0);for(a=0;a<r;++a)if(o=l,l=c,c=Hs(n,a+1),!!l){if(c){const u=c[e]-l[e];i[a]=u!==0?(c[t]-l[t])/u:0}s[a]=o?c?lr(i[a-1])!==lr(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}zI(n,i,s),VI(n,s,e)}function Fl(n,e,t){return Math.max(Math.min(n,t),e)}function WI(n,e){let t,r,i,s,a,o=ao(n[0],e);for(t=0,r=n.length;t<r;++t)a=s,s=o,o=t<r-1&&ao(n[t+1],e),s&&(i=n[t],a&&(i.cp1x=Fl(i.cp1x,e.left,e.right),i.cp1y=Fl(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Fl(i.cp2x,e.left,e.right),i.cp2y=Fl(i.cp2y,e.top,e.bottom)))}function HI(n,e,t,r,i){let s,a,o,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")UI(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)o=n[s],l=BI(c,o,n[Math.min(s+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&WI(n,t)}function mm(){return typeof window<"u"&&typeof document<"u"}function pm(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ic(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const lf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ZI(n,e){return lf(n).getPropertyValue(e)}const YI=["top","right","bottom","left"];function ji(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=YI[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const $I=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function GI(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if($I(i,s,n.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Ci(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=lf(t),s=i.boxSizing==="border-box",a=ji(i,"padding"),o=ji(i,"border","width"),{x:l,y:c,box:u}=GI(n,t),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:f,height:m}=e;return s&&(f-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-d)/f*t.width/r),y:Math.round((c-h)/m*t.height/r)}}function KI(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&pm(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),o=lf(s),l=ji(o,"border","width"),c=ji(o,"padding");e=a.width-c.width-l.width,t=a.height-c.height-l.height,r=Ic(o.maxWidth,s,"clientWidth"),i=Ic(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Dc,maxHeight:i||Dc}}const Ll=n=>Math.round(n*10)/10;function qI(n,e,t,r){const i=lf(n),s=ji(i,"margin"),a=Ic(i.maxWidth,n,"clientWidth")||Dc,o=Ic(i.maxHeight,n,"clientHeight")||Dc,l=KI(n,e,t);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=ji(i,"border","width"),f=ji(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Ll(Math.min(c,a,l.maxWidth)),u=Ll(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Ll(c/2)),(e!==void 0||t!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Ll(Math.floor(u*r))),{width:c,height:u}}function $p(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(n.currentDevicePixelRatio=r,a.height=i,a.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const XI=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};mm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Gp(n,e){const t=ZI(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Di(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function JI(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function QI(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=Di(n,i,t),o=Di(i,s,t),l=Di(s,e,t),c=Di(a,o,t),u=Di(o,l,t);return Di(c,u,t)}const eR=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},tR=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function vs(n,e,t){return n?eR(e,t):tR()}function c0(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function u0(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function d0(n){return n==="angle"?{between:so,compare:QE,normalize:Ur}:{between:Jr,compare:(e,t)=>e-t,normalize:e=>e}}function Kp({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function nR(n,e,t){const{property:r,start:i,end:s}=t,{between:a,normalize:o}=d0(r),l=e.length;let{start:c,end:u,loop:d}=n,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&a(o(e[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}function rR(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,a=e.length,{compare:o,between:l,normalize:c}=d0(r),{start:u,end:d,loop:h,style:f}=nR(n,e,t),m=[];let p=!1,v=null,y,_,w;const x=()=>l(i,w,y)&&o(i,w)!==0,k=()=>o(s,y)===0||l(s,w,y),A=()=>p||x(),C=()=>!p||k();for(let E=u,R=u;E<=d;++E)_=e[E%a],!_.skip&&(y=c(_[r]),y!==w&&(p=l(y,i,s),v===null&&A()&&(v=o(y,i)===0?E:R),v!==null&&C()&&(m.push(Kp({start:v,end:E,loop:h,count:a,style:f})),v=null),R=E,w=y));return v!==null&&m.push(Kp({start:v,end:d,loop:h,count:a,style:f})),m}function iR(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=rR(r[i],n.points,e);s.length&&t.push(...s)}return t}function sR(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function aR(n,e,t,r){const i=n.length,s=[];let a=e,o=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%i];c.skip||c.stop?o.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function oR(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:a,end:o}=sR(t,i,s,r);if(r===!0)return qp(n,[{start:a,end:o,loop:s}],t,e);const l=o<a?o+i:o,c=!!n._fullLoop&&a===0&&o===i-1;return qp(n,aR(t,a,l,c),t,e)}function qp(n,e,t,r){return!r||!r.setContext||!t?e:lR(n,e,t,r)}function lR(n,e,t,r){const i=n._chart.getContext(),s=Xp(n.options),{_datasetIndex:a,options:{spanGaps:o}}=n,l=t.length,c=[];let u=s,d=e[0].start,h=d;function f(m,p,v,y){const _=o?-1:1;if(m!==p){for(m+=l;t[m%l].skip;)m-=_;for(;t[p%l].skip;)p+=_;m%l!==p%l&&(c.push({start:m%l,end:p%l,loop:v,style:y}),u=y,d=p%l)}}for(const m of e){d=o?d:m.start;let p=t[d%l],v;for(h=d+1;h<=m.end;h++){const y=t[h%l];v=Xp(r.setContext(Ji(i,{type:"segment",p0:p,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),cR(v,u)&&f(d,h-1,m.loop,u),p=y,u=v}d<h-1&&f(d,h-1,m.loop,u)}return c}function Xp(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function cR(n,e){if(!e)return!1;const t=[],r=function(i,s){return lm(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class uR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],a=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Q_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xr=new uR;const Jp="transparent",dR={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=Vp(n||Jp),i=r.valid&&Vp(e||Jp);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class fR{constructor(e,t,r,i){const s=t[r];i=Nl([e.to,i,s,e.from]);const a=Nl([e.from,s,i]);this._active=!0,this._fn=e.fn||dR[e.type||typeof a],this._easing=Aa[e.easing]||Aa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Nl([e.to,t,i,e.from]),this._from=Nl([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||t<r),!this._active){this._target[i]=o,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class f0{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!rt(e))return;const t=Object.keys(St.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!rt(s))return;const a={};for(const o of t)a[o]=s[o];(Lt(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,t){const r=t.options,i=gR(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&hR(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[c];let d=s[c];const h=r.get(c);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new fR(h,e,c,u),i.push(d)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return xr.add(this._chart,r),!0}}function hR(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function gR(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Qp(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function mR(n,e,t){if(t===!1)return!1;const r=Qp(n,t),i=Qp(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function pR(n){let e,t,r,i;return rt(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function h0(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function ev(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===t){if(u=!0,r.all)continue;break}c=n.values[l],Nn(c)&&(s||e===0||lr(e)===lr(c))&&(e+=c)}return!u&&!r.all?0:e}function vR(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(n),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:n[u]};return o}function Kf(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function yR(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function bR(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function _R(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function tv(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function nv(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=yR(s,a,r),d=e.length;let h;for(let f=0;f<d;++f){const m=e[f],{[l]:p,[c]:v}=m,y=m._stacks||(m._stacks={});h=y[c]=_R(i,u,p),h[o]=v,h._top=tv(h,a,!0,r.type),h._bottom=tv(h,a,!1,r.type);const _=h._visualValues||(h._visualValues={});_[o]=v}}function qf(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function xR(n,e){return Ji(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function wR(n,e,t){return Ji(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function sa(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const Xf=n=>n==="reset"||n==="none",rv=(n,e)=>e?n:Object.assign({},n),SR=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:h0(t,!0),values:null};class ni{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Kf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&sa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(d,h,f,m)=>d==="x"?h:d==="r"?m:f,s=t.xAxisID=Je(r.xAxisID,qf(e,"x")),a=t.yAxisID=Je(r.yAxisID,qf(e,"y")),o=t.rAxisID=Je(r.rAxisID,qf(e,"r")),l=t.indexAxis,c=t.iAxisID=i(l,s,a,o),u=t.vAxisID=i(l,a,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&jp(this._data,this),e._stacked&&sa(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(rt(t)){const i=this._cachedMeta;this._data=vR(t,i)}else if(r!==t){if(r){jp(r,this);const i=this._cachedMeta;sa(i),i._parsed=[]}t&&Object.isExtensible(t)&&rI(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=Kf(t.vScale,t),t.stack!==r.stack&&(i=!0,sa(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(nv(this,t._parsed),t._stacked=Kf(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=e===0&&t===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Lt(i[e])?h=this.parseArrayData(r,i,e,t):rt(i[e])?h=this.parseObjectData(r,i,e,t):h=this.parsePrimitiveData(r,i,e,t);const f=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<t;++u)r._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);r._sorted=l}a&&nv(this,h)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,d=new Array(i);let h,f,m;for(h=0,f=i;h<f;++h)m=h+r,d[h]={[o]:u||s.parse(c[m],m),[l]:a.parse(t[m],m)};return d}parseArrayData(e,t,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=t[u],o[l]={x:s.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,t,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+r,f=t[h],c[u]={x:s.parse(pi(f,o),h),y:a.parse(pi(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,a=t[e.axis],o={keys:h0(i,!0),values:t._stacks[e.axis]._visualValues};return ev(o,a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let a=s===null?NaN:s;const o=i&&r._stacks[t.axis];i&&o&&(i.values=o,a=ev(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),l=SR(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=bR(o);let h,f;function m(){f=i[h];const p=f[o.axis];return!Nn(f[e.axis])||u>p||d<p}for(h=0;h<a&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],Nn(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=pR(Je(this.options.clip,mR(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const d=i[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=wR(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=xR(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,o=s[a],l=this.enableOptionSharing&&ro(r);if(o)return rv(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(St.elements[e]),m=()=>this.getContext(r,i,t),p=c.resolveNamedOptions(h,f,m,d);return p.$shared&&(p.$shared=l,s[a]=Object.freeze(rv(p,l))),p}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,t),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,r,t))}const c=new f0(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Xf(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,i){Xf(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Xf(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=r.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,a=e+t;let o;const l=c=>{for(c.length+=t,o=c.length-1;o>=a;o--)c[o]=c[o-t]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&sa(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}N(ni,"defaults",{}),N(ni,"datasetElementType",null),N(ni,"dataElementType",null);function kR(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=J_(r.sort((i,s)=>i-s))}return n._cache.$bar}function TR(n){const e=n.iScale,t=kR(e,n.type);let r=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(ro(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return r}function PR(n,e,t,r){const i=t.barThickness;let s,a;return lt(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[n]-s/2}}function AR(n,e,t,r){const i=e.pixels,s=i[n];let a=n>0?i[n-1]:null,o=n<i.length-1?i[n+1]:null;const l=t.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:t.barPercentage,start:c}}function MR(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function g0(n,e,t,r){return Lt(n)?MR(n,e,t,r):e[t.axis]=t.parse(n,r),e}function iv(n,e,t,r){const i=n.iScale,s=n.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,d,h;for(c=t,u=t+r;c<u;++c)h=e[c],d={},d[i.axis]=o||i.parse(a[c],c),l.push(g0(h,d,s,c));return l}function Jf(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function OR(n,e,t){return n!==0?lr(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function CR(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function DR(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=CR(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=c:(t._bottom||0)===r?i=u:(s[sv(u,a,o,l)]=!0,i=c)),s[sv(i,a,o,l)]=!0,n.borderSkipped=s}function sv(n,e,t,r){return r?(n=ER(n,e,t),n=av(n,t,e)):n=av(n,e,t),n}function ER(n,e,t){return n===e?t:n===t?e:n}function av(n,e,t){return n==="start"?e:n==="end"?t:n}function IR(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class rc extends ni{parsePrimitiveData(e,t,r,i){return iv(e,t,r,i)}parseArrayData(e,t,r,i){return iv(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let h,f,m,p;for(h=r,f=r+i;h<f;++h)p=t[h],m={},m[s.axis]=s.parse(pi(p,c),h),d.push(g0(pi(p,u),m,a,h));return d}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),a=s._custom,o=Jf(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(t,i);for(let f=t;f<t+r;f++){const m=this.getParsed(f),p=s||lt(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),y=(m._stacks||{})[o.axis],_={horizontal:c,base:p.base,enableBorderRadius:!y||Jf(m._custom)||a===y._top||a===y._bottom,x:c?p.head:v.center,y:c?v.center:p.head,height:c?v.size:Math.abs(p.size),width:c?Math.abs(p.size):v.size};h&&(_.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const w=_.options||e[f].options;DR(_,w,y,a),IR(_,w,u.ratio),this.updateElement(e[f],f,_,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),l=o&&o[r.axis],c=u=>{const d=u._parsed.find(f=>f[r.axis]===l),h=d&&d[u.vScale.axis];if(lt(h)||isNaN(h))return!0};for(const u of i)if(!(t!==void 0&&c(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=e.barThickness;return{min:o||TR(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,u=Jf(c);let d=l[t.axis],h=0,f=r?this.applyStack(t,l,r):d,m,p;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&lr(d)!==lr(c.barEnd)&&(h=0),h+=d);const v=!lt(s)&&!u?s:h;let y=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?m=t.getPixelForValue(h+f):m=y,p=m-y,Math.abs(p)<a){p=OR(p,t,o)*a,d===o&&(y-=p/2);const _=t.getPixelForDecimal(0),w=t.getPixelForDecimal(1),x=Math.min(_,w),k=Math.max(_,w);y=Math.max(Math.min(y,k),x),m=y+p,r&&!u&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(m)-t.getValueForPixel(y))}if(y===t.getPixelForValue(o)){const _=lr(p)*t.getLineWidthForValue(o)/2;y+=_,p-=_}return{size:p,base:y,head:m,center:m+p/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,a=Je(i.maxBarThickness,1/0);let o,l;if(t.grouped){const c=s?this._getStackCount(e):t.stackCount,u=i.barThickness==="flex"?AR(e,t,i,c):PR(e,t,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=u.start+u.chunk*d+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,t.min*t.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}N(rc,"id","bar"),N(rc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),N(rc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function RR(n,e,t){let r=1,i=1,s=0,a=0;if(e<Pt){const o=n,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(w,x,k)=>so(w,o,l,!0)?1:Math.max(x,x*t,k,k*t),m=(w,x,k)=>so(w,o,l,!0)?-1:Math.min(x,x*t,k,k*t),p=f(0,c,d),v=f(jt,u,h),y=m(Tt,c,d),_=m(Tt+jt,u,h);r=(p-y)/2,i=(v-_)/2,s=-(p+y)/2,a=-(v+_)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class fs extends ni{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(rt(r[e])){const{key:l="value"}=this._parsing;s=c=>+pi(r[c],l)}let a,o;for(a=e,o=e+t;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return ar(this.options.rotation-90)}_getCircumference(){return ar(this.options.circumference)}_getRotationExtents(){let e=Pt,t=-Pt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(zE(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:m,offsetY:p}=RR(d,u,l),v=(r.width-a)/h,y=(r.height-a)/f,_=Math.max(Math.min(v,y)/2,0),w=$_(this.options.radius,_),x=Math.max(w*l,0),k=(w-x)/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=p*w,i.total=this.calculateTotal(),this.outerRadius=w-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Pt)}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(t,i);let y=this._getRotation(),_;for(_=0;_<t;++_)y+=this._circumference(_,s);for(_=t;_<t+r;++_){const w=this._circumference(_,s),x=e[_],k={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:m,innerRadius:f};v&&(k.options=p||this.resolveDataElementOptions(_,x.active?"active":i)),y+=w,this.updateElement(x,_,k,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Pt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=of(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}N(fs,"id","doughnut"),N(fs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),N(fs,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),N(fs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class ic extends ni{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:o,count:l}=aI(t,i,a);this._drawStart=o,this._drawCount=l,oI(t)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i),h=a.axis,f=o.axis,{spanGaps:m,segment:p}=this.options,v=io(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none",_=t+r,w=e.length;let x=t>0&&this.getParsed(t-1);for(let k=0;k<w;++k){const A=e[k],C=y?A:{};if(k<t||k>=_){C.skip=!0;continue}const E=this.getParsed(k),R=lt(E[f]),U=C[h]=a.getPixelForValue(E[h],k),F=C[f]=s||R?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,E,l):E[f],k);C.skip=isNaN(U)||isNaN(F)||R,C.stop=k>0&&Math.abs(E[h]-x[h])>v,p&&(C.parsed=E,C.raw=c.data[k]),d&&(C.options=u||this.resolveDataElementOptions(k,A.active?"active":i)),y||this.updateElement(A,k,C,i),x=E}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}N(ic,"id","line"),N(ic,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),N(ic,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class sc extends ni{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=of(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,r,i){return LI.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,l=a.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*Tt;let f=h,m;const p=360/this.countVisibleElements();for(m=0;m<t;++m)f+=this._computeAngle(m,i,p);for(m=t;m<t+r;m++){const v=e[m];let y=f,_=f+this._computeAngle(m,i,p),w=a.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=_,s&&(l.animateScale&&(w=0),l.animateRotate&&(y=_=h));const x={x:u,y:d,innerRadius:0,outerRadius:w,startAngle:y,endAngle:_,options:this.resolveDataElementOptions(m,v.active?"active":i)};this.updateElement(v,m,x,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?ar(this.resolveDataElementOptions(e,t).angle||r):0}}N(sc,"id","polarArea"),N(sc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),N(sc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Gh extends fs{}N(Gh,"id","pie"),N(Gh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Oi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vm{constructor(e){N(this,"options");this.options=e||{}}static override(e){Object.assign(vm.prototype,e)}init(){}formats(){return Oi()}parse(){return Oi()}format(){return Oi()}add(){return Oi()}diff(){return Oi()}startOf(){return Oi()}endOf(){return Oi()}}var NR={_date:vm};function FR(n,e,t,r){const{controller:i,data:s,_sorted:a}=n,o=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?tI:Ii;if(r){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(s,e,t-d),f=c(s,e,t+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(s,e,t);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=n,f=h.slice(0,u.lo+1).reverse().findIndex(p=>!lt(p[d.axis]));u.lo-=Math.max(0,f);const m=h.slice(u.hi).findIndex(p=>!lt(p[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function cf(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:d,hi:h}=FR(s[o],e,a,i);for(let f=d;f<=h;++f){const m=u[f];m.skip||r(m,c,f)}}}function LR(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Qf(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||cf(n,t,e,function(o,l,c){!i&&!ao(o,n.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function jR(n,e,t,r){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:d}=q_(a,{x:e.x,y:e.y});so(d,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return cf(n,t,e,s),i}function BR(n,e,t,r,i,s){let a=[];const o=LR(t);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const m=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(m))&&!f)return;const v=o(e,m);v<l?(a=[{element:u,datasetIndex:d,index:h}],l=v):v===l&&a.push({element:u,datasetIndex:d,index:h})}return cf(n,t,e,c),a}function eh(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?jR(n,e,t,i):BR(n,e,t,r,i,s)}function ov(n,e,t,r,i){const s=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return cf(n,t,e,(l,c,u)=>{l[a]&&l[a](e[t],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:s}var zR={modes:{index(n,e,t,r){const i=Ci(e,n),s=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?Qf(n,i,s,r,a):eh(n,i,s,!1,r,a),l=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,r){const i=Ci(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?Qf(n,i,s,r,a):eh(n,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=n.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(n,e,t,r){const i=Ci(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return Qf(n,i,s,r,a)},nearest(n,e,t,r){const i=Ci(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return eh(n,i,s,t.intersect,r,a)},x(n,e,t,r){const i=Ci(e,n);return ov(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Ci(e,n);return ov(n,i,"y",t.intersect,r)}}};const m0=["left","top","right","bottom"];function aa(n,e){return n.filter(t=>t.pos===e)}function lv(n,e){return n.filter(t=>m0.indexOf(t.pos)===-1&&t.box.axis===e)}function oa(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function VR(n){const e=[];let t,r,i,s,a,o;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function UR(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!m0.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function WR(n,e){const t=UR(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=n.length;s<a;++s){o=n[s];const{fullSize:l}=o.box,c=t[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=u?u*i:l&&e.availableHeight)}return t}function HR(n){const e=VR(n),t=oa(e.filter(c=>c.box.fullSize),!0),r=oa(aa(e,"left"),!0),i=oa(aa(e,"right")),s=oa(aa(e,"top"),!0),a=oa(aa(e,"bottom")),o=lv(e,"x"),l=lv(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:aa(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function cv(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function p0(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function ZR(n,e,t,r){const{pos:i,box:s}=t,a=n.maxPadding;if(!rt(i)){t.size&&(n[i]-=t.size);const d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?s.height:s.width),t.size=d.size/d.count,n[i]+=t.size}s.getPadding&&p0(a,s.getPadding());const o=Math.max(0,e.outerWidth-cv(a,n,"left","right")),l=Math.max(0,e.outerHeight-cv(a,n,"top","bottom")),c=o!==n.w,u=l!==n.h;return n.w=o,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function YR(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function $R(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return r(n?["left","right"]:["top","bottom"])}function ya(n,e,t,r){const i=[];let s,a,o,l,c,u;for(s=0,a=n.length,c=0;s<a;++s){o=n[s],l=o.box,l.update(o.width||e.w,o.height||e.h,$R(o.horizontal,e));const{same:d,other:h}=ZR(e,t,o,r);c|=d&&i.length,u=u||h,l.fullSize||i.push(o)}return c&&ya(i,e,t,r)||u}function jl(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function uv(n,e,t,r){const i=t.padding;let{x:s,y:a}=e;for(const o of n){const l=o.box,c=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,h=c.size||l.height;ro(c.start)&&(a=c.start),l.fullSize?jl(l,i.left,a,t.outerWidth-i.right-i.left,h):jl(l,e.left+c.placed,a,d,h),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,h=c.size||l.width;ro(c.start)&&(s=c.start),l.fullSize?jl(l,s,i.top,h,t.outerHeight-i.bottom-i.top):jl(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var Rn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Fn(n.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),o=HR(n.boxes),l=o.vertical,c=o.horizontal;ut(n.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},i);p0(h,Fn(r));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),m=WR(l.concat(c),d);ya(o.fullSize,f,d,m),ya(l,f,d,m),ya(c,f,d,m)&&ya(l,f,d,m),YR(f),uv(o.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,uv(o.rightAndBottom,f,d,m),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ut(o.chartArea,p=>{const v=p.box;Object.assign(v,n.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class v0{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class GR extends v0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ac="$chartjs",KR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dv=n=>n===null||n==="";function qR(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[ac]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",dv(i)){const s=Gp(n,"width");s!==void 0&&(n.width=s)}if(dv(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=Gp(n,"height");s!==void 0&&(n.height=s)}return n}const y0=XI?{passive:!0}:!1;function XR(n,e,t){n&&n.addEventListener(e,t,y0)}function JR(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,y0)}function QR(n,e){const t=KR[n.type]||n.type,{x:r,y:i}=Ci(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Rc(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function eN(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Rc(o.addedNodes,r),a=a&&!Rc(o.removedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function tN(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Rc(o.removedNodes,r),a=a&&!Rc(o.addedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const lo=new Map;let fv=0;function b0(){const n=window.devicePixelRatio;n!==fv&&(fv=n,lo.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function nN(n,e){lo.size||window.addEventListener("resize",b0),lo.set(n,e)}function rN(n){lo.delete(n),lo.size||window.removeEventListener("resize",b0)}function iN(n,e,t){const r=n.canvas,i=r&&pm(r);if(!i)return;const s=e0((o,l)=>{const c=i.clientWidth;t(o,l),c<i.clientWidth&&t()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),nN(n,s),a}function th(n,e,t){t&&t.disconnect(),e==="resize"&&rN(n)}function sN(n,e,t){const r=n.canvas,i=e0(s=>{n.ctx!==null&&t(QR(s,n))},n);return XR(r,e,i),i}class aN extends v0{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(qR(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ac])return!1;const r=t[ac].initial;["height","width"].forEach(s=>{const a=r[s];lt(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[ac],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:eN,detach:tN,resize:iN}[t]||sN;i[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:th,detach:th,resize:th}[t]||JR)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return qI(e,t,r,i)}isAttached(e){const t=e&&pm(e);return!!(t&&t.isConnected)}}function oN(n){return!mm()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?GR:aN}var $l;let Fr=($l=class{constructor(){N(this,"x");N(this,"y");N(this,"active",!1);N(this,"options");N(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return io(this.x)&&io(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},N($l,"defaults",{}),N($l,"defaultRoutes"),$l);function lN(n,e){const t=n.options.ticks,r=cN(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?dN(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return fN(e,c,s,a/i),c;const u=uN(s,e,i);if(a>0){let d,h;const f=a>1?Math.round((l-o)/(a-1)):null;for(Bl(e,c,u,lt(f)?0:o-f,o),d=0,h=a-1;d<h;d++)Bl(e,c,u,s[d],s[d+1]);return Bl(e,c,u,l,lt(f)?e.length:l+f),c}return Bl(e,c,u),c}function cN(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function uN(n,e,t){const r=hN(n),i=e.length/t;if(!r)return Math.max(i,1);const s=GE(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function dN(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function fN(n,e,t,r){let i=0,s=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===s&&(e.push(n[a]),i++,s=t[i*r])}function Bl(n,e,t,r,i){const s=Je(r,0),a=Math.min(Je(i,n.length),n.length);let o=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),u=s;u<0;)o++,u=Math.round(s+o*t);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(n[c]),o++,u=Math.round(s+o*t))}function hN(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const gN=n=>n==="left"?"right":n==="right"?"left":n,hv=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,gv=(n,e)=>Math.min(e||n,n);function mv(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function mN(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,a=n._endPixel,o=1e-6;let l=n.getPixelForTick(i),c;if(!(t&&(r===1?c=Math.max(l-s,a-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function pN(n,e){ut(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function la(n){return n.drawTicks?n.tickLength:0}function pv(n,e){if(!n.display)return 0;const t=nn(n.font,e),r=Fn(n.padding);return(Lt(n.text)?n.text.length:1)*t.lineHeight+r.height}function vN(n,e){return Ji(n,{scale:e,type:"scale"})}function yN(n,e,t){return Ji(n,{tick:t,index:e,type:"tick"})}function bN(n,e,t){let r=om(n);return(t&&e!=="right"||!t&&e==="right")&&(r=gN(r)),r}function _N(n,e,t,r){const{top:i,left:s,bottom:a,right:o,chart:l}=n,{chartArea:c,scales:u}=l;let d=0,h,f,m;const p=a-i,v=o-s;if(n.isHorizontal()){if(f=Jt(r,s,o),rt(t)){const y=Object.keys(t)[0],_=t[y];m=u[y].getPixelForValue(_)+p-e}else t==="center"?m=(c.bottom+c.top)/2+p-e:m=hv(n,t,e);h=o-s}else{if(rt(t)){const y=Object.keys(t)[0],_=t[y];f=u[y].getPixelForValue(_)-v+e}else t==="center"?f=(c.left+c.right)/2-v+e:f=hv(n,t,e);m=Jt(r,a,i),d=t==="left"?-jt:jt}return{titleX:f,titleY:m,maxWidth:h,rotation:d}}class qs extends Fr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Jn(e,Number.POSITIVE_INFINITY),t=Jn(t,Number.NEGATIVE_INFINITY),r=Jn(r,Number.POSITIVE_INFINITY),i=Jn(i,Number.NEGATIVE_INFINITY),{min:Jn(e,r),max:Jn(t,i),minDefined:Nn(e),maxDefined:Nn(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(r=Math.max(r,a.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Jn(t,Jn(r,t)),max:Jn(r,Jn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=AI(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?mv(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=lN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),mt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=mt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=gv(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=tn(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/r:f/(r-1),d+6>o&&(o=f/(r-(e.offset?.5:1)),l=this.maxHeight-la(e.grid)-t.padding-pv(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),a=JE(Math.min(Math.asin(tn((u.highest.height+6)/o,-1,1)),Math.asin(tn(l/c,-1,1))-Math.asin(tn(h/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=pv(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=la(s)+l):(e.height=this.maxHeight,e.width=la(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,m=ar(this.labelRotation),p=Math.cos(m),v=Math.sin(m);if(o){const y=r.mirror?0:v*d.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:p*d.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,v,p)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=r*t.height):(h=r*e.height,f=i*t.width):s==="start"?f=t.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=t.width/2),this.paddingLeft=Math.max((h-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+a)*this.width/(this.width-d),0)}else{let u=t.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=t.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)lt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=mv(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(t/gv(t,r));let c=0,u=0,d,h,f,m,p,v,y,_,w,x,k;for(d=0;d<t;d+=l){if(m=e[d].label,p=this._resolveTickFontOptions(d),i.font=v=p.string,y=s[v]=s[v]||{data:{},gc:[]},_=p.lineHeight,w=x=0,!lt(m)&&!Lt(m))w=Wp(i,y.data,y.gc,w,m),x=_;else if(Lt(m))for(h=0,f=m.length;h<f;++h)k=m[h],!lt(k)&&!Lt(k)&&(w=Wp(i,y.data,y.gc,w,k),x+=_);a.push(w),o.push(x),c=Math.max(w,c),u=Math.max(x,u)}pN(s,t);const A=a.indexOf(c),C=o.indexOf(u),E=R=>({width:a[R]||0,height:o[R]||0});return{first:E(0),last:E(t-1),widest:E(A),highest:E(C),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return eI(this._alignToPixels?Mi(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=yN(this.getContext(),e,r))}return this.$context||(this.$context=vN(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ar(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=la(s),f=[],m=o.setContext(this.getContext()),p=m.display?m.width:0,v=p/2,y=function(L){return Mi(r,L,p)};let _,w,x,k,A,C,E,R,U,F,B,K;if(a==="top")_=y(this.bottom),C=this.bottom-h,R=_-v,F=y(e.top)+v,K=e.bottom;else if(a==="bottom")_=y(this.top),F=e.top,K=y(e.bottom)-v,C=_+v,R=this.top+h;else if(a==="left")_=y(this.right),A=this.right-h,E=_-v,U=y(e.left)+v,B=e.right;else if(a==="right")_=y(this.left),U=e.left,B=y(e.right)-v,A=_+v,E=this.left+h;else if(t==="x"){if(a==="center")_=y((e.top+e.bottom)/2+.5);else if(rt(a)){const L=Object.keys(a)[0],W=a[L];_=y(this.chart.scales[L].getPixelForValue(W))}F=e.top,K=e.bottom,C=_+v,R=C+h}else if(t==="y"){if(a==="center")_=y((e.left+e.right)/2);else if(rt(a)){const L=Object.keys(a)[0],W=a[L];_=y(this.chart.scales[L].getPixelForValue(W))}A=_-v,E=A-h,U=e.left,B=e.right}const Y=Je(i.ticks.maxTicksLimit,d),D=Math.max(1,Math.ceil(d/Y));for(w=0;w<d;w+=D){const L=this.getContext(w),W=s.setContext(L),j=o.setContext(L),H=W.lineWidth,G=W.color,le=j.dash||[],ie=j.dashOffset,he=W.tickWidth,_e=W.tickColor,Pe=W.tickBorderDash||[],re=W.tickBorderDashOffset;x=mN(this,w,l),x!==void 0&&(k=Mi(r,x,H),c?A=E=U=B=k:C=R=F=K=k,f.push({tx1:A,ty1:C,tx2:E,ty2:R,x1:U,y1:F,x2:B,y2:K,width:H,color:G,borderDash:le,borderDashOffset:ie,tickWidth:he,tickColor:_e,tickBorderDash:Pe,tickBorderDashOffset:re}))}return this._ticksLength=d,this._borderValue=_,f}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=la(r.grid),f=h+u,m=d?-u:f,p=-ar(this.labelRotation),v=[];let y,_,w,x,k,A,C,E,R,U,F,B,K="middle";if(i==="top")A=this.bottom-m,C=this._getXAxisLabelAlignment();else if(i==="bottom")A=this.top+m,C=this._getXAxisLabelAlignment();else if(i==="left"){const D=this._getYAxisLabelAlignment(h);C=D.textAlign,k=D.x}else if(i==="right"){const D=this._getYAxisLabelAlignment(h);C=D.textAlign,k=D.x}else if(t==="x"){if(i==="center")A=(e.top+e.bottom)/2+f;else if(rt(i)){const D=Object.keys(i)[0],L=i[D];A=this.chart.scales[D].getPixelForValue(L)+f}C=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")k=(e.left+e.right)/2-f;else if(rt(i)){const D=Object.keys(i)[0],L=i[D];k=this.chart.scales[D].getPixelForValue(L)}C=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(l==="start"?K="top":l==="end"&&(K="bottom"));const Y=this._getLabelSizes();for(y=0,_=o.length;y<_;++y){w=o[y],x=w.label;const D=s.setContext(this.getContext(y));E=this.getPixelForTick(y)+s.labelOffset,R=this._resolveTickFontOptions(y),U=R.lineHeight,F=Lt(x)?x.length:1;const L=F/2,W=D.color,j=D.textStrokeColor,H=D.textStrokeWidth;let G=C;a?(k=E,C==="inner"&&(y===_-1?G=this.options.reverse?"left":"right":y===0?G=this.options.reverse?"right":"left":G="center"),i==="top"?c==="near"||p!==0?B=-F*U+U/2:c==="center"?B=-Y.highest.height/2-L*U+U:B=-Y.highest.height+U/2:c==="near"||p!==0?B=U/2:c==="center"?B=Y.highest.height/2-L*U:B=Y.highest.height-F*U,d&&(B*=-1),p!==0&&!D.showLabelBackdrop&&(k+=U/2*Math.sin(p))):(A=E,B=(1-F)*U/2);let le;if(D.showLabelBackdrop){const ie=Fn(D.backdropPadding),he=Y.heights[y],_e=Y.widths[y];let Pe=B-ie.top,re=0-ie.left;switch(K){case"middle":Pe-=he/2;break;case"bottom":Pe-=he;break}switch(C){case"center":re-=_e/2;break;case"right":re-=_e;break;case"inner":y===_-1?re-=_e:y>0&&(re-=_e/2);break}le={left:re,top:Pe,width:_e+ie.width,height:he+ie.height,color:D.backdropColor}}v.push({label:x,font:R,textOffset:B,options:{rotation:p,color:W,strokeColor:j,strokeWidth:H,textAlign:G,textBaseline:K,translation:[k,A],backdrop:le}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ar(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return t==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const l=i[s];t.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Mi(e,this.left,a)-a/2,u=Mi(e,this.right,o)+o/2,d=h=l):(d=Mi(e,this.top,a)-a/2,h=Mi(e,this.bottom,o)+o/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,d),t.lineTo(u,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&cm(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;oo(r,c,0,u,l,o)}i&&um(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=nn(r.font),a=Fn(r.padding),o=r.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||rt(t)?(l+=a.bottom,Lt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=_N(this,l,t,o);oo(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:bN(o,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Je(e.grid&&e.grid.z,-1),i=Je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==qs.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const o=t[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return nn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zl{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;SN(t)&&(r=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,xN(e,a,r),this.override&&St.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in St[i]&&(delete St[i][r],this.override&&delete $i[r])}}function xN(n,e,t){const r=no(Object.create(null),[t?St.get(t):{},St.get(e),n.defaults]);St.set(e,r),n.defaultRoutes&&wN(e,n.defaultRoutes),n.descriptors&&St.describe(e,n.descriptors)}function wN(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),a=e[t].split("."),o=a.pop(),l=a.join(".");St.route(s,i,l,o)})}function SN(n){return"id"in n&&"defaults"in n}class kN{constructor(){this.controllers=new zl(ni,"datasets",!0),this.elements=new zl(Fr,"elements"),this.plugins=new zl(Object,"plugins"),this.scales=new zl(qs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):ut(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,r){const i=sm(e);mt(r["before"+i],[],r),t[e](r),mt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var er=new kN;class TN{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],l=[t,i,s.options];if(mt(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Je(r.options&&r.options.plugins,{}),s=PN(r);return i===!1&&!t?[]:MN(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function PN(n){const e={},t=[],r=Object.keys(er.plugins.items);for(let s=0;s<r.length;s++)t.push(er.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function AN(n,e){return!e&&n===!1?null:n===!0?{}:n}function MN(n,{plugins:e,localIds:t},r,i){const s=[],a=n.getContext();for(const o of e){const l=o.id,c=AN(r[l],i);c!==null&&s.push({plugin:o,options:ON(n.config,{plugin:o,local:t[l]},c,a)})}return s}function ON(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(r,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Kh(n,e){const t=St.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function CN(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function DN(n,e){return n===e?"_index_":"_value_"}function vv(n){if(n==="x"||n==="y"||n==="r")return n}function EN(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function qh(n,...e){if(vv(n))return n;for(const t of e){const r=t.axis||EN(t.position)||n.length>1&&vv(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function yv(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function IN(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return yv(n,"x",t[0])||yv(n,"y",t[0])}return{}}function RN(n,e){const t=$i[n.type]||{scales:{}},r=e.scales||{},i=Kh(n.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!rt(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=qh(a,o,IN(a,n),St.scales[o.type]),c=DN(l,i),u=t.scales||{};s[a]=Ta(Object.create(null),[{axis:l},o,u[l],u[c]])}),n.data.datasets.forEach(a=>{const o=a.type||n.type,l=a.indexAxis||Kh(o,e),u=($i[o]||{}).scales||{};Object.keys(u).forEach(d=>{const h=CN(d,l),f=a[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),Ta(s[f],[{axis:h},r[f],u[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];Ta(o,[St.scales[o.type],St.scale])}),s}function _0(n){const e=n.options||(n.options={});e.plugins=Je(e.plugins,{}),e.scales=RN(n,e)}function x0(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function NN(n){return n=n||{},n.data=x0(n.data),_0(n),n}const bv=new Map,w0=new Set;function Vl(n,e){let t=bv.get(n);return t||(t=e(),bv.set(n,t),w0.add(t)),t}const ca=(n,e,t)=>{const r=pi(e,t);r!==void 0&&n.add(r)};class FN{constructor(e){this._config=NN(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=x0(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_0(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Vl(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Vl(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Vl(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(t);if(o)return o;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(d=>ca(l,e,d))),u.forEach(d=>ca(l,i,d)),u.forEach(d=>ca(l,$i[s]||{},d)),u.forEach(d=>ca(l,St,d)),u.forEach(d=>ca(l,Yh,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),w0.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,$i[t]||{},St.datasets[t]||{},{type:t},St,Yh]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=_v(this._resolverCache,e,i);let l=a;if(jN(a,t)){s.$shared=!1,r=vi(r)?r():r;const c=this.createResolver(e,r,o);l=Ws(a,r,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,r=[""],i){const{resolver:s}=_v(this._resolverCache,e,r);return rt(t)?Ws(s,t,void 0,i):s}}function _v(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:fm(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const LN=n=>rt(n)&&Object.getOwnPropertyNames(n).some(e=>vi(n[e]));function jN(n,e){const{isScriptable:t,isIndexable:r}=i0(n);for(const i of e){const s=t(i),a=r(i),o=(a||s)&&n[i];if(s&&(vi(o)||LN(o))||a&&Lt(o))return!0}return!1}var BN="4.4.8";const zN=["top","bottom","left","right","chartArea"];function xv(n,e){return n==="top"||n==="bottom"||zN.indexOf(n)===-1&&e==="x"}function wv(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Sv(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),mt(t&&t.onComplete,[n],e)}function VN(n){const e=n.chart,t=e.options.animation;mt(t&&t.onProgress,[n],e)}function S0(n){return mm()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const oc={},kv=n=>{const e=S0(n);return Object.values(oc).filter(t=>t.canvas===e).pop()};function UN(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const a=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=a)}}}function WN(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}function Ul(n,e,t){return n.options.clip?n[t]:e[t]}function HN(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Ul(t,e,"left"),right:Ul(t,e,"right"),top:Ul(r,e,"top"),bottom:Ul(r,e,"bottom")}:e}var zr;let Xh=(zr=class{static register(...e){er.add(...e),Tv()}static unregister(...e){er.remove(...e),Tv()}constructor(e,t){const r=this.config=new FN(t),i=S0(e),s=kv(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||oN(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=BE(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TN,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=iI(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],oc[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}xr.listen(this,"complete",Sv),xr.listen(this,"progress",VN),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return lt(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$p(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hp(this.canvas,this.ctx),this}stop(){return xr.stop(this),this}resize(e,t){xr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,$p(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),mt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ut(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const o=t[a],l=qh(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ut(s,a=>{const o=a.options,l=o.id,c=qh(l,o),u=Je(o.type,a.dtype);(o.position===void 0||xv(o.position,c)!==xv(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const h=er.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(o,e)}),ut(i,(a,o)=>{a||delete r[o]}),ut(r,a=>{Rn.configure(this,a,a.options),Rn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(wv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||Kh(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=er.getController(o),{datasetElementType:c,dataElementType:u}=St.datasets[o];Object.assign(l,{dataElementType:er.getElement(u),datasetElementType:c&&er.getElement(c)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ut(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||ut(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wv("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){ut(this.scales,e=>{Rn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Rp(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const a=r==="_removeElements"?-s:s;UN(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!Rp(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rn.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],ut(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,vi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xr.has(this)?this.attached&&!xr.running(this)&&xr.start(this):(this.draw(),Sv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,i=!r.disabled,s=HN(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&cm(t,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&um(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return ao(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=zR.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ji(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);ro(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),xr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Hp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete oc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};ut(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){ut(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ut(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,a,o,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Oc(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=s(t,e),o=r?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,a=t,o=this._getActiveElements(e,i,r,a),l=ZE(e),c=WN(e,this._lastEvent,r,l);r&&(this._lastEvent=null,mt(s.onHover,[e,o,this],this),l&&mt(s.onClick,[e,o,this],this));const u=!Oc(o,i);return(u||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=c,u}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},N(zr,"defaults",St),N(zr,"instances",oc),N(zr,"overrides",$i),N(zr,"registry",er),N(zr,"version",BN),N(zr,"getChart",kv),zr);function Tv(){return ut(Xh.instances,n=>n._plugins.invalidate())}function ZN(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;n.beginPath(),n.arc(s,a,o,r-c,t+c),l>i?(c=i/l,n.arc(s,a,l,t+c,r-c,!0)):n.arc(s,a,i,t+jt,r-jt),n.closePath(),n.clip()}function YN(n){return dm(n,["outerStart","outerEnd","innerStart","innerEnd"])}function $N(n,e,t,r){const i=YN(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,r*e/2),o=l=>{const c=(t-Math.min(s,l))*r/2;return tn(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:tn(i.innerStart,0,a),innerEnd:tn(i.innerEnd,0,a)}}function rs(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Nc(n,e,t,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+t-c,0),h=u>0?u+r+t+c:0;let f=0;const m=i-l;if(r){const D=u>0?u-r:0,L=d>0?d-r:0,W=(D+L)/2,j=W!==0?m*W/(W+r):m;f=(m-j)/2}const p=Math.max(.001,m*d-t/Tt)/d,v=(m-p)/2,y=l+v+f,_=i-v-f,{outerStart:w,outerEnd:x,innerStart:k,innerEnd:A}=$N(e,h,d,_-y),C=d-w,E=d-x,R=y+w/C,U=_-x/E,F=h+k,B=h+A,K=y+k/F,Y=_-A/B;if(n.beginPath(),s){const D=(R+U)/2;if(n.arc(a,o,d,R,D),n.arc(a,o,d,D,U),x>0){const H=rs(E,U,a,o);n.arc(H.x,H.y,x,U,_+jt)}const L=rs(B,_,a,o);if(n.lineTo(L.x,L.y),A>0){const H=rs(B,Y,a,o);n.arc(H.x,H.y,A,_+jt,Y+Math.PI)}const W=(_-A/h+(y+k/h))/2;if(n.arc(a,o,h,_-A/h,W,!0),n.arc(a,o,h,W,y+k/h,!0),k>0){const H=rs(F,K,a,o);n.arc(H.x,H.y,k,K+Math.PI,y-jt)}const j=rs(C,y,a,o);if(n.lineTo(j.x,j.y),w>0){const H=rs(C,R,a,o);n.arc(H.x,H.y,w,y-jt,R)}}else{n.moveTo(a,o);const D=Math.cos(R)*d+a,L=Math.sin(R)*d+o;n.lineTo(D,L);const W=Math.cos(U)*d+a,j=Math.sin(U)*d+o;n.lineTo(W,j)}n.closePath()}function GN(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){Nc(n,e,t,r,l,i);for(let c=0;c<s;++c)n.fill();isNaN(o)||(l=a+(o%Pt||Pt))}return Nc(n,e,t,r,l,i),n.fill(),l}function KN(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=h,f?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let m=e.endAngle;if(s){Nc(n,e,t,r,m,i);for(let p=0;p<s;++p)n.stroke();isNaN(o)||(m=a+(o%Pt||Pt))}f&&ZN(n,e,m),s||(Nc(n,e,t,r,m,i),n.stroke())}class ba extends Fr{constructor(t){super();N(this,"circumference");N(this,"endAngle");N(this,"fullCircles");N(this,"innerRadius");N(this,"outerRadius");N(this,"pixelMargin");N(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=q_(s,{x:t,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,m=Je(h,c-l),p=so(a,l,c)&&l!==c,v=m>=Pt||p,y=Jr(o,u+f,d+f);return v&&y}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,d=(s+a)/2,h=(o+l+u+c)/2;return{x:r+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Pt?Math.floor(i/Pt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Tt,i||0)),u=s*c;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,GN(t,this,u,a,o),KN(t,this,u,a,o),t.restore()}}N(ba,"id","arc"),N(ba,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),N(ba,"defaultRoutes",{backgroundColor:"backgroundColor"}),N(ba,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function k0(n,e,t=e){n.lineCap=Je(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Je(t.borderDash,e.borderDash)),n.lineDashOffset=Je(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Je(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Je(t.borderWidth,e.borderWidth),n.strokeStyle=Je(t.borderColor,e.borderColor)}function qN(n,e,t){n.lineTo(t.x,t.y)}function XN(n){return n.stepped?yI:n.tension||n.cubicInterpolationMode==="monotone"?bI:qN}function T0(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function JN(n,e,t,r){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=T0(i,t,r),u=XN(s);let{move:d=!0,reverse:h}=r||{},f,m,p;for(f=0;f<=c;++f)m=i[(o+(h?c-f:f))%a],!m.skip&&(d?(n.moveTo(m.x,m.y),d=!1):u(n,p,m,h,s.stepped),p=m);return l&&(m=i[(o+(h?c:0))%a],u(n,p,m,h,s.stepped)),!!l}function QN(n,e,t,r){const i=e.points,{count:s,start:a,ilen:o}=T0(i,t,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,h,f,m,p,v,y;const _=x=>(a+(c?o-x:x))%s,w=()=>{p!==v&&(n.lineTo(u,v),n.lineTo(u,p),n.lineTo(u,y))};for(l&&(f=i[_(0)],n.moveTo(f.x,f.y)),h=0;h<=o;++h){if(f=i[_(h)],f.skip)continue;const x=f.x,k=f.y,A=x|0;A===m?(k<p?p=k:k>v&&(v=k),u=(d*u+x)/++d):(w(),n.lineTo(x,k),m=A,d=0,p=v=k),y=k}w()}function Jh(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?QN:JN}function eF(n){return n.stepped?JI:n.tension||n.cubicInterpolationMode==="monotone"?QI:Di}function tF(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),k0(n,e.options),n.stroke(i)}function nF(n,e,t,r){const{segments:i,options:s}=e,a=Jh(e);for(const o of i)k0(n,s,o.style),n.beginPath(),a(n,e,o,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const rF=typeof Path2D=="function";function iF(n,e,t,r){rF&&!e.options.segment?tF(n,e,t,r):nF(n,e,t,r)}class _a extends Fr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;HI(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=oR(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,a=iR(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],l=eF(r);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:h}=a[c],f=s[d],m=s[h];if(f===m){o.push(f);continue}const p=Math.abs((i-f[t])/(m[t]-f[t])),v=l(f,m,p,r.stepped);v[t]=e[t],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,t,r){return Jh(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=Jh(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const o of i)a&=s(e,this,o,{start:t,end:t+r-1});return!!a}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),iF(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}N(_a,"id","line"),N(_a,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),N(_a,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),N(_a,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Pv(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class lc extends Fr{constructor(t){super();N(this,"parsed");N(this,"skip");N(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return Pv(this,t,"x",r)}inYRange(t,r){return Pv(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!ao(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,$h(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}N(lc,"id","point"),N(lc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),N(lc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function P0(n,e){const{x:t,y:r,base:i,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return n.horizontal?(d=a/2,o=Math.min(t,i),l=Math.max(t,i),c=r-d,u=r+d):(d=s/2,o=t-d,l=t+d,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function Qr(n,e,t,r){return n?0:tn(e,t,r)}function sF(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=r0(r);return{t:Qr(i.top,s.top,0,t),r:Qr(i.right,s.right,0,e),b:Qr(i.bottom,s.bottom,0,t),l:Qr(i.left,s.left,0,e)}}function aF(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=ps(i),a=Math.min(e,t),o=n.borderSkipped,l=r||rt(i);return{topLeft:Qr(!l||o.top||o.left,s.topLeft,0,a),topRight:Qr(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Qr(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Qr(!l||o.bottom||o.right,s.bottomRight,0,a)}}function oF(n){const e=P0(n),t=e.right-e.left,r=e.bottom-e.top,i=sF(n,t/2,r/2),s=aF(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function nh(n,e,t,r){const i=e===null,s=t===null,o=n&&!(i&&s)&&P0(n,r);return o&&(i||Jr(e,o.left,o.right))&&(s||Jr(t,o.top,o.bottom))}function lF(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function cF(n,e){n.rect(e.x,e.y,e.w,e.h)}function rh(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,a=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+a,radius:n.radius}}class cc extends Fr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=oF(this),o=lF(a.radius)?Ec:cF;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,rh(a,t,s)),e.clip(),o(e,rh(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,rh(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return nh(this,e,t,r)}inXRange(e,t){return nh(this,e,null,t)}inYRange(e,t){return nh(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}N(cc,"id","bar"),N(cc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),N(cc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Qh=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Av=Qh.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function A0(n){return Qh[n%Qh.length]}function M0(n){return Av[n%Av.length]}function uF(n,e){return n.borderColor=A0(e),n.backgroundColor=M0(e),++e}function dF(n,e){return n.backgroundColor=n.data.map(()=>A0(e++)),e}function fF(n,e){return n.backgroundColor=n.data.map(()=>M0(e++)),e}function hF(n){let e=0;return(t,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof fs?e=dF(t,e):i instanceof sc?e=fF(t,e):i&&(e=uF(t,e))}}function Mv(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function gF(n){return n&&(n.borderColor||n.backgroundColor)}function mF(){return St.borderColor!=="rgba(0,0,0,0.1)"||St.backgroundColor!=="rgba(0,0,0,0.1)"}var pF={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:s}=i,a=Mv(r)||gF(i)||s&&Mv(s)||mF();if(!t.forceOverride&&a)return;const o=hF(n);r.forEach(o)}};const Ov=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},vF=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Cv extends Fr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=mt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=nn(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Ov(r,s);let c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((m,p)=>{const v=r+t/2+s.measureText(m.text).width;(p===0||c[c.length-1]+v+2*o>a)&&(d+=u,c[c.length-(p>0?0:1)]=0,f+=u,h++),l[p]={left:0,top:f,row:h,width:v,height:i},c[c.length-1]+=v+o}),d}_fitCols(e,t,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,h=0,f=0,m=0,p=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:_,itemHeight:w}=yF(r,t,s,v,i);y>0&&f+w+2*o>u&&(d+=h+o,c.push({width:h,height:f}),m+=h+o,p++,h=f=0),l[y]={left:m,top:f,col:p,width:_,height:w},h=Math.max(h,_),f+=w+o}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,a=vs(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Jt(r,this.left+i,this.right-this.lineWidths[o]);for(const c of t)o!==c.row&&(o=c.row,l=Jt(r,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=Jt(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of t)c.col!==o&&(o=c.col,l=Jt(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cm(e,this),this._draw(),um(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=St.color,l=vs(e.rtl,this.left,this.width),c=nn(a.font),{padding:u}=a,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:p,itemHeight:v}=Ov(a,d),y=function(A,C,E){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;i.save();const R=Je(E.lineWidth,1);if(i.fillStyle=Je(E.fillStyle,o),i.lineCap=Je(E.lineCap,"butt"),i.lineDashOffset=Je(E.lineDashOffset,0),i.lineJoin=Je(E.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=Je(E.strokeStyle,o),i.setLineDash(Je(E.lineDash,[])),a.usePointStyle){const U={radius:p*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:R},F=l.xPlus(A,m/2),B=C+h;n0(i,U,F,B,a.pointStyleWidth&&m)}else{const U=C+Math.max((d-p)/2,0),F=l.leftForLtr(A,m),B=ps(E.borderRadius);i.beginPath(),Object.values(B).some(K=>K!==0)?Ec(i,{x:F,y:U,w:m,h:p,radius:B}):i.rect(F,U,m,p),i.fill(),R!==0&&i.stroke()}i.restore()},_=function(A,C,E){oo(i,E.text,A,C+v/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},w=this.isHorizontal(),x=this._computeTitleHeight();w?f={x:Jt(s,this.left+u,this.right-r[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:Jt(s,this.top+x+u,this.bottom-t[0].height),line:0},c0(this.ctx,e.textDirection);const k=v+u;this.legendItems.forEach((A,C)=>{i.strokeStyle=A.fontColor,i.fillStyle=A.fontColor;const E=i.measureText(A.text).width,R=l.textAlign(A.textAlign||(A.textAlign=a.textAlign)),U=m+h+E;let F=f.x,B=f.y;l.setWidth(this.width),w?C>0&&F+U+u>this.right&&(B=f.y+=k,f.line++,F=f.x=Jt(s,this.left+u,this.right-r[f.line])):C>0&&B+k>this.bottom&&(F=f.x=F+t[f.line].width+u,f.line++,B=f.y=Jt(s,this.top+x+u,this.bottom-t[f.line].height));const K=l.x(F);if(y(K,B,A),F=sI(R,F+m+h,w?F+U:this.right,e.rtl),_(l.x(F),B,A),w)f.x+=U+u;else if(typeof A.text!="string"){const Y=c.lineHeight;f.y+=O0(A,Y)+u}else f.y+=k}),u0(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=nn(t.font),i=Fn(t.padding);if(!t.display)return;const s=vs(e.rtl,this.left,this.width),a=this.ctx,o=t.position,l=r.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Jt(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);u=c+Jt(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=Jt(o,d,d+h);a.textAlign=s.textAlign(om(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,oo(a,t.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,t=nn(e.font),r=Fn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(Jr(e,this.left,this.right)&&Jr(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Jr(e,i.left,i.left+i.width)&&Jr(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!xF(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=vF(i,r);i&&!s&&mt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&mt(t.onHover,[e,r,this],this)}else r&&mt(t.onClick,[e,r,this],this)}}function yF(n,e,t,r,i){const s=bF(r,n,e,t),a=_F(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function bF(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+r.measureText(i).width}function _F(n,e,t){let r=n;return typeof e.text!="string"&&(r=O0(e,t)),r}function O0(n,e){const t=n.text?n.text.length:0;return e*t}function xF(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var wF={id:"legend",_element:Cv,start(n,e,t){const r=n.legend=new Cv({ctx:n.ctx,options:t,chart:n});Rn.configure(n,r,t),Rn.addBox(n,r)},stop(n){Rn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Rn.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Fn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class C0 extends Fr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=Lt(r.text)?r.text.length:1;this._padding=Fn(r.padding);const s=i*nn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=Jt(o,r,s),d=t+e,c=s-r):(a.position==="left"?(u=r+e,d=Jt(o,i,t),l=Tt*-.5):(u=s-e,d=Jt(o,t,i),l=Tt*.5),c=i-t),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=nn(t.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);oo(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:om(t.align),textBaseline:"middle",translation:[a,o]})}}function SF(n,e){const t=new C0({ctx:n.ctx,options:e,chart:n});Rn.configure(n,t,e),Rn.addBox(n,t),n.titleBlock=t}var kF={id:"title",_element:C0,start(n,e,t){SF(n,t)},stop(n){const e=n.titleBlock;Rn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Rn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xa={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=n.length;s<a;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Zh(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function Qn(n,e){return e&&(Lt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function wr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function TF(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:n,label:a,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Dv(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:a,boxHeight:o}=e,l=nn(e.bodyFont),c=nn(e.titleFont),u=nn(e.footerFont),d=s.length,h=i.length,f=r.length,m=Fn(e.padding);let p=m.height,v=0,y=r.reduce((x,k)=>x+k.before.length+k.lines.length+k.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,d&&(p+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const x=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=f*x+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let _=0;const w=function(x){v=Math.max(v,t.measureText(x).width+_)};return t.save(),t.font=c.string,ut(n.title,w),t.font=l.string,ut(n.beforeBody.concat(n.afterBody),w),_=e.displayColors?a+2+e.boxPadding:0,ut(r,x=>{ut(x.before,w),ut(x.lines,w),ut(x.after,w)}),_=0,t.font=u.string,ut(n.footer,w),t.restore(),v+=m.width,{width:v,height:p}}function PF(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function AF(n,e,t,r){const{x:i,width:s}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&i+s+a>e.width||n==="right"&&i-s-a<0)return!0}function MF(n,e,t,r){const{x:i,width:s}=t,{width:a,chartArea:{left:o,right:l}}=n;let c="center";return r==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),AF(c,n,e,t)&&(c="center"),c}function Ev(n,e,t){const r=t.yAlign||e.yAlign||PF(n,t);return{xAlign:t.xAlign||e.xAlign||MF(n,e,t,r),yAlign:r}}function OF(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function CF(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function Iv(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=n,{xAlign:o,yAlign:l}=t,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=ps(a);let m=OF(e,o);const p=CF(e,l,c);return l==="center"?o==="left"?m+=c:o==="right"&&(m-=c):o==="left"?m-=Math.max(u,h)+i:o==="right"&&(m+=Math.max(d,f)+i),{x:tn(m,0,r.width-e.width),y:tn(p,0,r.height-e.height)}}function Wl(n,e,t){const r=Fn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Rv(n){return Qn([],wr(n))}function DF(n,e,t){return Ji(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Nv(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const D0={beforeTitle:br,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:br,beforeBody:br,beforeLabel:br,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return lt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:br,afterBody:br,beforeFooter:br,footer:br,afterFooter:br};function mn(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?D0[e].call(t,r):i}class eg extends Fr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new f0(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=DF(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=mn(r,"beforeTitle",this,e),s=mn(r,"title",this,e),a=mn(r,"afterTitle",this,e);let o=[];return o=Qn(o,wr(i)),o=Qn(o,wr(s)),o=Qn(o,wr(a)),o}getBeforeBody(e,t){return Rv(mn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return ut(e,s=>{const a={before:[],lines:[],after:[]},o=Nv(r,s);Qn(a.before,wr(mn(o,"beforeLabel",this,s))),Qn(a.lines,mn(o,"label",this,s)),Qn(a.after,wr(mn(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,t){return Rv(mn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=mn(r,"beforeFooter",this,e),s=mn(r,"footer",this,e),a=mn(r,"afterFooter",this,e);let o=[];return o=Qn(o,wr(i)),o=Qn(o,wr(s)),o=Qn(o,wr(a)),o}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=t.length;l<c;++l)o.push(TF(this.chart,t[l]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,r))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,r))),ut(o,u=>{const d=Nv(e.callbacks,u);i.push(mn(d,"labelColor",this,u)),s.push(mn(d,"labelPointStyle",this,u)),a.push(mn(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=xa[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=Dv(this,r),c=Object.assign({},o,l),u=Ev(this.chart,r,c),d=Iv(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=ps(o),{x:h,y:f}=e,{width:m,height:p}=t;let v,y,_,w,x,k;return s==="center"?(x=f+p/2,i==="left"?(v=h,y=v-a,w=x+a,k=x-a):(v=h+m,y=v+a,w=x-a,k=x+a),_=v):(i==="left"?y=h+Math.max(l,u)+a:i==="right"?y=h+m-Math.max(c,d)-a:y=this.caretX,s==="top"?(w=f,x=w-a,v=y-a,_=y+a):(w=f+p,x=w+a,v=y+a,_=y-a),k=w),{x1:v,x2:y,x3:_,y1:w,y2:x,y3:k}}drawTitle(e,t,r){const i=this.title,s=i.length;let a,o,l;if(s){const c=vs(r.rtl,this.x,this.width);for(e.x=Wl(this,r.titleAlign,r),t.textAlign=c.textAlign(r.titleAlign),t.textBaseline="middle",a=nn(r.titleFont),o=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,l=0;l<s;++l)t.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,t,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=nn(s.bodyFont),d=Wl(this,"left",s),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=t.y+f;if(s.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(h,c)+c/2,y=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,$h(e,p,v,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,$h(e,p,v,y)}else{e.lineWidth=rt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(h,c),v=i.leftForLtr(i.xPlus(h,1),c-2),y=ps(a.borderRadius);Object.values(y).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Ec(e,{x:p,y:m,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Ec(e,{x:v,y:m+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,m,c,l),e.strokeRect(p,m,c,l),e.fillStyle=a.backgroundColor,e.fillRect(v,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=nn(r.bodyFont);let h=d.lineHeight,f=0;const m=vs(r.rtl,this.x,this.width),p=function(E){t.fillText(E,m.x(e.x+f),e.y+h/2),e.y+=h+s},v=m.textAlign(a);let y,_,w,x,k,A,C;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=Wl(this,v,r),t.fillStyle=r.bodyColor,ut(this.beforeBody,p),f=o&&v!=="right"?a==="center"?c/2+u:c+2+u:0,x=0,A=i.length;x<A;++x){for(y=i[x],_=this.labelTextColors[x],t.fillStyle=_,ut(y.before,p),w=y.lines,o&&w.length&&(this._drawColorBox(t,e,x,m,r),h=Math.max(d.lineHeight,l)),k=0,C=w.length;k<C;++k)p(w[k]),h=d.lineHeight;ut(y.after,p)}f=0,h=d.lineHeight,ut(this.afterBody,p),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let a,o;if(s){const l=vs(r.rtl,this.x,this.width);for(e.x=Wl(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",a=nn(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,o=0;o<s;++o)t.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=ps(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+d,l),a==="top"&&this.drawCaret(e,t,r,i),t.lineTo(o+c-h,l),t.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(o+c,l+u-m),t.quadraticCurveTo(o+c,l+u,o+c-m,l+u),a==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(o+f,l+u),t.quadraticCurveTo(o,l+u,o,l+u-f),a==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(o,l+d),t.quadraticCurveTo(o,l,o+d,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=xa[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Dv(this,e),l=Object.assign({},a,this._size),c=Ev(t,e,l),u=Iv(e,l,c,t);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Fn(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),c0(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),u0(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!Oc(r,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),o=this._positionChanged(a,e),l=t||!Oc(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,a=xa[s.position].call(this,e,t);return a!==!1&&(r!==a.x||i!==a.y)}}N(eg,"positioners",xa);var EF={id:"tooltip",_element:eg,positioners:xa,afterInit(n,e,t){t&&(n.tooltip=new eg({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:D0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const IF=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function RF(n,e,t,r){const i=n.indexOf(e);if(i===-1)return IF(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const NF=(n,e)=>n===null?null:tn(Math.round(n),0,e);function Fv(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class tg extends qs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(lt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:RF(r,e,Je(t,e),this._addedLabels),NF(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return Fv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}N(tg,"id","category"),N(tg,"defaults",{ticks:{callback:Fv}});function FF(n,e){const t=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=n,f=s||1,m=u-1,{min:p,max:v}=e,y=!lt(a),_=!lt(o),w=!lt(c),x=(v-p)/(d+1);let k=Fp((v-p)/m/f)*f,A,C,E,R;if(k<1e-14&&!y&&!_)return[{value:p},{value:v}];R=Math.ceil(v/k)-Math.floor(p/k),R>m&&(k=Fp(R*k/m/f)*f),lt(l)||(A=Math.pow(10,l),k=Math.ceil(k*A)/A),i==="ticks"?(C=Math.floor(p/k)*k,E=Math.ceil(v/k)*k):(C=p,E=v),y&&_&&s&&qE((o-a)/s,k/1e3)?(R=Math.round(Math.min((o-a)/k,u)),k=(o-a)/R,C=a,E=o):w?(C=y?a:C,E=_?o:E,R=c-1,k=(E-C)/R):(R=(E-C)/k,Pa(R,Math.round(R),k/1e3)?R=Math.round(R):R=Math.ceil(R));const U=Math.max(Lp(k),Lp(C));A=Math.pow(10,lt(l)?U:l),C=Math.round(C*A)/A,E=Math.round(E*A)/A;let F=0;for(y&&(h&&C!==a?(t.push({value:a}),C<a&&F++,Pa(Math.round((C+F*k)*A)/A,a,Lv(a,x,n))&&F++):C<a&&F++);F<R;++F){const B=Math.round((C+F*k)*A)/A;if(_&&B>o)break;t.push({value:B})}return _&&h&&E!==o?t.length&&Pa(t[t.length-1].value,o,Lv(o,x,n))?t[t.length-1].value=o:t.push({value:o}):(!_||E===o)&&t.push({value:E}),t}function Lv(n,e,{horizontal:t,minRotation:r}){const i=ar(r),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class LF extends qs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return lt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=t?i:l,o=l=>s=r?s:l;if(e){const l=lr(i),c=lr(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=FF(i,s);return e.bounds==="ticks"&&XE(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return of(e,this.chart.options.locale,this.options.ticks.format)}}class ng extends LF{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nn(e)?e:0,this.max=Nn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=ar(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}N(ng,"id","linear"),N(ng,"defaults",{ticks:{callback:t0.formatters.numeric}});const uf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pn=Object.keys(uf);function jv(n,e){return n-e}function Bv(n,e){if(lt(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Nn(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(io(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function zv(n,e,t,r){const i=pn.length;for(let s=pn.indexOf(n);s<i-1;++s){const a=uf[pn[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=r)return pn[s]}return pn[i-1]}function jF(n,e,t,r,i){for(let s=pn.length-1;s>=pn.indexOf(t);s--){const a=pn[s];if(uf[a].common&&n._adapter.diff(i,r,a)>=e-1)return a}return pn[t?pn.indexOf(t):0]}function BF(n){for(let e=pn.indexOf(n)+1,t=pn.length;e<t;++e)if(uf[pn[e]].common)return pn[e]}function Vv(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=am(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function zF(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=t[o],l>=0&&(e[l].major=!0);return e}function Uv(n,e,t){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!t?r:zF(n,r,i,t)}class Fc extends qs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new NR._date(e.adapters.date);i.init(t),Ta(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Bv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Nn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=Nn(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=nI(i,s,a);return this._unit=t.unit||(r.autoSkip?zv(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):jF(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:BF(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Uv(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=tn(t,0,a),r=tn(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||zv(s.minUnit,t,r,this._getLabelCapacity(t)),o=Je(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=io(l)||l===!0,u={};let d=t,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(r,t,a)>1e5*o)throw new Error(t+" and "+r+" are too far apart with stepSize of "+o+" "+a);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<r;h=+e.add(h,o,a),f++)Vv(u,h,m);return(h===r||i.bounds==="ticks"||f===1)&&Vv(u,h,m),Object.keys(u).sort(jv).map(p=>+p)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,a=t||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,i){const s=this.options,a=s.ticks.callback;if(a)return mt(a,[e,t,r],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],h=r[t],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=ar(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Uv(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(Bv(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return J_(e.sort(jv))}}N(Fc,"id","time"),N(Fc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Hl(n,e,t){let r=0,i=n.length-1,s,a,o,l;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Ii(n,"pos",e)),{pos:s,time:o}=n[r],{pos:a,time:l}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Ii(n,"time",e)),{time:s,pos:o}=n[r],{time:a,pos:l}=n[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class Wv extends Fc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Hl(t,this.min),this._tableRange=Hl(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Hl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Hl(this._table,r*this._tableRange+this._minPos,!0)}}N(Wv,"id","timeseries"),N(Wv,"defaults",Fc.defaults);var VF=$("<canvas></canvas>");function E0(n,e){te(e,!0);let t=S(e,"options",3,void 0),r=S(e,"plugins",19,()=>[]),i=ye(e,["$$slots","$$events","$$legacy","type","data","options","plugins"]);Xh.register(pF,rc,cc,tg,ic,ng,lc,_a,wF,kF,Gh,ba,EF);let s,a=null;yi(()=>{a=new Xh(s,{type:e.type,data:e.data,options:t(),plugins:r()})}),Qe(()=>{a&&(a.data=e.data,a.options&&Object.assign(a.options,t()),a.update())}),wa(()=>{a&&a.destroy(),a=null});var o=VF();let l;Dr(o,c=>s=c,()=>s),de(()=>l=Oe(o,l,{...i})),b(n,o),ne()}var UF=$('<div class="flex gap-3"><div class="max-w-lg flex-grow"><!></div> <div class="flex flex-col justify-center gap-2"><div class="flex items-center gap-1"><!> <!></div> <div class="flex items-center gap-1"><!> <!></div></div></div>'),WF=$(`<div class="flex w-full flex-col items-center justify-center rounded-xl border-4
                    border-primary p-5"><p class="leading-7 [&amp;:not(:first-child)]:mt-6">Create a task with a due date and time estimate to see the burndown chart.</p></div>`);function HF(n,e){te(e,!0);let t=ve(!1),r=ve(!1),i=ve(!1),s=ve(Kt({labels:[],datasets:[]}));function a(p,v){if(p.compare(v)>0)return 0;let y=0,_=p;for(;!Tn(_,v);)y++,_=_.add({days:1});return y}function o(p,v,y,_){let w=[];for(;!Tn(y,_);){let x=p.reduce((k,A)=>{let C=$t(A.dueDate,Sn());return C.compare(y)>0?k+A.timeEstimate/a(v,C)*a(v,y):k+A.timeEstimate},0);w.push(x),y=y.add({days:1})}return w=w.map(x=>x/(1e3*60*60)),{label:"ideal",data:w}}function l(p,v,y,_){let w=[];for(;!Tn(y,_);){let x=p.reduce((k,A)=>$t(A.endTime,Sn()).compare(y)<0?k+(A.endTime-A.startTime):k,0);w.push(x),y=y.add({days:1})}return w=w.map(x=>x/(1e3*60*60)),{label:"actual",data:w}}function c(p,v,y,_,w){let x=[];for(;!Tn(y,_);){let k=p.reduce((A,C)=>{let E=$t(C.endTime,Sn());return C.user==w.id&&E.compare(y)<0?A+(C.endTime-C.startTime):A},0);x.push(k),y=y.add({days:1})}return x=x.map(k=>k/(1e3*60*60)),{label:`${w.firstName} ${w.lastName}`,stack:"users",data:x}}Qe(()=>{let p=e.project.tasks.filter(E=>E.dueDate&&E.timeEstimate);if(p.length===0){J(t,!1);return}else J(t,!0);let v=[];p.forEach(E=>{E.sessions.forEach(R=>{R.startTime!=0&&R.endTime!=0&&v.push(R)})});let y=e.project.created,_=p.reduce((E,R)=>R.dueDate>E?R.dueDate:E,p[0].dueDate),w=$t(y,Sn());w=w.set({hour:0,minute:0,second:0});let x=$t(y,Sn());x=x.set({hour:11,minute:59,second:59});let k=$t(_,Sn());k=k.add({days:1});let A=[];if(g(i)||A.push(o(p,w,x,k)),g(r))for(let E of e.project.users)A.push(c(v,w,x,k,E));else A.push(l(v,w,x,k));let C=[];for(;!Tn(x,k);)C.push(x.toDate().toLocaleDateString()),x=x.add({days:1});J(s,{labels:C,datasets:A},!0)});let u={scales:{y:{title:{display:!0,text:"Hours"}},x:{title:{display:!0,text:"Date"}}},plugins:{title:{display:!0,text:"Progress Chart"}},stack:!0};var d=I(),h=T(d);{var f=p=>{var v=UF(),y=ee(v),_=ee(y);const w=O(()=>Ra(g(s)));E0(_,{type:"line",get data(){return g(w)},options:u}),Q(y);var x=q(y,2),k=ee(x),A=ee(k);Em(A,{id:"user-breakout",get checked(){return g(r)},set checked(F){J(r,F,!0)}});var C=q(A,2);hc(C,{for:"user-breakout",children:(F,B)=>{De();var K=Ee("Breakout Users");b(F,K)},$$slots:{default:!0}}),Q(k);var E=q(k,2),R=ee(E);Em(R,{id:"task-breakout",get checked(){return g(i)},set checked(F){J(i,F,!0)}});var U=q(R,2);hc(U,{for:"task-breakout",children:(F,B)=>{De();var K=Ee("Breakout Tasks");b(F,K)},$$slots:{default:!0}}),Q(E),Q(x),Q(v),b(p,v)},m=p=>{var v=WF();b(p,v)};pe(h,p=>{g(t)?p(f):p(m,!1)})}b(n,d),ne()}var ZF=$(`<div class="border-primary flex w-full flex-col items-center justify-center rounded-xl
                    border-4 p-5"><p class="leading-7 [&amp;:not(:first-child)]:mt-6">Record sessions to see the time breakdown pie chart.</p></div>`),YF=$('<div style="max-width: 500px; aspect-ratio: 1;"><!></div>');function $F(n,e){te(e,!0);let t=ve(!1),r=Kt({labels:e.project.users.map(l=>l.firstName+" "+l.lastName),datasets:[{data:[]}]});yi(()=>{const l=Object.fromEntries(e.project.users.map(c=>[c.id,0]));for(const c of e.project.tasks)for(const u of c.sessions)l[u.user]+=(u.endTime-u.startTime)/1e3/60/60;if(Object.values(l).every(c=>!c)){J(t,!1);return}else J(t,!0);r.datasets[0].data=Object.values(l)});var i=YF(),s=ee(i);{var a=l=>{const c=O(()=>Ra(r));E0(l,{type:"pie",get data(){return g(c)},options:{plugins:{tooltip:{callbacks:{label:({formattedValue:u})=>u+" hr"}}}}})},o=l=>{var c=ZF();b(l,c)};pe(s,l=>{g(t)?l(a):l(o,!1)})}Q(i),b(n,i),ne()}var GF=$('<div class="flex flex-col gap-5"><!> <!></div>');function KF(n,e){var t=I(),r=T(t);Z(r,()=>Xi,(i,s)=>{s(i,{value:"stats",children:(a,o)=>{var l=GF(),c=ee(l);HF(c,{get project(){return e.project}});var u=q(c,2);$F(u,{get project(){return e.project}}),Q(l),b(a,l)},$$slots:{default:!0}})}),b(n,t)}function qF(n){Ca("toggleGroup",n)}function XF(){return cg("toggleGroup")}function JF(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"value",15),i=S(e,"size",3,"default"),s=S(e,"variant",3,"default"),a=ye(e,["$$slots","$$events","$$legacy","ref","value","class","size","variant"]);qF({variant:s(),size:i()});var o=I(),l=T(o);const c=O(()=>et("flex items-center justify-center gap-1",e.class));Z(l,()=>GA,(u,d)=>{d(u,Te({get class(){return g(c)}},()=>a,{get value(){return r()},set value(h){r(h)},get ref(){return t()},set ref(h){t(h)}}))}),b(n,o),ne()}const QF=My({base:"ring-offset-background hover:bg-muted hover:text-muted-foreground focus-visible:ring-ring data-[state=on]:bg-accent data-[state=on]:text-accent-foreground inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",variants:{variant:{default:"bg-transparent",outline:"border-input hover:bg-accent hover:text-accent-foreground border bg-transparent"},size:{default:"h-10 min-w-10 px-3",sm:"h-9 min-w-9 px-2.5",lg:"h-11 min-w-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});function e3(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","value","class","size","variant"]);const i=XF();var s=I(),a=T(s);const o=O(()=>et(QF({variant:i.variant||e.variant,size:i.size||e.size}),e.class));Z(a,()=>qA,(l,c)=>{c(l,Te({get class(){return g(o)},get value(){return e.value}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))}),b(n,s),ne()}var I0={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(xy,function(){var t="month",r="quarter";return function(i,s){var a=s.prototype;a.quarter=function(c){return this.$utils().u(c)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(c-1))};var o=a.add;a.add=function(c,u){return c=Number(c),this.$utils().p(u)===r?this.add(3*c,t):o.bind(this)(c,u)};var l=a.startOf;a.startOf=function(c,u){var d=this.$utils(),h=!!d.u(u)||u;if(d.p(c)===r){var f=this.quarter()-1;return h?this.month(3*f).startOf(t).startOf("day"):this.month(3*f+2).endOf(t).endOf("day")}return l.bind(this)(c,u)}}})})(I0);var t3=I0.exports;const n3=fg(t3);var R0={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(xy,function(){var t=1e3,r=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",c="day",u="week",d="month",h="quarter",f="year",m="date",p="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Y){var D=["th","st","nd","rd"],L=Y%100;return"["+Y+(D[(L-20)%10]||D[L]||D[0])+"]"}},w=function(Y,D,L){var W=String(Y);return!W||W.length>=D?Y:""+Array(D+1-W.length).join(L)+Y},x={s:w,z:function(Y){var D=-Y.utcOffset(),L=Math.abs(D),W=Math.floor(L/60),j=L%60;return(D<=0?"+":"-")+w(W,2,"0")+":"+w(j,2,"0")},m:function Y(D,L){if(D.date()<L.date())return-Y(L,D);var W=12*(L.year()-D.year())+(L.month()-D.month()),j=D.clone().add(W,d),H=L-j<0,G=D.clone().add(W+(H?-1:1),d);return+(-(W+(L-j)/(H?j-G:G-j))||0)},a:function(Y){return Y<0?Math.ceil(Y)||0:Math.floor(Y)},p:function(Y){return{M:d,y:f,w:u,d:c,D:m,h:l,m:o,s:a,ms:s,Q:h}[Y]||String(Y||"").toLowerCase().replace(/s$/,"")},u:function(Y){return Y===void 0}},k="en",A={};A[k]=_;var C="$isDayjsObject",E=function(Y){return Y instanceof B||!(!Y||!Y[C])},R=function Y(D,L,W){var j;if(!D)return k;if(typeof D=="string"){var H=D.toLowerCase();A[H]&&(j=H),L&&(A[H]=L,j=H);var G=D.split("-");if(!j&&G.length>1)return Y(G[0])}else{var le=D.name;A[le]=D,j=le}return!W&&j&&(k=j),j||!W&&k},U=function(Y,D){if(E(Y))return Y.clone();var L=typeof D=="object"?D:{};return L.date=Y,L.args=arguments,new B(L)},F=x;F.l=R,F.i=E,F.w=function(Y,D){return U(Y,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var B=function(){function Y(L){this.$L=R(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[C]=!0}var D=Y.prototype;return D.parse=function(L){this.$d=function(W){var j=W.date,H=W.utc;if(j===null)return new Date(NaN);if(F.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var G=j.match(v);if(G){var le=G[2]-1||0,ie=(G[7]||"0").substring(0,3);return H?new Date(Date.UTC(G[1],le,G[3]||1,G[4]||0,G[5]||0,G[6]||0,ie)):new Date(G[1],le,G[3]||1,G[4]||0,G[5]||0,G[6]||0,ie)}}return new Date(j)}(L),this.init()},D.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},D.$utils=function(){return F},D.isValid=function(){return this.$d.toString()!==p},D.isSame=function(L,W){var j=U(L);return this.startOf(W)<=j&&j<=this.endOf(W)},D.isAfter=function(L,W){return U(L)<this.startOf(W)},D.isBefore=function(L,W){return this.endOf(W)<U(L)},D.$g=function(L,W,j){return F.u(L)?this[W]:this.set(j,L)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(L,W){var j=this,H=!!F.u(W)||W,G=F.p(L),le=function(me,ge){var xe=F.w(j.$u?Date.UTC(j.$y,ge,me):new Date(j.$y,ge,me),j);return H?xe:xe.endOf(c)},ie=function(me,ge){return F.w(j.toDate()[me].apply(j.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(ge)),j)},he=this.$W,_e=this.$M,Pe=this.$D,re="set"+(this.$u?"UTC":"");switch(G){case f:return H?le(1,0):le(31,11);case d:return H?le(1,_e):le(0,_e+1);case u:var oe=this.$locale().weekStart||0,ue=(he<oe?he+7:he)-oe;return le(H?Pe-ue:Pe+(6-ue),_e);case c:case m:return ie(re+"Hours",0);case l:return ie(re+"Minutes",1);case o:return ie(re+"Seconds",2);case a:return ie(re+"Milliseconds",3);default:return this.clone()}},D.endOf=function(L){return this.startOf(L,!1)},D.$set=function(L,W){var j,H=F.p(L),G="set"+(this.$u?"UTC":""),le=(j={},j[c]=G+"Date",j[m]=G+"Date",j[d]=G+"Month",j[f]=G+"FullYear",j[l]=G+"Hours",j[o]=G+"Minutes",j[a]=G+"Seconds",j[s]=G+"Milliseconds",j)[H],ie=H===c?this.$D+(W-this.$W):W;if(H===d||H===f){var he=this.clone().set(m,1);he.$d[le](ie),he.init(),this.$d=he.set(m,Math.min(this.$D,he.daysInMonth())).$d}else le&&this.$d[le](ie);return this.init(),this},D.set=function(L,W){return this.clone().$set(L,W)},D.get=function(L){return this[F.p(L)]()},D.add=function(L,W){var j,H=this;L=Number(L);var G=F.p(W),le=function(_e){var Pe=U(H);return F.w(Pe.date(Pe.date()+Math.round(_e*L)),H)};if(G===d)return this.set(d,this.$M+L);if(G===f)return this.set(f,this.$y+L);if(G===c)return le(1);if(G===u)return le(7);var ie=(j={},j[o]=r,j[l]=i,j[a]=t,j)[G]||1,he=this.$d.getTime()+L*ie;return F.w(he,this)},D.subtract=function(L,W){return this.add(-1*L,W)},D.format=function(L){var W=this,j=this.$locale();if(!this.isValid())return j.invalidDate||p;var H=L||"YYYY-MM-DDTHH:mm:ssZ",G=F.z(this),le=this.$H,ie=this.$m,he=this.$M,_e=j.weekdays,Pe=j.months,re=j.meridiem,oe=function(ge,xe,Re,Se){return ge&&(ge[xe]||ge(W,H))||Re[xe].slice(0,Se)},ue=function(ge){return F.s(le%12||12,ge,"0")},me=re||function(ge,xe,Re){var Se=ge<12?"AM":"PM";return Re?Se.toLowerCase():Se};return H.replace(y,function(ge,xe){return xe||function(Re){switch(Re){case"YY":return String(W.$y).slice(-2);case"YYYY":return F.s(W.$y,4,"0");case"M":return he+1;case"MM":return F.s(he+1,2,"0");case"MMM":return oe(j.monthsShort,he,Pe,3);case"MMMM":return oe(Pe,he);case"D":return W.$D;case"DD":return F.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return oe(j.weekdaysMin,W.$W,_e,2);case"ddd":return oe(j.weekdaysShort,W.$W,_e,3);case"dddd":return _e[W.$W];case"H":return String(le);case"HH":return F.s(le,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return me(le,ie,!0);case"A":return me(le,ie,!1);case"m":return String(ie);case"mm":return F.s(ie,2,"0");case"s":return String(W.$s);case"ss":return F.s(W.$s,2,"0");case"SSS":return F.s(W.$ms,3,"0");case"Z":return G}return null}(ge)||G.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(L,W,j){var H,G=this,le=F.p(W),ie=U(L),he=(ie.utcOffset()-this.utcOffset())*r,_e=this-ie,Pe=function(){return F.m(G,ie)};switch(le){case f:H=Pe()/12;break;case d:H=Pe();break;case h:H=Pe()/3;break;case u:H=(_e-he)/6048e5;break;case c:H=(_e-he)/864e5;break;case l:H=_e/i;break;case o:H=_e/r;break;case a:H=_e/t;break;default:H=_e}return j?H:F.a(H)},D.daysInMonth=function(){return this.endOf(d).$D},D.$locale=function(){return A[this.$L]},D.locale=function(L,W){if(!L)return this.$L;var j=this.clone(),H=R(L,W,!0);return H&&(j.$L=H),j},D.clone=function(){return F.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},Y}(),K=B.prototype;return U.prototype=K,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",c],["$M",d],["$y",f],["$D",m]].forEach(function(Y){K[Y[1]]=function(D){return this.$g(D,Y[0],Y[1])}}),U.extend=function(Y,D){return Y.$i||(Y(D,B,U),Y.$i=!0),U},U.locale=R,U.isDayjs=E,U.unix=function(Y){return U(1e3*Y)},U.en=A[k],U.Ls=A,U.p={},U})})(R0);var r3=R0.exports;const un=fg(r3);var ct;(function(n){n[n.AM=0]="AM",n[n.PM=1]="PM"})(ct||(ct={}));var yt;(function(n){n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY"})(yt||(yt={}));var Dn;(function(n){n[n.JANUARY=1]="JANUARY",n[n.FEBRUARY=2]="FEBRUARY",n[n.MARCH=3]="MARCH",n[n.APRIL=4]="APRIL",n[n.MAY=5]="MAY",n[n.JUNE=6]="JUNE",n[n.JULY=7]="JULY",n[n.AUGUST=8]="AUGUST",n[n.SEPTEMBER=9]="SEPTEMBER",n[n.OCTOBER=10]="OCTOBER",n[n.NOVEMBER=11]="NOVEMBER",n[n.DECEMBER=12]="DECEMBER"})(Dn||(Dn={}));function i3(n,e){e=e.add(1,"day"),Oa(n,e),df(n,e)}function Qi(n,e){n.assign("day",e.date()),n.assign("month",e.month()+1),n.assign("year",e.year())}function N0(n,e){n.assign("hour",e.hour()),n.assign("minute",e.minute()),n.assign("second",e.second()),n.assign("millisecond",e.millisecond()),n.get("hour")<12?n.assign("meridiem",ct.AM):n.assign("meridiem",ct.PM)}function Oa(n,e){n.imply("day",e.date()),n.imply("month",e.month()+1),n.imply("year",e.year())}function df(n,e){n.imply("hour",e.hour()),n.imply("minute",e.minute()),n.imply("second",e.second()),n.imply("millisecond",e.millisecond())}const s3={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:2*60,timezoneOffsetNonDst:60,dstStart:n=>Hv(n,Dn.MARCH,yt.SUNDAY,2),dstEnd:n=>Hv(n,Dn.OCTOBER,yt.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-5*60,timezoneOffsetNonDst:-6*60,dstStart:n=>Br(n,Dn.MARCH,yt.SUNDAY,2,2),dstEnd:n=>Br(n,Dn.NOVEMBER,yt.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-4*60,timezoneOffsetNonDst:-5*60,dstStart:n=>Br(n,Dn.MARCH,yt.SUNDAY,2,2),dstEnd:n=>Br(n,Dn.NOVEMBER,yt.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-6*60,timezoneOffsetNonDst:-7*60,dstStart:n=>Br(n,Dn.MARCH,yt.SUNDAY,2,2),dstEnd:n=>Br(n,Dn.NOVEMBER,yt.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-7*60,timezoneOffsetNonDst:-8*60,dstStart:n=>Br(n,Dn.MARCH,yt.SUNDAY,2,2),dstEnd:n=>Br(n,Dn.NOVEMBER,yt.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function Br(n,e,t,r,i=0){let s=0,a=0;for(;a<r;)s++,new Date(n,e-1,s).getDay()===t&&a++;return new Date(n,e-1,s,i)}function Hv(n,e,t,r=0){const i=t===0?7:t,s=new Date(n,e-1+1,1,12),a=s.getDay()===0?7:s.getDay();let o;return a===i?o=7:a<i?o=7+a-i:o=a-i,s.setDate(s.getDate()-o),new Date(n,e-1,s.getDate(),r)}function F0(n,e,t={}){if(n==null)return null;if(typeof n=="number")return n;const r=t[n]??s3[n];return r==null?null:typeof r=="number"?r:e==null?null:un(e).isAfter(r.dstStart(e.getFullYear()))&&!un(e).isAfter(r.dstEnd(e.getFullYear()))?r.timezoneOffsetDuringDst:r.timezoneOffsetNonDst}un.extend(n3);class ym{constructor(e){e=e??new Date,e instanceof Date?this.instant=e:(this.instant=e.instant??new Date,this.timezoneOffset=F0(e.timezone,this.instant))}getDateWithAdjustedTimezone(){return new Date(this.instant.getTime()+this.getSystemTimezoneAdjustmentMinute(this.instant)*6e4)}getSystemTimezoneAdjustmentMinute(e,t){(!e||e.getTime()<0)&&(e=new Date);const r=-e.getTimezoneOffset(),i=t??this.timezoneOffset??r;return r-i}}class pt{constructor(e,t){if(this._tags=new Set,this.reference=e,this.knownValues={},this.impliedValues={},t)for(const i in t)this.knownValues[i]=t[i];const r=un(e.instant);this.imply("day",r.date()),this.imply("month",r.month()+1),this.imply("year",r.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){const e=new pt(this.reference);e.knownValues={},e.impliedValues={};for(const t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(const t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")&&!this.isCertain("year")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){const e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {
            tags: ${JSON.stringify(Array.from(this._tags).sort())}, 
            knownValues: ${JSON.stringify(this.knownValues)}, 
            impliedValues: ${JSON.stringify(this.impliedValues)}}, 
            reference: ${JSON.stringify(this.reference)}]`}dayjs(){return un(this.date())}date(){const e=this.dateWithoutTimezoneAdjustment(),t=this.reference.getSystemTimezoneAdjustmentMinute(e,this.get("timezoneOffset"));return new Date(e.getTime()+t*6e4)}addTag(e){return this._tags.add(e),this}addTags(e){for(const t of e)this._tags.add(t);return this}tags(){return new Set(this._tags)}dateWithoutTimezoneAdjustment(){const e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}static createRelativeFromReference(e,t){let r=un(e.instant);for(const s in t)r=r.add(t[s],s);const i=new pt(e);return i.addTag("result/relativeDate"),t.hour||t.minute||t.second?(i.addTag("result/relativeDateAndTime"),N0(i,r),Qi(i,r),e.timezoneOffset!==null&&i.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(df(i,r),e.timezoneOffset!==null&&i.imply("timezoneOffset",-e.instant.getTimezoneOffset()),t.d?(i.assign("day",r.date()),i.assign("month",r.month()+1),i.assign("year",r.year())):t.week?(i.assign("day",r.date()),i.assign("month",r.month()+1),i.assign("year",r.year()),i.imply("weekday",r.day())):(i.imply("day",r.date()),t.month?(i.assign("month",r.month()+1),i.assign("year",r.year())):(i.imply("month",r.month()+1),t.year?i.assign("year",r.year()):i.imply("year",r.year())))),i}}class Xs{constructor(e,t,r,i,s){this.reference=e,this.refDate=e.instant,this.index=t,this.text=r,this.start=i||new pt(e),this.end=s}clone(){const e=new Xs(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}addTag(e){return this.start.addTag(e),this.end&&this.end.addTag(e),this}addTags(e){return this.start.addTags(e),this.end&&this.end.addTags(e),this}tags(){const e=new Set(this.start.tags());if(this.end)for(const t of this.end.tags())e.add(t);return e}toString(){const e=Array.from(this.tags()).sort();return`[ParsingResult {index: ${this.index}, text: '${this.text}', tags: ${JSON.stringify(e)} ...}]`}}function L0(n,e,t="\\s{0,5},?\\s{0,5}"){const r=e.replace(/\((?!\?)/g,"(?:");return`${n}${r}(?:${t}${r}){0,10}`}function a3(n){let e;return n instanceof Array?e=[...n]:n instanceof Map?e=Array.from(n.keys()):e=Object.keys(n),e}function pr(n){return`(?:${a3(n).sort((t,r)=>r.length-t.length).join("|").replace(/\./g,"\\.")})`}function j0(n){return n<100&&(n>50?n=n+1900:n=n+2e3),n}function ff(n,e,t){const r=un(n);let i=r;i=i.month(t-1),i=i.date(e),i=i.year(r.year());const s=i.add(1,"y"),a=i.add(-1,"y");return Math.abs(s.diff(r))<Math.abs(i.diff(r))?i=s:Math.abs(a.diff(r))<Math.abs(i.diff(r))&&(i=a),i.year()}const rg={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},B0={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},xi={...B0,jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12},ig={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},sg={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},z0={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},hf={s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year",...z0},V0=`(?:${pr(ig)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function o3(n){const e=n.toLowerCase();return ig[e]!==void 0?ig[e]:e==="a"||e==="an"||e=="the"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}const Lc=`(?:${pr(sg)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function jc(n){let e=n.toLowerCase();return sg[e]!==void 0?sg[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}const gf="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9]|2[0-5])";function mf(n){if(/BE/i.test(n))return n=n.replace(/BE/i,""),parseInt(n)-543;if(/BCE?/i.test(n))return n=n.replace(/BCE?/i,""),-parseInt(n);if(/(AD|CE)/i.test(n))return n=n.replace(/(AD|CE)/i,""),parseInt(n);const e=parseInt(n);return j0(e)}const U0=`(${V0})\\s{0,3}(${pr(hf)})`,Zv=new RegExp(U0,"i"),l3=`(${V0})\\s{0,3}(${pr(z0)})`,W0="\\s{0,5},?(?:\\s*and)?\\s{0,5}",bl=L0("(?:(?:about|around)\\s{0,3})?",U0,W0),pf=L0("(?:(?:about|around)\\s{0,3})?",l3,W0);function Js(n){const e={};let t=n,r=Zv.exec(t);for(;r;)c3(e,r),t=t.substring(r[0].length).trim(),r=Zv.exec(t);return Object.keys(e).length==0?null:e}function c3(n,e){if(e[0].match(/^[a-zA-Z]+$/))return;const t=o3(e[1]),r=hf[e[2].toLowerCase()];n[r]=t}class yn{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}innerPatternHasChange(e,t){return this.innerPattern(e)!==t}patternLeftBoundary(){return"(\\W|^)"}pattern(e){return this.cachedInnerPattern&&!this.innerPatternHasChange(e,this.cachedInnerPattern)?this.cachedPattern:(this.cachedInnerPattern=this.innerPattern(e),this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${this.cachedInnerPattern.source}`,this.cachedInnerPattern.flags),this.cachedPattern)}extract(e,t){const r=t[1]??"";t.index=t.index+r.length,t[0]=t[0].substring(r.length);for(let i=2;i<t.length;i++)t[i-1]=t[i];return this.innerExtract(e,t)}}const u3=new RegExp(`(?:(?:within|in|for)\\s*)?(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${bl})(?=\\W|$)`,"i"),d3=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${bl})(?=\\W|$)`,"i"),f3=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${pf})(?=\\W|$)`,"i");class h3 extends yn{constructor(e){super(),this.strictMode=e}innerPattern(e){return this.strictMode?f3:e.option.forwardDate?u3:d3}innerExtract(e,t){if(t[0].match(/^for\s*the\s*\w+/))return null;const r=Js(t[1]);return r?pt.createRelativeFromReference(e.reference,r):null}}const g3=new RegExp(`(?:on\\s{0,3})?(${Lc})(?:\\s{0,3}(?:to|\\-|\\–|until|through|till)?\\s{0,3}(${Lc}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${pr(xi)})(?:(?:-|/|,?\\s{0,3})(${gf}(?!\\w)))?(?=\\W|$)`,"i"),Yv=1,$v=2,m3=3,Gv=4;class p3 extends yn{innerPattern(){return g3}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),i=xi[t[m3].toLowerCase()],s=jc(t[Yv]);if(s>31)return t.index=t.index+t[Yv].length,null;if(r.start.assign("month",i),r.start.assign("day",s),t[Gv]){const a=mf(t[Gv]);r.start.assign("year",a)}else{const a=ff(e.refDate,s,i);r.start.imply("year",a)}if(t[$v]){const a=jc(t[$v]);r.end=r.start.clone(),r.end.assign("day",a)}return r}}const v3=new RegExp(`(${pr(xi)})(?:-|/|\\s*,?\\s*)(${Lc})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Lc})\\s*)?(?:(?:-|/|\\s*,\\s*|\\s+)(${gf}))?(?=\\W|$)(?!\\:\\d)`,"i"),y3=1,Kv=2,ih=3,sh=4;class b3 extends yn{constructor(e){super(),this.shouldSkipYearLikeDate=e}innerPattern(){return v3}innerExtract(e,t){const r=xi[t[y3].toLowerCase()],i=jc(t[Kv]);if(i>31||this.shouldSkipYearLikeDate&&!t[ih]&&!t[sh]&&t[Kv].match(/^2[0-5]$/))return null;const s=e.createParsingComponents({day:i,month:r}).addTag("parser/ENMonthNameMiddleEndianParser");if(t[sh]){const l=mf(t[sh]);s.assign("year",l)}else{const l=ff(e.refDate,i,r);s.imply("year",l)}if(!t[ih])return s;const a=jc(t[ih]),o=e.createParsingResult(t.index,t[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}}const _3=new RegExp(`((?:in)\\s*)?(${pr(xi)})\\s*(?:(?:,|-|of)?\\s*(${gf})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),x3=1,w3=2,qv=3;class S3 extends yn{innerPattern(){return _3}innerExtract(e,t){const r=t[w3].toLowerCase();if(t[0].length<=3&&!B0[r])return null;const i=e.createParsingResult(t.index+(t[x3]||"").length,t.index+t[0].length);i.start.imply("day",1),i.start.addTag("parser/ENMonthNameParser");const s=xi[r];if(i.start.assign("month",s),t[qv]){const a=mf(t[qv]);i.start.assign("year",a)}else{const a=ff(e.refDate,1,s);i.start.imply("year",a)}return i}}const k3=new RegExp(`([0-9]{4})[-\\.\\/\\s](?:(${pr(xi)})|([0-9]{1,2}))[-\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),T3=1,P3=2,Xv=3,A3=4;class M3 extends yn{constructor(e){super(),this.strictMonthDateOrder=e}innerPattern(){return k3}innerExtract(e,t){const r=parseInt(t[T3]);let i=parseInt(t[A3]),s=t[Xv]?parseInt(t[Xv]):xi[t[P3].toLowerCase()];if(s<1||s>12){if(this.strictMonthDateOrder)return null;i>=1&&i<=12&&([s,i]=[i,s])}return i<1||i>31?null:{day:i,month:s,year:r}}}const O3=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),C3=1,D3=2;class E3 extends yn{innerPattern(){return O3}innerExtract(e,t){const r=parseInt(t[D3]),i=parseInt(t[C3]);return e.createParsingComponents().imply("day",1).assign("month",i).assign("year",r)}}function I3(n,e,t,r){return new RegExp(`${n}${e}(\\d{1,4})(?:(?:\\.|:|：)(\\d{1,2})(?:(?::|：)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,r)}function R3(n,e){return new RegExp(`^(${n})(\\d{1,4})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}const Jv=2,is=3,Zl=4,Yl=5,ua=6;class N3{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?!/)(?=\\W|$)"}followingSuffix(){return"(?!/)(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){const r=this.extractPrimaryTimeComponents(e,t);if(!r)return t[0].match(/^\d{4}/)?(t.index+=4,null):(t.index+=t[0].length,null);const i=t.index+t[1].length,s=t[0].substring(t[1].length),a=e.createParsingResult(i,s,r);t.index+=t[0].length;const o=e.text.substring(t.index),c=this.getFollowingTimePatternThroughCache().exec(o);return s.match(/^\d{3,4}/)&&c&&(c[0].match(/^\s*([+-])\s*\d{2,4}$/)||c[0].match(/^\s*([+-])\s*\d{2}\W\d{2}/))?null:!c||c[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,c,a),a.end&&(a.text+=c[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,t,r=!1){const i=e.createParsingComponents();let s=0,a=null,o=parseInt(t[Jv]);if(o>100){if(this.strictMode||t[is]!=null)return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(t[is]!=null){if(t[is].length==1&&!t[ua])return null;s=parseInt(t[is])}if(s>=60)return null;if(o>12&&(a=ct.PM),t[ua]!=null){if(o>12)return null;const l=t[ua][0].toLowerCase();l=="a"&&(a=ct.AM,o==12&&(o=0)),l=="p"&&(a=ct.PM,o!=12&&(o+=12))}if(i.assign("hour",o),i.assign("minute",s),a!==null?i.assign("meridiem",a):o<12?i.imply("meridiem",ct.AM):i.imply("meridiem",ct.PM),t[Yl]!=null){const l=parseInt(t[Yl].substring(0,3));if(l>=1e3)return null;i.assign("millisecond",l)}if(t[Zl]!=null){const l=parseInt(t[Zl]);if(l>=60)return null;i.assign("second",l)}return i}extractFollowingTimeComponents(e,t,r){const i=e.createParsingComponents();if(t[Yl]!=null){const l=parseInt(t[Yl].substring(0,3));if(l>=1e3)return null;i.assign("millisecond",l)}if(t[Zl]!=null){const l=parseInt(t[Zl]);if(l>=60)return null;i.assign("second",l)}let s=parseInt(t[Jv]),a=0,o=-1;if(t[is]!=null?a=parseInt(t[is]):s>100&&(a=s%100,s=Math.floor(s/100)),a>=60||s>24)return null;if(s>=12&&(o=ct.PM),t[ua]!=null){if(s>12)return null;const l=t[ua][0].toLowerCase();l=="a"&&(o=ct.AM,s==12&&(s=0,i.isCertain("day")||i.imply("day",i.get("day")+1))),l=="p"&&(o=ct.PM,s!=12&&(s+=12)),r.start.isCertain("meridiem")||(o==ct.AM?(r.start.imply("meridiem",ct.AM),r.start.get("hour")==12&&r.start.assign("hour",0)):(r.start.imply("meridiem",ct.PM),r.start.get("hour")!=12&&r.start.assign("hour",r.start.get("hour")+12)))}return i.assign("hour",s),i.assign("minute",a),o>=0?i.assign("meridiem",o):r.start.isCertain("meridiem")&&r.start.get("hour")>12?r.start.get("hour")-12>s?i.imply("meridiem",ct.AM):s<=12&&(i.assign("hour",s+12),i.assign("meridiem",ct.PM)):s>12?i.imply("meridiem",ct.PM):s<=12&&i.imply("meridiem",ct.AM),i.date().getTime()<r.start.date().getTime()&&i.imply("day",i.get("day")+1),i}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){const r=t[1];if(this.strictMode||r.includes(".")&&!r.match(/\d(\.\d{2})+$/)||parseInt(r)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;const r=t[1],i=t[2];if(i.includes(".")&&!i.match(/\d(\.\d{2})+$/))return null;const s=parseInt(i),a=parseInt(r);if(s>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){const e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=I3(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){const e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=R3(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}}class F3 extends N3{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\–|\\~|\\〜|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){const r=super.extractPrimaryTimeComponents(e,t);if(!r)return r;if(t[0].endsWith("night")){const i=r.get("hour");i>=6&&i<12?(r.assign("hour",r.get("hour")+12),r.assign("meridiem",ct.PM)):i<6&&r.assign("meridiem",ct.AM)}if(t[0].endsWith("afternoon")){r.assign("meridiem",ct.PM);const i=r.get("hour");i>=0&&i<=6&&r.assign("hour",r.get("hour")+12)}return t[0].endsWith("morning")&&(r.assign("meridiem",ct.AM),r.get("hour")<12&&r.assign("hour",r.get("hour"))),r.addTag("parser/ENTimeExpressionParser")}extractFollowingTimeComponents(e,t,r){const i=super.extractFollowingTimeComponents(e,t,r);return i&&i.addTag("parser/ENTimeExpressionParser"),i}}function vf(n){const e={};for(const t in n)e[t]=-n[t];return e}function L3(n,e){const t=n.clone();let r=n.dayjs();for(const i in e)r=r.add(e[i],i);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",r.date()),t.imply("month",r.month()+1),t.imply("year",r.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",r.second()),t.imply("minute",r.minute()),t.imply("hour",r.hour())),t}const j3=new RegExp(`(${bl})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),B3=new RegExp(`(${pf})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i");class z3 extends yn{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?B3:j3}innerExtract(e,t){const r=Js(t[1]);if(!r)return null;const i=vf(r);return pt.createRelativeFromReference(e.reference,i)}}const V3=new RegExp(`(${bl})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),U3=new RegExp(`(${pf})\\s{0,5}(later|after|from now)(?=\\W|$)`,"i"),W3=1;class H3 extends yn{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?U3:V3}innerExtract(e,t){const r=Js(t[W3]);return r?pt.createRelativeFromReference(e.reference,r):null}}class H0{refine(e,t){return t.filter(r=>this.isValid(e,r))}}class _l{refine(e,t){if(t.length<2)return t;const r=[];let i=t[0],s=null;for(let a=1;a<t.length;a++){s=t[a];const o=e.text.substring(i.index+i.text.length,s.index);if(!this.shouldMergeResults(o,i,s,e))r.push(i),i=s;else{const l=i,c=s,u=this.mergeResults(o,l,c,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${l} and ${c} into ${u}`)}),i=u}}return i!=null&&r.push(i),r}}class Z3 extends _l{shouldMergeResults(e,t,r){return!t.end&&!r.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,r){if(!t.start.isOnlyWeekdayComponent()&&!r.start.isOnlyWeekdayComponent()&&(r.start.getCertainComponents().forEach(s=>{t.start.isCertain(s)||t.start.imply(s,r.start.get(s))}),t.start.getCertainComponents().forEach(s=>{r.start.isCertain(s)||r.start.imply(s,t.start.get(s))})),t.start.date().getTime()>r.start.date().getTime()){let s=t.start.dayjs(),a=r.start.dayjs();r.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(s)?(a=a.add(7,"days"),r.start.imply("day",a.date()),r.start.imply("month",a.month()+1),r.start.imply("year",a.year())):t.start.isOnlyWeekdayComponent()&&s.add(-7,"days").isBefore(a)?(s=s.add(-7,"days"),t.start.imply("day",s.date()),t.start.imply("month",s.month()+1),t.start.imply("year",s.year())):r.start.isDateWithUnknownYear()&&a.add(1,"years").isAfter(s)?(a=a.add(1,"years"),r.start.imply("year",a.year())):t.start.isDateWithUnknownYear()&&s.add(-1,"years").isBefore(a)?(s=s.add(-1,"years"),t.start.imply("year",s.year())):[r,t]=[t,r]}const i=t.clone();return i.start=t.start,i.end=r.start,i.index=Math.min(t.index,r.index),t.index<r.index?i.text=t.text+e+r.text:i.text=r.text+e+t.text,i}}class Y3 extends Z3{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}}function Qv(n,e){const t=n.clone(),r=n.start,i=e.start;if(t.start=ey(r,i),n.end!=null||e.end!=null){const s=n.end==null?n.start:n.end,a=e.end==null?e.start:e.end,o=ey(s,a);if(n.end==null&&o.date().getTime()<t.start.date().getTime()){const l=o.dayjs().add(1,"day");o.isCertain("day")?Qi(o,l):Oa(o,l)}t.end=o}return t}function ey(n,e){const t=n.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==ct.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t.addTags(n.tags()),t.addTags(e.tags()),t}class $3 extends _l{shouldMergeResults(e,t,r){return(t.start.isOnlyDate()&&r.start.isOnlyTime()||r.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,r){const i=t.start.isOnlyDate()?Qv(t,r):Qv(r,t);return i.index=t.index,i.text=t.text+e+r.text,i}}class ty extends $3{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-|\\.|∙|:)?\\s*$")}}const G3=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i");class K3{constructor(e){this.timezoneOverrides=e}refine(e,t){const r=e.option.timezones??{};return t.forEach(i=>{const s=e.text.substring(i.index+i.text.length),a=G3.exec(s);if(!a)return;const o=a[1].toUpperCase(),l=i.start.date()??i.refDate??new Date,c={...this.timezoneOverrides,...r},u=F0(o,l,c);if(u==null)return;e.debug(()=>{console.log(`Extracting timezone: '${o}' into: ${u} for: ${i.start}`)});const d=i.start.get("timezoneOffset");d!==null&&u!=d&&(i.start.isCertain("timezoneOffset")||o!=a[1])||i.start.isOnlyDate()&&o!=a[1]||(i.text+=a[0],i.start.isCertain("timezoneOffset")||i.start.assign("timezoneOffset",u),i.end!=null&&!i.end.isCertain("timezoneOffset")&&i.end.assign("timezoneOffset",u))}),t}}const q3=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),X3=1,J3=2,Q3=3;class e5{refine(e,t){return t.forEach(function(r){if(r.start.isCertain("timezoneOffset"))return;const i=e.text.substring(r.index+r.text.length),s=q3.exec(i);if(!s)return;e.debug(()=>{console.log(`Extracting timezone: '${s[0]}' into : ${r}`)});const a=parseInt(s[J3]),o=parseInt(s[Q3]||"0");let l=a*60+o;l>14*60||(s[X3]==="-"&&(l=-l),r.end!=null&&r.end.assign("timezoneOffset",l),r.start.assign("timezoneOffset",l),r.text+=s[0])}),t}}class ag{refine(e,t){if(t.length<2)return t;const r=[];let i=t[0];for(let s=1;s<t.length;s++){const a=t[s];if(a.index>=i.index+i.text.length){r.push(i),i=a;continue}let o=null,l=null;a.text.length>i.text.length?(o=a,l=i):(o=i,l=a),e.debug(()=>{console.log(`${this.constructor.name} remove ${l} by ${o}`)}),i=o}return i!=null&&r.push(i),r}}class t5{refine(e,t){return e.option.forwardDate&&t.forEach(r=>{let i=un(e.refDate);if(r.start.isOnlyTime()&&i.isAfter(r.start.dayjs())&&(i=i.add(1,"day"),Oa(r.start,i),r.end&&r.end.isOnlyTime()&&(Oa(r.end,i),r.start.dayjs().isAfter(r.end.dayjs())&&(i=i.add(1,"day"),Oa(r.end,i))),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} time result (${r.start})`)})),r.start.isOnlyWeekdayComponent()&&i.isAfter(r.start.dayjs())&&(i.day()>=r.start.get("weekday")?i=i.day(r.start.get("weekday")+7):i=i.day(r.start.get("weekday")),r.start.imply("day",i.date()),r.start.imply("month",i.month()+1),r.start.imply("year",i.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} weekday (${r.start})`)}),r.end&&r.end.isOnlyWeekdayComponent()&&(i.day()>r.end.get("weekday")?i=i.day(r.end.get("weekday")+7):i=i.day(r.end.get("weekday")),r.end.imply("day",i.date()),r.end.imply("month",i.month()+1),r.end.imply("year",i.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} weekday (${r.end})`)}))),r.start.isDateWithUnknownYear()&&i.isAfter(r.start.dayjs()))for(let s=0;s<3&&i.isAfter(r.start.dayjs());s++)r.start.imply("year",r.start.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} year (${r.start})`)}),r.end&&!r.end.isCertain("year")&&(r.end.imply("year",r.end.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${r} month (${r.start})`)}))}),t}}class n5 extends H0{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}}const r5=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),i5=1,s5=2,a5=3,ny=4,o5=5,ry=6,iy=7,l5=8,sy=9,ay=10;class c5 extends yn{innerPattern(){return r5}innerExtract(e,t){const r=e.createParsingComponents({year:parseInt(t[i5]),month:parseInt(t[s5]),day:parseInt(t[a5])});if(t[ny]!=null&&(r.assign("hour",parseInt(t[ny])),r.assign("minute",parseInt(t[o5])),t[ry]!=null&&r.assign("second",parseInt(t[ry])),t[iy]!=null&&r.assign("millisecond",parseInt(t[iy])),t[l5]!=null)){let i=0;if(t[sy]){const s=parseInt(t[sy]);let a=0;t[ay]!=null&&(a=parseInt(t[ay])),i=s*60,i<0?i-=a:i+=a}r.assign("timezoneOffset",i)}return r.addTag("parser/ISOFormatParser")}}class u5 extends _l{mergeResults(e,t,r){const i=r.clone();return i.index=t.index,i.text=t.text+e+i.text,i.start.assign("weekday",t.start.get("weekday")),i.end&&i.end.assign("weekday",t.start.get("weekday")),i}shouldMergeResults(e,t,r){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&r.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}}function d5(n,e=!1){return n.parsers.unshift(new c5),n.refiners.unshift(new u5),n.refiners.unshift(new e5),n.refiners.unshift(new ag),n.refiners.push(new K3),n.refiners.push(new ag),n.refiners.push(new t5),n.refiners.push(new n5(e)),n}function f5(n){const e=un(n.instant),t=new pt(n,{});return Qi(t,e),N0(t,e),n.timezoneOffset!==null&&t.assign("timezoneOffset",e.utcOffset()),t.addTag("casualReference/now"),t}function h5(n){const e=un(n.instant),t=new pt(n,{});return Qi(t,e),df(t,e),t.addTag("casualReference/today"),t}function g5(n){return m5(n).addTag("casualReference/yesterday")}function m5(n,e){return bm(n,-1)}function p5(n){return bm(n,1).addTag("casualReference/tomorrow")}function bm(n,e){let t=un(n.instant);const r=new pt(n,{});return t=t.add(e,"day"),Qi(r,t),df(r,t),r}function v5(n,e=22){const t=un(n.instant),r=new pt(n,{});return Qi(r,t),r.imply("hour",e),r.imply("meridiem",ct.PM),r.addTag("casualReference/tonight"),r}function y5(n,e=20){const t=new pt(n,{});return t.imply("meridiem",ct.PM),t.imply("hour",e),t.addTag("casualReference/evening"),t}function b5(n){const e=new pt(n,{}),t=un(n.instant);return t.hour()>2&&i3(e,t),e.assign("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/midnight"),e}function _5(n,e=6){const t=new pt(n,{});return t.imply("meridiem",ct.AM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/morning"),t}function x5(n,e=15){const t=new pt(n,{});return t.imply("meridiem",ct.PM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/afternoon"),t}function w5(n){const e=new pt(n,{});return e.imply("meridiem",ct.AM),e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/noon"),e}const S5=/(now|today|tonight|tomorrow|overmorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i;class k5 extends yn{innerPattern(e){return S5}innerExtract(e,t){let r=un(e.refDate);const i=t[0].toLowerCase();let s=e.createParsingComponents();switch(i){case"now":s=f5(e.reference);break;case"today":s=h5(e.reference);break;case"yesterday":s=g5(e.reference);break;case"tomorrow":case"tmr":case"tmrw":s=p5(e.reference);break;case"tonight":s=v5(e.reference);break;case"overmorrow":s=bm(e.reference,2);break;default:i.match(/last\s*night/)&&(r.hour()>6&&(r=r.add(-1,"day")),Qi(s,r),s.imply("hour",0));break}return s.addTag("parser/ENCasualDateParser"),s}}const T5=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i;class P5 extends yn{innerPattern(){return T5}innerExtract(e,t){let r=null;switch(t[1].toLowerCase()){case"afternoon":r=x5(e.reference);break;case"evening":case"night":r=y5(e.reference);break;case"midnight":r=b5(e.reference);break;case"morning":r=_5(e.reference);break;case"noon":case"midday":r=w5(e.reference);break}return r&&r.addTag("parser/ENCasualTimeParser"),r}}function A5(n,e,t){const r=n.getDateWithAdjustedTimezone(),i=M5(r,e,t);let s=new pt(n);return s=L3(s,{day:i}),s.assign("weekday",e),s}function M5(n,e,t){const r=n.getDay();switch(t){case"this":return uc(n,e);case"last":return Z0(n,e);case"next":return r==yt.SUNDAY?e==yt.SUNDAY?7:e:r==yt.SATURDAY?e==yt.SATURDAY?7:e==yt.SUNDAY?8:1+e:e<r&&e!=yt.SUNDAY?uc(n,e):uc(n,e)+7}return O5(n,e)}function O5(n,e){const t=Z0(n,e),r=uc(n,e);return r<-t?r:t}function uc(n,e){const t=n.getDay();let r=e-t;return r<0&&(r+=7),r}function Z0(n,e){const t=n.getDay();let r=e-t;return r>=0&&(r-=7),r}const C5=new RegExp(`(?:(?:\\,|\\(|\\（)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${pr(rg)}|weekend|weekday)(?:\\s*(?:\\,|\\)|\\）))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),D5=1,E5=2,I5=3;class R5 extends yn{innerPattern(){return C5}innerExtract(e,t){const r=t[D5],i=t[I5];let s=r||i;s=s||"",s=s.toLowerCase();let a=null;s=="last"||s=="past"?a="last":s=="next"?a="next":s=="this"&&(a="this");const o=t[E5].toLowerCase();let l;if(rg[o]!==void 0)l=rg[o];else if(o=="weekend")l=a=="last"?yt.SUNDAY:yt.SATURDAY;else if(o=="weekday"){const c=e.reference.getDateWithAdjustedTimezone().getDay();c==yt.SUNDAY||c==yt.SATURDAY?l=a=="last"?yt.FRIDAY:yt.MONDAY:(l=c-1,l=a=="last"?l-1:l+1,l=l%5+1)}else return null;return A5(e.reference,l,a)}}const N5=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${pr(hf)})(?=\\s*)(?=\\W|$)`,"i"),F5=1,L5=2;class j5 extends yn{innerPattern(){return N5}innerExtract(e,t){const r=t[F5].toLowerCase(),i=t[L5].toLowerCase(),s=hf[i];if(r=="next"||r.startsWith("after")){const l={};return l[s]=1,pt.createRelativeFromReference(e.reference,l)}if(r=="last"||r=="past"){const l={};return l[s]=-1,pt.createRelativeFromReference(e.reference,l)}const a=e.createParsingComponents();let o=un(e.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}}const B5=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),z5=1,V5=5,oy=2,ly=3,ah=4;class U5{constructor(e){this.groupNumberMonth=e?ly:oy,this.groupNumberDay=e?oy:ly}pattern(){return B5}extract(e,t){const r=t.index+t[z5].length,i=t.index+t[0].length-t[V5].length;if(r>0&&e.text.substring(0,r).match("\\d/?$")||i<e.text.length&&e.text.substring(i).match("^/?\\d"))return;const s=e.text.substring(r,i);if(s.match(/^\d\.\d$/)||s.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[ah]&&s.indexOf("/")<0)return;const a=e.createParsingResult(r,s);let o=parseInt(t[this.groupNumberMonth]),l=parseInt(t[this.groupNumberDay]);if((o<1||o>12)&&o>12)if(l>=1&&l<=12&&o<=31)[l,o]=[o,l];else return null;if(l<1||l>31)return null;if(a.start.assign("day",l),a.start.assign("month",o),t[ah]){const c=parseInt(t[ah]),u=j0(c);a.start.assign("year",u)}else{const c=ff(e.refDate,l,o);a.start.imply("year",c)}return a.addTag("parser/SlashDateFormatParser")}}const W5=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${bl})(?=\\W|$)`,"i"),H5=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${pf})(?=\\W|$)`,"i");class Z5 extends yn{constructor(e=!0){super(),this.allowAbbreviations=e}innerPattern(){return this.allowAbbreviations?W5:H5}innerExtract(e,t){const r=t[1].toLowerCase();let i=Js(t[2]);if(!i)return null;switch(r){case"last":case"past":case"-":i=vf(i);break}return pt.createRelativeFromReference(e.reference,i)}}function Y5(n){return n.text.match(/^[+-]/i)!=null}function cy(n){return n.text.match(/^-/i)!=null}class $5 extends _l{shouldMergeResults(e,t,r){return e.match(/^\s*$/i)?Y5(r)||cy(r):!1}mergeResults(e,t,r,i){let s=Js(r.text);cy(r)&&(s=vf(s));const a=pt.createRelativeFromReference(new ym(t.start.date()),s);return new Xs(t.reference,t.index,`${t.text}${e}${r.text}`,a)}}function uy(n){return n.text.match(/\s+(before|from)$/i)!=null}function G5(n){return n.text.match(/\s+(after|since)$/i)!=null}class K5 extends _l{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,r){return!e.match(this.patternBetween())||!uy(t)&&!G5(t)?!1:!!r.start.get("day")&&!!r.start.get("month")&&!!r.start.get("year")}mergeResults(e,t,r){let i=Js(t.text);uy(t)&&(i=vf(i));const s=pt.createRelativeFromReference(new ym(r.start.date()),i);return new Xs(r.reference,t.index,`${t.text}${e}${r.text}`,s)}}const q5=new RegExp(`^\\s*(${gf})`,"i"),X5=1;class J5{refine(e,t){return t.forEach(function(r){if(!r.start.isDateWithUnknownYear())return;const i=e.text.substring(r.index+r.text.length),s=q5.exec(i);if(!s)return;e.debug(()=>{console.log(`Extracting year: '${s[0]}' into : ${r}`)});const a=mf(s[X5]);r.end!=null&&r.end.assign("year",a),r.start.assign("year",a),r.text+=s[0]}),t}}class Q5 extends H0{constructor(){super()}isValid(e,t){const r=t.text.trim();return r===e.text.trim()?!0:r.toLowerCase()==="may"&&!e.text.substring(0,t.index).trim().match(/\b(in)$/i)?(e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):r.toLowerCase().endsWith("the second")?(e.text.substring(t.index+t.text.length).trim().length>0&&e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):!0}}class Y0{createCasualConfiguration(e=!1){const t=this.createConfiguration(!1,e);return t.parsers.push(new k5),t.parsers.push(new P5),t.parsers.push(new S3),t.parsers.push(new j5),t.parsers.push(new Z5),t.refiners.push(new Q5),t}createConfiguration(e=!0,t=!1){const r=d5({parsers:[new U5(t),new h3(e),new p3,new b3(t),new R5,new E3,new F3(e),new z3(e),new H3(e)],refiners:[new ty]},e);return r.parsers.unshift(new M3(e)),r.refiners.unshift(new K5),r.refiners.unshift(new $5),r.refiners.unshift(new ag),r.refiners.push(new ty),r.refiners.push(new J5),r.refiners.push(new Y3),r}}class Zs{constructor(e){this.defaultConfig=new Y0,e=e||this.defaultConfig.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new Zs({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,r){const i=this.parse(e,t,r);return i.length>0?i[0].start.date():null}parse(e,t,r){const i=new e4(e,t,r);let s=[];return this.parsers.forEach(a=>{const o=Zs.executeParser(i,a);s=s.concat(o)}),s.sort((a,o)=>a.index-o.index),this.refiners.forEach(function(a){s=a.refine(i,s)}),s}static executeParser(e,t){const r=[],i=t.pattern(e),s=e.text;let a=e.text,o=i.exec(a);for(;o;){const l=o.index+s.length-a.length;o.index=l;const c=t.extract(e,o);if(!c){a=s.substring(o.index+1),o=i.exec(a);continue}let u=null;c instanceof Xs?u=c:c instanceof pt?(u=e.createParsingResult(o.index,o[0]),u.start=c):u=e.createParsingResult(o.index,o[0],c);const d=u.index,h=u.text;e.debug(()=>console.log(`${t.constructor.name} extracted (at index=${d}) '${h}'`)),r.push(u),a=s.substring(d+h.length),o=i.exec(a)}return r}}class e4{constructor(e,t,r){this.text=e,this.reference=new ym(t),this.option=r??{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof pt?e:new pt(this.reference,e)}createParsingResult(e,t,r,i){const s=typeof t=="string"?t:this.text.substring(e,t),a=r?this.createParsingComponents(r):null,o=i?this.createParsingComponents(i):null;return new Xs(this.reference,e,s,a,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}}const _m=new Y0,t4=new Zs(_m.createCasualConfiguration(!1));new Zs(_m.createConfiguration(!0,!1));new Zs(_m.createCasualConfiguration(!0));const n4=t4;function r4(n,e,t){return n4.parse(n,e,t)}var i4=$("<!> <!>",1),s4=$("<!> <!> <!>",1),a4=$("<!> <!>",1),o4=$("<!> <!> <!>",1),l4=$("<!> <!>",1),c4=$("<!> <!>",1),u4=$("<!> <!>",1),d4=$("<!> <!>",1),f4=$("<!> <!> <form><!> <!> <!> <!> <!> <!></form>",1),h4=$("<!> <!>",1);function g4(n,e){te(e,!0);const[t,r]=wy(),i=()=>Sy(o,"$formData",t);let s=ve(!1);const a=k_(e.data.taskform,{validators:I_(f_)}),{form:o}=a;let l=new Map;function c(m){l.set(m,!l.get(m))}const u=m=>{let p=m.target.value,v=!1;const y=r4(p,new Date)[0];if(y){let k=y.date();const A=k.getTimezoneOffset();k=new Date(k.getTime()-A*60*1e3);const C=k.toISOString().split("T")[0];v=!0,p=p.replace(y.text,"").trim(),a.form.update(E=>({...E,dueDate:C,title:p}))}let _=0;const w=p.match(/(\d+)(?:m| *min(?:utes?)?)(?= |$|\d)/),x=p.match(/(\d+)(?:h| *(?:hours?|hrs?))(?= |$|\d)/);if(x){v=!0;const{[0]:k,[1]:A}=x;p=p.replace(k,"").trim(),_+=Number.parseInt(A)}if(w){v=!0;const{[0]:k,[1]:A}=w;p=p.replace(k,"").trim(),_+=Number.parseInt(A)/60}a.form.update(k=>({...k,timeEstimate:k.timeEstimate+_,title:p})),v&&ch("task_nlp")};async function d(m){m.preventDefault();const p=await a.validateForm({update:!0});if(!p.valid)return;console.log(p.data);const v=new Date().getTimezoneOffset();e.project.appendInProject("Tasks",{...p.data,id:crypto.randomUUID(),dueDate:p.data.dueDate?new Date(p.data.dueDate).getTime()+v*60*1e3:0,timeEstimate:p.data.timeEstimate*60*60*1e3,kanbanColumn:"",completed:!1,sessions:[],assignees:Array.from(l.entries()).filter(([y,_])=>_).map(([y])=>y)}),console.log("assigned users:"),console.log(Array.from(l.entries()).filter(([y,_])=>_).map(([y])=>y)),ch("tasks"),J(s,!1),a.reset()}var h=I(),f=T(h);Z(f,()=>Is,(m,p)=>{p(m,{get open(){return g(s)},set open(v){J(s,v,!0)},children:(v,y)=>{var _=h4(),w=T(_);const x=O(()=>Ys({variant:"outline"}));Z(w,()=>Ia,(A,C)=>{C(A,{get class(){return g(x)},children:(E,R)=>{De();var U=Ee("Create a new task");b(E,U)},$$slots:{default:!0}})});var k=q(w,2);Z(k,()=>Rs,(A,C)=>{C(A,{children:(E,R)=>{var U=I(),F=T(U);Z(F,()=>Ns,(B,K)=>{K(B,{children:(Y,D)=>{var L=f4(),W=T(L);Z(W,()=>mg,(re,oe)=>{oe(re,{children:(ue,me)=>{De();var ge=Ee("Create new task");b(ue,ge)},$$slots:{default:!0}})});var j=q(W,2);Z(j,()=>pg,(re,oe)=>{oe(re,{children:(ue,me)=>{De();var ge=Ee("Only title required, but all strongly recommended");b(ue,ge)},$$slots:{default:!0}})});var H=q(j,2),G=ee(H);Z(G,()=>Kr,(re,oe)=>{oe(re,{form:a,name:"title",children:(ue,me)=>{var ge=s4(),xe=T(ge);Z(xe,()=>qr,(Ne,Fe)=>{Fe(Ne,{children:(Ie,je)=>{let tt=()=>je==null?void 0:je().props;var ft=i4(),xt=T(ft);Z(xt,()=>$r,(Ye,Bt)=>{Bt(Ye,{children:(qt,vr)=>{De();var M=Ee("Title");b(qt,M)},$$slots:{default:!0}})});var ht=q(xt,2);const Dt=O(()=>Ex(u,1e3));ir(ht,Te(tt,{get oninput(){return g(Dt)},get value(){return i().title},set value(Ye){Yr(o,bt(i).title=Ye,bt(i))}})),b(Ie,ft)},$$slots:{default:!0}})});var Re=q(xe,2);Z(Re,()=>Uh,(Ne,Fe)=>{Fe(Ne,{children:(Ve,Ie)=>{De();var je=Ee(`Tip: use natural language here to set time estimate and due date (eg: 30
                        min tuesday)`);b(Ve,je)},$$slots:{default:!0}})});var Se=q(Re,2);Z(Se,()=>Gr,(Ne,Fe)=>{Fe(Ne,{})}),b(ue,ge)},$$slots:{default:!0}})});var le=q(G,2);Z(le,()=>Kr,(re,oe)=>{oe(re,{form:a,name:"description",children:(ue,me)=>{var ge=o4(),xe=T(ge);Z(xe,()=>qr,(Ne,Fe)=>{Fe(Ne,{children:(Ie,je)=>{let tt=()=>je==null?void 0:je().props;var ft=a4(),xt=T(ft);Z(xt,()=>$r,(Dt,Ye)=>{Ye(Dt,{children:(Bt,qt)=>{De();var vr=Ee("Description");b(Bt,vr)},$$slots:{default:!0}})});var ht=q(xt,2);ir(ht,Te(tt,{get value(){return i().description},set value(Dt){Yr(o,bt(i).description=Dt,bt(i))}})),b(Ie,ft)},$$slots:{default:!0}})});var Re=q(xe,2);Z(Re,()=>Uh,(Ne,Fe)=>{Fe(Ne,{children:(Ve,Ie)=>{De();var je=Ee("Implementation details, progress, or notes");b(Ve,je)},$$slots:{default:!0}})});var Se=q(Re,2);Z(Se,()=>Gr,(Ne,Fe)=>{Fe(Ne,{})}),b(ue,ge)},$$slots:{default:!0}})});var ie=q(le,2);Z(ie,()=>Kr,(re,oe)=>{oe(re,{form:a,name:"dueDate",children:(ue,me)=>{var ge=c4(),xe=T(ge);Z(xe,()=>qr,(Se,Ne)=>{Ne(Se,{children:(Ve,Ie)=>{let je=()=>Ie==null?void 0:Ie().props;var tt=l4(),ft=T(tt);Z(ft,()=>$r,(ht,Dt)=>{Dt(ht,{children:(Ye,Bt)=>{De();var qt=Ee("Due date");b(Ye,qt)},$$slots:{default:!0}})});var xt=q(ft,2);ir(xt,Te(je,{type:"date",get value(){return i().dueDate},set value(ht){Yr(o,bt(i).dueDate=ht,bt(i))}})),b(Ve,tt)},$$slots:{default:!0}})});var Re=q(xe,2);Z(Re,()=>Gr,(Se,Ne)=>{Ne(Se,{})}),b(ue,ge)},$$slots:{default:!0}})});var he=q(ie,2);Z(he,()=>Kr,(re,oe)=>{oe(re,{form:a,name:"timeEstimate",children:(ue,me)=>{var ge=d4(),xe=T(ge);Z(xe,()=>qr,(Se,Ne)=>{Ne(Se,{children:(Ve,Ie)=>{let je=()=>Ie==null?void 0:Ie().props;var tt=u4(),ft=T(tt);Z(ft,()=>$r,(ht,Dt)=>{Dt(ht,{children:(Ye,Bt)=>{De();var qt=Ee("Time Estimate");b(Ye,qt)},$$slots:{default:!0}})});var xt=q(ft,2);ir(xt,Te(je,{type:"number",min:"0",step:"0.01",get value(){return i().timeEstimate},set value(ht){Yr(o,bt(i).timeEstimate=ht,bt(i))}})),b(Ve,tt)},$$slots:{default:!0}})});var Re=q(xe,2);Z(Re,()=>Gr,(Se,Ne)=>{Ne(Se,{})}),b(ue,ge)},$$slots:{default:!0}})});var _e=q(he,2);Z(_e,()=>JF,(re,oe)=>{oe(re,{type:"multiple",variant:"outline",children:(ue,me)=>{var ge=I(),xe=T(ge);Ot(xe,17,()=>e.project.users,Ct,(Re,Se)=>{var Ne=I(),Fe=T(Ne);Z(Fe,()=>e3,(Ve,Ie)=>{Ie(Ve,{get value(){return g(Se).id},class:"p-3",onclick:()=>c(g(Se).id),children:(je,tt)=>{dg(je,{get project(){return e.project},get userID(){return g(Se).id}})},$$slots:{default:!0}})}),b(Re,Ne)}),b(ue,ge)},$$slots:{default:!0}})});var Pe=q(_e,2);Z(Pe,()=>vg,(re,oe)=>{oe(re,{children:(ue,me)=>{var ge=I(),xe=T(ge);Z(xe,()=>z_,(Re,Se)=>{Se(Re,{children:(Ne,Fe)=>{De();var Ve=Ee("Create!");b(Ne,Ve)},$$slots:{default:!0}})}),b(ue,ge)},$$slots:{default:!0}})}),Q(H),Qt("submit",H,d),b(Y,L)},$$slots:{default:!0}})}),b(E,U)},$$slots:{default:!0}})}),b(v,_)},$$slots:{default:!0}})}),b(n,h),ne(),r()}const m4=My({base:"focus:ring-ring inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/80 border-transparent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border-transparent",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80 border-transparent",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $0(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"variant",3,"default"),i=ye(e,["$$slots","$$events","$$legacy","ref","href","class","variant","children"]);var s=I(),a=T(s);fc(a,()=>e.href?"a":"span",!1,(o,l)=>{Dr(o,h=>t(h),()=>t());let c;de(h=>c=Oe(o,c,{href:e.href,class:h,...i}),[()=>et(m4({variant:r()}),e.class)]);var u=I(),d=T(u);ae(d,()=>e.children??Ae),b(l,u)}),b(n,s),ne()}var p4=$("<!> <!> <!>",1),v4=$("<!> <!>",1),y4=$("<!> <!>",1);function b4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"value",15),i=S(e,"placeholder",15),s=S(e,"weekdayFormat",3,"short"),a=ye(e,["$$slots","$$events","$$legacy","ref","value","placeholder","class","weekdayFormat"]);var o=I(),l=T(o);const c=O(()=>et("p-3",e.class));Z(l,()=>HS,(u,d)=>{d(u,Te({get weekdayFormat(){return s()},get class(){return g(c)}},()=>a,{get value(){return r()},set value(f){r(f)},get ref(){return t()},set ref(f){t(f)},get placeholder(){return i()},set placeholder(f){i(f)},children:(f,m)=>{let p=()=>m==null?void 0:m().months,v=()=>m==null?void 0:m().weekdays;var y=y4(),_=T(y);Z(_,()=>S4,(x,k)=>{k(x,{children:(A,C)=>{var E=p4(),R=T(E);Z(R,()=>I4,(B,K)=>{K(B,{})});var U=q(R,2);Z(U,()=>P4,(B,K)=>{K(B,{})});var F=q(U,2);Z(F,()=>D4,(B,K)=>{K(B,{})}),b(A,E)},$$slots:{default:!0}})});var w=q(_,2);Z(w,()=>T4,(x,k)=>{k(x,{children:(A,C)=>{var E=I(),R=T(E);Ot(R,17,p,Ct,(U,F)=>{var B=I(),K=T(B);Z(K,()=>w4,(Y,D)=>{D(Y,{children:(L,W)=>{var j=v4(),H=T(j);Z(H,()=>M4,(le,ie)=>{ie(le,{children:(he,_e)=>{var Pe=I(),re=T(Pe);Z(re,()=>dy,(oe,ue)=>{ue(oe,{class:"flex",children:(me,ge)=>{var xe=I(),Re=T(xe);Ot(Re,17,v,Ct,(Se,Ne)=>{var Fe=I(),Ve=T(Fe);Z(Ve,()=>O4,(Ie,je)=>{je(Ie,{children:(tt,ft)=>{De();var xt=Ee();de(ht=>Xe(xt,ht),[()=>g(Ne).slice(0,2)]),b(tt,xt)},$$slots:{default:!0}})}),b(Se,Fe)}),b(me,xe)},$$slots:{default:!0}})}),b(he,Pe)},$$slots:{default:!0}})});var G=q(H,2);Z(G,()=>A4,(le,ie)=>{ie(le,{children:(he,_e)=>{var Pe=I(),re=T(Pe);Ot(re,17,()=>g(F).weeks,Ct,(oe,ue)=>{var me=I(),ge=T(me);Z(ge,()=>dy,(xe,Re)=>{Re(xe,{class:"mt-2 w-full",children:(Se,Ne)=>{var Fe=I(),Ve=T(Fe);Ot(Ve,17,()=>g(ue),Ct,(Ie,je)=>{var tt=I(),ft=T(tt);Z(ft,()=>_4,(xt,ht)=>{ht(xt,{get date(){return g(je)},get month(){return g(F).value},children:(Dt,Ye)=>{var Bt=I(),qt=T(Bt);Z(qt,()=>x4,(vr,M)=>{M(vr,{})}),b(Dt,Bt)},$$slots:{default:!0}})}),b(Ie,tt)}),b(Se,Fe)},$$slots:{default:!0}})}),b(oe,me)}),b(he,Pe)},$$slots:{default:!0}})}),b(L,j)},$$slots:{default:!0}})}),b(U,B)}),b(A,E)},$$slots:{default:!0}})}),b(f,y)},$$slots:{default:!0}}))}),b(n,o),ne()}function _4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("relative size-9 p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent [&:has([data-selected][data-outside-month])]:bg-accent/50",e.class));Z(s,()=>JS,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function x4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et(Ys({variant:"ghost"}),"size-9 p-0 font-normal","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-month]:pointer-events-none data-[outside-month]:text-muted-foreground data-[outside-month]:opacity-50 [&[data-outside-month][data-selected]]:bg-accent/50 [&[data-outside-month][data-selected]]:text-muted-foreground [&[data-outside-month][data-selected]]:opacity-30",e.class));Z(s,()=>YS,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function w4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("w-full border-collapse space-y-1",e.class));Z(s,()=>GS,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function S4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("relative flex w-full items-center justify-between pt-1",e.class));Z(s,()=>ak,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}var k4=$("<div><!></div>");function T4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=k4();let s;var a=ee(i);ae(a,()=>e.children??Ae),Q(i),Dr(i,o=>t(o),()=>t()),de(o=>s=Oe(i,s,{class:o,...r}),[()=>et("mt-4 flex flex-col space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0",e.class)]),b(n,i),ne()}function dy(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("flex",e.class));Z(s,()=>ik,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function P4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("text-sm font-medium",e.class));Z(s,()=>lk,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function A4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et(e.class));Z(s,()=>qS,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function M4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et(e.class));Z(s,()=>ek,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}function O4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class"]);var i=I(),s=T(i);const a=O(()=>et("w-9 rounded-md text-[0.8rem] font-normal text-muted-foreground",e.class));Z(s,()=>nk,(o,l)=>{l(o,Te({get class(){return g(a)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))}),b(n,i),ne()}const C4=n=>{eM(n,{class:"size-4"})};function D4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=I(),s=T(i);const a=O(()=>et(Ys({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)),o=O(()=>e.children||C4);Z(s,()=>uk,(l,c)=>{c(l,Te({get class(){return g(a)},get children(){return g(o)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))}),b(n,i),ne()}const E4=n=>{QA(n,{class:"size-4"})};function I4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=ye(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=I(),s=T(i);const a=O(()=>et(Ys({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)),o=O(()=>e.children||E4);Z(s,()=>fk,(l,c)=>{c(l,Te({get class(){return g(a)},get children(){return g(o)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))}),b(n,i),ne()}function R4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"orientation",3,"horizontal"),i=ye(e,["$$slots","$$events","$$legacy","ref","class","orientation"]);var s=I(),a=T(s);const o=O(()=>et("bg-border shrink-0",r()==="horizontal"?"h-[1px] w-full":"min-h-full w-[1px]",e.class));Z(a,()=>mT,(l,c)=>{c(l,Te({get class(){return g(o)},get orientation(){return r()}},()=>i,{get ref(){return t()},set ref(u){t(u)}}))}),b(n,s),ne()}var N4=$("Due Date <!>",1),F4=$(" <!>",1),L4=$('<div class="flex items-center gap-1"><!> <!></div>'),j4=$('<!> <!> <div class="m-3"><!></div>',1),B4=$("<!> <!>",1);function z4(n,e){te(e,!0);let t=ve(""),r=ve(void 0),i=ve(null);yi(()=>{if(e.task.dueDate===0)return;let c=$t(e.task.dueDate,Sn());J(r,qy(c),!0);let u=_1(c);J(t,`${u.hour}:${u.minute}`)});async function s(){if(!g(r)||g(t)==="")return;const c=Wy(Sn()),u=g(t).split(":").map(Number)[0],d=g(t).split(":").map(Number)[1],f=new Zn(g(r).year,g(r).month,g(r).day,Sn(),c.offset,u,d).toDate().getTime();e.project.updateInProject(`Tasks[Id=${e.task.id}].DueDate`,f)}async function a(c){c.stopPropagation(),e.project.updateInProject(`Tasks[Id=${e.task.id}].DueDate`,0)}var o=I(),l=T(o);Z(l,()=>qg,(c,u)=>{u(c,{children:(d,h)=>{var f=B4(),m=T(f);Z(m,()=>Xg,(v,y)=>{y(v,{children:(_,w)=>{$0(_,{class:"pl-2 pr-0.5",onclick:s,children:(x,k)=>{var A=L4(),C=ee(A);XA(C,{size:"12"});var E=q(C,2);{var R=F=>{var B=N4(),K=q(T(B));e_(K,{size:"15"}),b(F,B)},U=F=>{var B=F4(),K=T(B),Y=q(K);Z(Y,()=>zy,(D,L)=>{L(D,{class:`
        inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
        disabled:pointer-events-none disabled:opacity-50`,onclick:a,children:(W,j)=>{t_(W,{size:"15"})},$$slots:{default:!0}})}),de((D,L)=>Xe(K,`${D??""}

                    ${L??""} `),[()=>new Date(e.task.dueDate).toLocaleString("default",{month:"long"}),()=>new Date(e.task.dueDate).toLocaleString("default",{day:"numeric"})]),b(F,B)};pe(E,F=>{e.task.dueDate===0?F(R):F(U,!1)})}Q(A),b(x,A)},$$slots:{default:!0}})},$$slots:{default:!0}})});var p=q(m,2);Z(p,()=>Kg,(v,y)=>{y(v,{class:"w-auto p-0",get ref(){return g(i)},set ref(_){J(i,_,!0)},children:(_,w)=>{var x=j4(),k=T(x);b4(k,{type:"single",onValueChange:s,class:"rounded-md border",get value(){return g(r)},set value(R){J(r,R,!0)}});var A=q(k,2);R4(A,{class:"my-3"});var C=q(A,2),E=ee(C);ir(E,{type:"time",onchange:s,get value(){return g(t)},set value(R){J(t,R,!0)}}),Q(C),b(_,x)},$$slots:{default:!0}})}),b(d,f)},$$slots:{default:!0}})}),b(n,o),ne()}var V4=$("Time Estimate <!>",1),U4=$(" <!>",1),W4=$('<div class="flex items-center gap-1"><!> <!></div>'),H4=$('<div class="flex items-center gap-3 p-2"><!> <!></div>'),Z4=$("<!> <!>",1);function Y4(n,e){te(e,!0);let t=ve(void 0),r=ve(null),i=ve(!1);Qe(()=>{J(t,e.task.timeEstimate===0?"":(e.task.timeEstimate/1e3/60/60).toString(),!0)});async function s(){J(i,!1);let c=Number(g(t));isNaN(c)&&(c=0),c=Math.round(c*10)/10;let u=c*60*60*1e3;J(t,c.toString(),!0),e.project.updateInProject(`Tasks[Id=${e.task.id}].TimeEstimate`,u)}async function a(c){c.stopPropagation(),J(i,!1),e.project.updateInProject(`Tasks[Id=${e.task.id}].TimeEstimate`,0)}var o=I(),l=T(o);Z(l,()=>qg,(c,u)=>{u(c,{get open(){return g(i)},set open(d){J(i,d,!0)},children:(d,h)=>{var f=Z4(),m=T(f);Z(m,()=>Xg,(v,y)=>{y(v,{children:(_,w)=>{$0(_,{class:"pl-2 pr-0.5",onclick:s,children:(x,k)=>{var A=W4(),C=ee(A);nM(C,{size:"12"});var E=q(C,2);{var R=F=>{var B=V4(),K=q(T(B));e_(K,{size:"15"}),b(F,B)},U=F=>{var B=U4(),K=T(B),Y=q(K);Z(Y,()=>zy,(D,L)=>{L(D,{class:`
        inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
        disabled:pointer-events-none disabled:opacity-50`,onclick:a,children:(W,j)=>{t_(W,{size:"15"})},$$slots:{default:!0}})}),de(()=>Xe(K,`${e.task.timeEstimate/1e3/60/60} Hrs `)),b(F,B)};pe(E,F=>{e.task.timeEstimate===0?F(R):F(U,!1)})}Q(A),b(x,A)},$$slots:{default:!0}})},$$slots:{default:!0}})});var p=q(m,2);Z(p,()=>Kg,(v,y)=>{y(v,{class:"w-auto p-0",get ref(){return g(r)},set ref(_){J(r,_,!0)},children:(_,w)=>{var x=H4(),k=ee(x);ir(k,{id:"estimate",onchange:s,get value(){return g(t)},set value(C){J(t,C,!0)}});var A=q(k,2);hc(A,{for:"estimate",children:(C,E)=>{De();var R=Ee("Hours");b(C,R)},$$slots:{default:!0}}),Q(x),b(_,x)},$$slots:{default:!0}})}),b(d,f)},$$slots:{default:!0}})}),b(n,o),ne()}function $4(n,e){te(e,!0);let t=S(e,"ref",15,null),r=S(e,"align",3,"center"),i=S(e,"sideOffset",3,4),s=ye(e,["$$slots","$$events","$$legacy","ref","class","align","sideOffset","portalProps"]);var a=I(),o=T(a);Z(o,()=>gg,(l,c)=>{c(l,Te(()=>e.portalProps,{children:(u,d)=>{var h=I(),f=T(h);const m=O(()=>et("bg-popover text-popover-foreground z-50 mt-3 w-64 rounded-md border p-4 shadow-md outline-none",e.class));Z(f,()=>vA,(p,v)=>{v(p,Te({get align(){return r()},get sideOffset(){return i()},get class(){return g(m)}},()=>s,{get ref(){return t()},set ref(y){t(y)}}))}),b(u,h)},$$slots:{default:!0}}))}),b(n,a),ne()}const G4=hA,K4=bA;var q4=$('<!> <small class="text-sm font-medium leading-none">Sessions</small>',1),X4=$('<!> <small class="w-10 text-sm font-medium leading-none"> </small>',1),J4=$('<div class="inline-block"><div class="flex items-center justify-center gap-1 p-2"><!></div></div>'),Q4=$('<div class="flex items-center gap-1"><div class="inline-block"><!></div> <p> </p></div>'),eL=$("<!> <!>",1);function tL(n,e){te(e,!0);const t=y=>{var _=J4(),w=ee(_),x=ee(w);{var k=C=>{var E=q4(),R=T(E);en(R,{class:"rounded-full",variant:"outline",size:"icon",onclick:d,children:(U,F)=>{rM(U,{})},$$slots:{default:!0}}),De(2),b(C,E)},A=(C,E)=>{{var R=U=>{var F=X4(),B=T(F);en(B,{class:"rounded-full",variant:"outline",size:"icon",onclick:h,children:(D,L)=>{iM(D,{})},$$slots:{default:!0}});var K=q(B,2),Y=ee(K,!0);Q(K),de(()=>Xe(Y,g(a))),b(U,F)};pe(C,U=>{g(s)==="Running"&&U(R)},E)}};pe(x,C=>{g(s)==="NotStarted"?C(k):C(A,!1)})}Q(w),Q(_),b(y,_)};let r=S(e,"progress",15),i=O(()=>e.task.sessions.filter(_=>_.user===localStorage.myId).find(_=>_.startTime!=0&&_.endTime===0)),s=O(()=>g(i)==null?"NotStarted":"Running"),a=ve(""),o=O(()=>{if(e.task.timeEstimate===0)return 0;let y=0;for(const _ of e.task.sessions)_.endTime!=0&&(y+=_.endTime-_.startTime);return y}),l=O(()=>e.task.timeEstimate===0?1:e.task.timeEstimate),c=O(()=>{let y=e.task.sessions.filter(x=>x.endTime!=0),_=Object.groupBy(y,({user:x})=>x),w=[];for(const[x,k]of Object.entries(_)){let A=0;if(k==null)continue;for(const E of k)E.endTime!=0&&(A+=E.endTime-E.startTime);let C=Math.floor(A/1e3);w.push({id:x,time:`${Math.floor(C/60).toString().padStart(2,"0")}:${(C%60).toString().padStart(2,"0")}`})}return w}),u=O(()=>e.task.sessions.filter(y=>y.endTime!=0).length<=0);const d=()=>{e.project.appendInProject(`Tasks[Id=${e.task.id}].Sessions`,{id:crypto.randomUUID(),startTime:Date.now(),endTime:0,user:localStorage.myId})},h=()=>{if(g(i)){e.project.updateInProject(`Tasks[Id=${e.task.id}].Sessions[Id=${g(i).id}].EndTime`,Date.now());let y=Math.floor((Date.now()-g(i).startTime)/1e3);ch("seconds",y)}else Ny.error("Failed to stop session")};yi(()=>{const y=setInterval(()=>{if(g(i)){let _=Math.floor((Date.now()-g(i).startTime)/1e3);J(a,`${Math.floor(_/60).toString().padStart(2,"0")}:${(_%60).toString().padStart(2,"0")}`)}else J(a,"00:00")},1e3);return()=>clearInterval(y)}),Qe(()=>{r(100*(g(o)??0)/(g(l)??1))});var f=I(),m=T(f);{var p=y=>{t(y)},v=y=>{var _=I(),w=T(_);Z(w,()=>G4,(x,k)=>{k(x,{children:(A,C)=>{var E=eL(),R=T(E);Z(R,()=>K4,(F,B)=>{B(F,{children:(K,Y)=>{t(K)},$$slots:{default:!0}})});var U=q(R,2);Z(U,()=>$4,(F,B)=>{B(F,{side:"bottom",align:"start",sideOffset:0,children:(K,Y)=>{var D=I(),L=T(D);Ot(L,17,()=>g(c),Ct,(W,j)=>{var H=Q4(),G=ee(H),le=ee(G);dg(le,{get project(){return e.project},get userID(){return g(j).id}}),Q(G);var ie=q(G,2),he=ee(ie,!0);Q(ie),Q(H),de(()=>Xe(he,g(j).time)),b(W,H)}),b(K,D)},$$slots:{default:!0}})}),b(A,E)},$$slots:{default:!0}})}),b(y,_)};pe(m,y=>{g(u)?y(p):y(v,!1)})}b(n,f),ne()}var nL=$('<h1 class="text-[1.2em] font-bold dark:text-white"> </h1> <p> </p>',1),rL=$("<p> </p>"),iL=$('<div class="grid grid-cols-3"><div class="col-span-1"><!></div> <div class="col-span-1"></div> <div class="col-span-1 flex flex-col items-end px-2"><!> <!></div> <div><!></div></div>'),sL=$("<!> <!>",1),aL=$('<!> <div class="relative h-2 w-full overflow-hidden"><div class="absolute h-full w-full transition-all"></div></div>',1),oL=(n,e,t,r)=>{J(e,gc.x,!0),J(t,gc.y,!0),J(r,!0)},lL=$('<div class="task bg-muted svelte-2a0a4y" role="presentation"><!></div>'),cL=$("<!> <!>",1);function uL(n,e){te(e,!0);const t=v=>{var y=aL(),_=T(y);Z(_,()=>t1,(k,A)=>{A(k,{type:"single",children:(C,E)=>{var R=I(),U=T(R);Z(U,()=>r1,(F,B)=>{B(F,{value:"1",class:"group",children:(K,Y)=>{var D=sL(),L=T(D);Z(L,()=>s1,(j,H)=>{H(j,{children:(G,le)=>{var ie=I(),he=T(ie);Z(he,()=>o1,(_e,Pe)=>{Pe(_e,{class:"w-full",children:(re,oe)=>{var ue=nL(),me=T(ue),ge=ee(me,!0);Q(me);var xe=q(me,2),Re=ee(xe,!0);Q(xe),de(Se=>{hs(me,Se),Xe(ge,r().title),Xe(Re,r().description)},[()=>`color: ${f(r().kanbanColumn)}`]),b(re,ue)},$$slots:{default:!0}})}),b(G,ie)},$$slots:{default:!0}})});var W=q(L,2);Z(W,()=>c1,(j,H)=>{H(j,{class:"overflow-hidden data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",onmousedown:G=>{G.stopPropagation()},onmouseup:G=>{G.stopPropagation()},children:(G,le)=>{var ie=iL(),he=ee(ie),_e=ee(he);tL(_e,{get project(){return e.project},get task(){return r()},get progress(){return g(i)},set progress(Se){J(i,Se,!0)}}),Q(he);var Pe=q(he,2);Ot(Pe,21,()=>g(s),Ct,(Se,Ne)=>{var Fe=rL(),Ve=ee(Fe,!0);Q(Fe),de(()=>Xe(Ve,g(Ne))),b(Se,Fe)}),Q(Pe);var re=q(Pe,2),oe=ee(re);z4(oe,{get project(){return e.project},get task(){return r()}});var ue=q(oe,2);Y4(ue,{get project(){return e.project},get task(){return r()}}),Q(re);var me=q(re,2),ge=ee(me);{var xe=Se=>{en(Se,{variant:"destructive",onclick:d,children:(Ne,Fe)=>{De();var Ve=Ee("Leave Task");b(Ne,Ve)},$$slots:{default:!0}})},Re=Se=>{en(Se,{onclick:d,children:(Ne,Fe)=>{De();var Ve=Ee("Join Task");b(Ne,Ve)},$$slots:{default:!0}})};pe(ge,Se=>{g(a)?Se(xe):Se(Re,!1)})}Q(me),Q(ie),b(G,ie)},$$slots:{default:!0}})}),b(K,D)},$$slots:{default:!0}})}),b(C,R)},$$slots:{default:!0}})});var w=q(_,2),x=ee(w);Q(w),de(k=>hs(x,k),[()=>`transform: translateX(-${100-Math.min(g(i)??0,100)}%);
                                    background-color: ${h(g(i))}`]),b(v,y)};let r=S(e,"task",7),i=ve(void 0),s=O(()=>r().assignees.map(v=>e.project.users.find(y=>y.id===v)).map(v=>`${v==null?void 0:v.firstName} ${v==null?void 0:v.lastName}`)),a=O(()=>r().assignees.includes(localStorage.myId)),o=ve(!1),l=ve(0),c=ve(0),u;function d(){r().assignees.includes(localStorage.myId)?r().assignees=r().assignees.filter(v=>v!==localStorage.myId):r().assignees.push(localStorage.myId),e.project.updateInProject(`Tasks[Id=${r().id}].Assignees`,r().assignees)}function h(v){return v<20?"#FF8C00":v<50?"#facc15":v<70?"#9ACD32":"#22c55e"}function f(v){return console.log(v),v==""&&g(i)==0?null:v==""?"#cc7a00":v=="progress"?"#99cc00":"#008000"}var m=I(),p=T(m);Z(p,()=>U_,(v,y)=>{y(v,{children:(_,w)=>{var x=cL(),k=T(x);Z(k,()=>W_,(C,E)=>{E(C,{children:(R,U)=>{var F=lL();F.__mousedown=[oL,l,c,o],F.__mouseup=K=>{setTimeout(()=>{J(o,!1)},100),u.hidden=!0;let Y=document.elementFromPoint(K.clientX,K.clientY);u.hidden=!1;let D=Y==null?void 0:Y.closest(".kanban-column");console.log(D),D!=null&&e.project.updateInProject(`Tasks[Id=${r().id}].KanbanColumn`,D.id)};var B=ee(F);t(B),Q(F),Dr(F,K=>u=K,()=>u),de(()=>hs(F,g(o)?`top:${gc.y-g(c)}px;left:${gc.x-g(l)}px`:"")),b(R,F)},$$slots:{default:!0}})});var A=q(k,2);Z(A,()=>V_,(C,E)=>{E(C,{children:(R,U)=>{var F=I(),B=T(F);Z(B,()=>Wh,(K,Y)=>{Y(K,{onclick:()=>{e.project.deleteInProject(`Tasks[Id=${r().id}]`)},children:(D,L)=>{De();var W=Ee("Delete");b(D,W)},$$slots:{default:!0}})}),b(R,F)},$$slots:{default:!0}})}),b(_,x)},$$slots:{default:!0}})}),b(n,m),ne()}og(["mousedown","mouseup"]);var dL=$('<div class="kanban-column border svelte-1kufj4z" role="list"><h1 class="text-[1.5em]"> </h1> <!></div>');function oh(n,e){te(e,!0);var t=dL(),r=ee(t),i=ee(r,!0);Q(r);var s=q(r,2);Ot(s,17,()=>e.project.tasks,Ct,(a,o)=>{var l=I(),c=T(l);{var u=d=>{uL(d,{get project(){return e.project},get task(){return g(o)}})};pe(c,d=>{g(o).kanbanColumn===e.columnId&&d(u)})}b(a,l)}),Q(t),de(()=>{ii(t,"id",e.columnId),Xe(i,e.columnName)}),b(n,t),ne()}var fL=$('<div class="board svelte-w4kwee"><!> <!> <!></div>');function hL(n,e){var t=fL(),r=ee(t);oh(r,{get project(){return e.project},columnName:"Not started",columnId:""});var i=q(r,2);oh(i,{get project(){return e.project},columnName:"In progress",columnId:"progress"});var s=q(i,2);oh(s,{get project(){return e.project},columnName:"Done",columnId:"done"}),Q(t),b(n,t)}var gL=$("<!> <!>",1);function mL(n,e){var t=I(),r=T(t);Z(r,()=>Xi,(i,s)=>{s(i,{value:"tasks",children:(a,o)=>{var l=gL(),c=T(l);g4(c,{get project(){return e.project},get data(){return e.data}});var u=q(c,2);hL(u,{get project(){return e.project}}),b(a,l)},$$slots:{default:!0}})}),b(n,t)}var pL=$('<a target="_blank" class="text-blue-500"> </a>'),vL=$('<p class="text-xl">Error</p>'),yL=$('<!> <div><p class="pb-8"> </p> <!></div>',1),bL=$("<!> <!> <!> <!> <!> <!> <!>",1),_L=(n,e)=>g(e).updateInProject("Title",n.currentTarget.value),xL=(n,e)=>g(e).select(""),wL=(n,e)=>g(e).select("a"),SL=(n,e)=>g(e).select("b"),kL=$('<h1> </h1> <p> </p> <p> </p> <input value="X" class="svelte-1dxedxv"> <button class="svelte-1dxedxv">Enable selector</button> <input type="radio" name="options" id="A" value="A" class="svelte-1dxedxv"> <label for="A">A</label> <input type="radio" name="options" id="B" value="B" class="svelte-1dxedxv"> <label for="B">B</label>',1),TL=$("<!> <!> <!> <!> <!> <!> <!> <!>",1),PL=$('<div class="p-5"><h2 class="scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight transition-colors first:mt-0"> </h2> <p class="my-5 leading-7 [&amp;:not(:first-child)]:mt-6"><!></p> <!> <!></div>'),AL=$("<p> </p>"),ML=$("<p>Loading project</p>"),OL=$("<!> <!>",1);function rj(n,e){te(e,!0);let t=ve(Kt(new Promise((c,u)=>{}))),r=ve(""),i=ve("tasks");yi(()=>{let c=new URLSearchParams(document.location.search);J(r,c.get("id")||"",!0),J(t,dw(g(r)),!0),J(i,c.get("tab")||"tasks",!0)}),Qe(()=>{let c=new URL(document.location.href);c.searchParams.set("tab",g(i)),window.history.pushState(null,"",c.toString())});let s=O(async()=>(await g(t)).description.split(" ").map(c=>({content:c+" ",isLink:c.startsWith("http")})));var a=OL(),o=T(a);Mx(o,{});var l=q(o,2);Pm(l,()=>g(t),c=>{var u=ML();b(c,u)},(c,u)=>{var d=PL(),h=ee(d),f=ee(h,!0);Q(h);var m=q(h,2),p=ee(m);Pm(p,()=>g(s),null,(_,w)=>{var x=I(),k=T(x);Ot(k,17,()=>g(w),Ct,(A,C)=>{var E=I(),R=T(E);{var U=B=>{var K=pL(),Y=ee(K,!0);Q(K),de(()=>{ii(K,"href",g(C).content),Xe(Y,g(C).content)}),b(B,K)},F=B=>{var K=Ee();de(()=>Xe(K,g(C).content)),b(B,K)};pe(R,B=>{g(C).isLink?B(U):B(F,!1)})}b(A,E)}),b(_,x)}),Q(m);var v=q(m,2);Z(v,()=>Is,(_,w)=>{w(_,{get open(){return g(u).showError},set open(x){g(u).showError=x},children:(x,k)=>{var A=I(),C=T(A);Z(C,()=>Rs,(E,R)=>{R(E,{children:(U,F)=>{var B=yL(),K=T(B);Z(K,()=>Ns,(j,H)=>{H(j,{children:(G,le)=>{var ie=vL();b(G,ie)},$$slots:{default:!0}})});var Y=q(K,2),D=ee(Y),L=ee(D,!0);Q(D);var W=q(D,2);en(W,{onclick:()=>{g(u).showError=!1},children:(j,H)=>{De();var G=Ee("Close");b(j,G)},$$slots:{default:!0}}),Q(Y),de(()=>Xe(L,g(u).error)),b(U,B)},$$slots:{default:!0}})}),b(x,A)},$$slots:{default:!0}})});var y=q(v,2);Z(y,()=>jO,(_,w)=>{w(_,{get value(){return g(i)},set value(x){J(i,x,!0)},children:(x,k)=>{var A=TL(),C=T(A);Z(C,()=>LO,(D,L)=>{L(D,{children:(W,j)=>{var H=bL(),G=T(H);Z(G,()=>Pi,(oe,ue)=>{ue(oe,{value:"tasks",children:(me,ge)=>{De();var xe=Ee("Task Board");b(me,xe)},$$slots:{default:!0}})});var le=q(G,2);Z(le,()=>Pi,(oe,ue)=>{ue(oe,{value:"calendar",children:(me,ge)=>{De();var xe=Ee("Calendar");b(me,xe)},$$slots:{default:!0}})});var ie=q(le,2);Z(ie,()=>Pi,(oe,ue)=>{ue(oe,{value:"availability",children:(me,ge)=>{De();var xe=Ee("Availability");b(me,xe)},$$slots:{default:!0}})});var he=q(ie,2);Z(he,()=>Pi,(oe,ue)=>{ue(oe,{value:"stats",children:(me,ge)=>{De();var xe=Ee("Stats");b(me,xe)},$$slots:{default:!0}})});var _e=q(he,2);Z(_e,()=>Pi,(oe,ue)=>{ue(oe,{value:"polls",children:(me,ge)=>{De();var xe=Ee("Polls");b(me,xe)},$$slots:{default:!0}})});var Pe=q(_e,2);Z(Pe,()=>Pi,(oe,ue)=>{ue(oe,{value:"settings",children:(me,ge)=>{De();var xe=Ee("Settings");b(me,xe)},$$slots:{default:!0}})});var re=q(Pe,2);Z(re,()=>Pi,(oe,ue)=>{ue(oe,{value:"debug",children:(me,ge)=>{De();var xe=Ee("Debugging");b(me,xe)},$$slots:{default:!0}})}),b(W,H)},$$slots:{default:!0}})});var E=q(C,2);mL(E,{get project(){return g(u)},get data(){return e.data}});var R=q(E,2);NC(R,{get project(){return g(u)}});var U=q(R,2);DC(U,{get project(){return g(u)}});var F=q(U,2);tE(F,{get project(){return g(u)},get data(){return e.data}});var B=q(F,2);pE(B,{get project(){return g(u)}});var K=q(B,2);KF(K,{get project(){return g(u)}});var Y=q(K,2);Z(Y,()=>Xi,(D,L)=>{L(D,{value:"debug",children:(W,j)=>{var H=kL(),G=T(H),le=ee(G);Q(G);var ie=q(G,2),he=ee(ie);Q(ie);var _e=q(ie,2),Pe=ee(_e);Q(_e);var re=q(_e,2);re.__input=[_L,u];var oe=q(re,2);oe.__click=[xL,u];var ue=q(oe,2);Da(ue),ue.__input=[wL,u];var me=q(ue,4);Da(me),me.__input=[SL,u],De(2),de(()=>{Xe(le,`Project page for ${g(u).title??""}!`),Xe(he,`Description: ${g(u).description??""}`),Xe(Pe,`Project ID: ${g(u).id??""}`),Mm(ue,g(u).demoButtonState==="a"),ue.disabled=g(u).demoButtonState!=="",Mm(me,g(u).demoButtonState==="b"),me.disabled=g(u).demoButtonState!==""}),b(W,H)},$$slots:{default:!0}})}),b(x,A)},$$slots:{default:!0}})}),Q(d),de(()=>Xe(f,g(u).title)),b(c,d)},(c,u)=>{var d=AL(),h=ee(d,!0);Q(d),de(()=>Xe(h,g(u))),b(c,d)}),b(n,a),ne()}og(["input","click"]);export{rj as component,ej as universal};
